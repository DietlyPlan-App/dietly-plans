var HS=Object.defineProperty;var zS=(t,e,n)=>e in t?HS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Cn=(t,e,n)=>zS(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var f7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ab(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t0={exports:{}},Af={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function GS(){if(bv)return Af;bv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:t,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Af.Fragment=e,Af.jsx=n,Af.jsxs=n,Af}var wv;function jS(){return wv||(wv=1,t0.exports=GS()),t0.exports}var L=jS(),n0={exports:{}},Ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function VS(){if(_v)return Ht;_v=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function b($){return $===null||typeof $!="object"?null:($=S&&$[S]||$["@@iterator"],typeof $=="function"?$:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,k={};function I($,M,G){this.props=$,this.context=M,this.refs=k,this.updater=G||N}I.prototype.isReactComponent={},I.prototype.setState=function($,M){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,M,"setState")},I.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F(){}F.prototype=I.prototype;function U($,M,G){this.props=$,this.context=M,this.refs=k,this.updater=G||N}var H=U.prototype=new F;H.constructor=U,T(H,I.prototype),H.isPureReactComponent=!0;var ae=Array.isArray;function de(){}var re={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function V($,M,G){var Y=G.ref;return{$$typeof:t,type:$,key:M,ref:Y!==void 0?Y:null,props:G}}function ge($,M){return V($.type,M,$.props)}function q($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function W($){var M={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(G){return M[G]})}var ie=/\/+/g;function te($,M){return typeof $=="object"&&$!==null&&$.key!=null?W(""+$.key):M.toString(36)}function Se($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(de,de):($.status="pending",$.then(function(M){$.status==="pending"&&($.status="fulfilled",$.value=M)},function(M){$.status==="pending"&&($.status="rejected",$.reason=M)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ee($,M,G,Y,ne){var oe=typeof $;(oe==="undefined"||oe==="boolean")&&($=null);var ve=!1;if($===null)ve=!0;else switch(oe){case"bigint":case"string":case"number":ve=!0;break;case"object":switch($.$$typeof){case t:case e:ve=!0;break;case p:return ve=$._init,ee(ve($._payload),M,G,Y,ne)}}if(ve)return ne=ne($),ve=Y===""?"."+te($,0):Y,ae(ne)?(G="",ve!=null&&(G=ve.replace(ie,"$&/")+"/"),ee(ne,M,G,"",function(De){return De})):ne!=null&&(q(ne)&&(ne=ge(ne,G+(ne.key==null||$&&$.key===ne.key?"":(""+ne.key).replace(ie,"$&/")+"/")+ve)),M.push(ne)),1;ve=0;var Te=Y===""?".":Y+":";if(ae($))for(var Ce=0;Ce<$.length;Ce++)Y=$[Ce],oe=Te+te(Y,Ce),ve+=ee(Y,M,G,oe,ne);else if(Ce=b($),typeof Ce=="function")for($=Ce.call($),Ce=0;!(Y=$.next()).done;)Y=Y.value,oe=Te+te(Y,Ce++),ve+=ee(Y,M,G,oe,ne);else if(oe==="object"){if(typeof $.then=="function")return ee(Se($),M,G,Y,ne);throw M=String($),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ve}function ce($,M,G){if($==null)return $;var Y=[],ne=0;return ee($,Y,"","",function(oe){return M.call(G,oe,ne++)}),Y}function he($){if($._status===-1){var M=$._result;M=M(),M.then(function(G){($._status===0||$._status===-1)&&($._status=1,$._result=G)},function(G){($._status===0||$._status===-1)&&($._status=2,$._result=G)}),$._status===-1&&($._status=0,$._result=M)}if($._status===1)return $._result.default;throw $._result}var le=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ke={map:ce,forEach:function($,M,G){ce($,function(){M.apply(this,arguments)},G)},count:function($){var M=0;return ce($,function(){M++}),M},toArray:function($){return ce($,function(M){return M})||[]},only:function($){if(!q($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Ht.Activity=w,Ht.Children=ke,Ht.Component=I,Ht.Fragment=n,Ht.Profiler=s,Ht.PureComponent=U,Ht.StrictMode=i,Ht.Suspense=d,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Ht.__COMPILER_RUNTIME={__proto__:null,c:function($){return re.H.useMemoCache($)}},Ht.cache=function($){return function(){return $.apply(null,arguments)}},Ht.cacheSignal=function(){return null},Ht.cloneElement=function($,M,G){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var Y=T({},$.props),ne=$.key;if(M!=null)for(oe in M.key!==void 0&&(ne=""+M.key),M)!se.call(M,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&M.ref===void 0||(Y[oe]=M[oe]);var oe=arguments.length-2;if(oe===1)Y.children=G;else if(1<oe){for(var ve=Array(oe),Te=0;Te<oe;Te++)ve[Te]=arguments[Te+2];Y.children=ve}return V($.type,ne,Y)},Ht.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},Ht.createElement=function($,M,G){var Y,ne={},oe=null;if(M!=null)for(Y in M.key!==void 0&&(oe=""+M.key),M)se.call(M,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ne[Y]=M[Y]);var ve=arguments.length-2;if(ve===1)ne.children=G;else if(1<ve){for(var Te=Array(ve),Ce=0;Ce<ve;Ce++)Te[Ce]=arguments[Ce+2];ne.children=Te}if($&&$.defaultProps)for(Y in ve=$.defaultProps,ve)ne[Y]===void 0&&(ne[Y]=ve[Y]);return V($,oe,ne)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function($){return{$$typeof:c,render:$}},Ht.isValidElement=q,Ht.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:he}},Ht.memo=function($,M){return{$$typeof:f,type:$,compare:M===void 0?null:M}},Ht.startTransition=function($){var M=re.T,G={};re.T=G;try{var Y=$(),ne=re.S;ne!==null&&ne(G,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(de,le)}catch(oe){le(oe)}finally{M!==null&&G.types!==null&&(M.types=G.types),re.T=M}},Ht.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Ht.use=function($){return re.H.use($)},Ht.useActionState=function($,M,G){return re.H.useActionState($,M,G)},Ht.useCallback=function($,M){return re.H.useCallback($,M)},Ht.useContext=function($){return re.H.useContext($)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function($,M){return re.H.useDeferredValue($,M)},Ht.useEffect=function($,M){return re.H.useEffect($,M)},Ht.useEffectEvent=function($){return re.H.useEffectEvent($)},Ht.useId=function(){return re.H.useId()},Ht.useImperativeHandle=function($,M,G){return re.H.useImperativeHandle($,M,G)},Ht.useInsertionEffect=function($,M){return re.H.useInsertionEffect($,M)},Ht.useLayoutEffect=function($,M){return re.H.useLayoutEffect($,M)},Ht.useMemo=function($,M){return re.H.useMemo($,M)},Ht.useOptimistic=function($,M){return re.H.useOptimistic($,M)},Ht.useReducer=function($,M,G){return re.H.useReducer($,M,G)},Ht.useRef=function($){return re.H.useRef($)},Ht.useState=function($){return re.H.useState($)},Ht.useSyncExternalStore=function($,M,G){return re.H.useSyncExternalStore($,M,G)},Ht.useTransition=function(){return re.H.useTransition()},Ht.version="19.2.3",Ht}var Sv;function Og(){return Sv||(Sv=1,n0.exports=VS()),n0.exports}var cn=Og();const $S=ab(cn);var i0={exports:{}},Ef={},r0={exports:{}},s0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function JS(){return xv||(xv=1,(function(t){function e(ee,ce){var he=ee.length;ee.push(ce);e:for(;0<he;){var le=he-1>>>1,ke=ee[le];if(0<s(ke,ce))ee[le]=ce,ee[he]=ke,he=le;else break e}}function n(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var ce=ee[0],he=ee.pop();if(he!==ce){ee[0]=he;e:for(var le=0,ke=ee.length,$=ke>>>1;le<$;){var M=2*(le+1)-1,G=ee[M],Y=M+1,ne=ee[Y];if(0>s(G,he))Y<ke&&0>s(ne,G)?(ee[le]=ne,ee[Y]=he,le=Y):(ee[le]=G,ee[M]=he,le=M);else if(Y<ke&&0>s(ne,he))ee[le]=ne,ee[Y]=he,le=Y;else break e}}return ce}function s(ee,ce){var he=ee.sortIndex-ce.sortIndex;return he!==0?he:ee.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,w=null,S=3,b=!1,N=!1,T=!1,k=!1,I=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function H(ee){for(var ce=n(f);ce!==null;){if(ce.callback===null)i(f);else if(ce.startTime<=ee)i(f),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=n(f)}}function ae(ee){if(T=!1,H(ee),!N)if(n(d)!==null)N=!0,de||(de=!0,W());else{var ce=n(f);ce!==null&&Se(ae,ce.startTime-ee)}}var de=!1,re=-1,se=5,V=-1;function ge(){return k?!0:!(t.unstable_now()-V<se)}function q(){if(k=!1,de){var ee=t.unstable_now();V=ee;var ce=!0;try{e:{N=!1,T&&(T=!1,F(re),re=-1),b=!0;var he=S;try{t:{for(H(ee),w=n(d);w!==null&&!(w.expirationTime>ee&&ge());){var le=w.callback;if(typeof le=="function"){w.callback=null,S=w.priorityLevel;var ke=le(w.expirationTime<=ee);if(ee=t.unstable_now(),typeof ke=="function"){w.callback=ke,H(ee),ce=!0;break t}w===n(d)&&i(d),H(ee)}else i(d);w=n(d)}if(w!==null)ce=!0;else{var $=n(f);$!==null&&Se(ae,$.startTime-ee),ce=!1}}break e}finally{w=null,S=he,b=!1}ce=void 0}}finally{ce?W():de=!1}}}var W;if(typeof U=="function")W=function(){U(q)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,te=ie.port2;ie.port1.onmessage=q,W=function(){te.postMessage(null)}}else W=function(){I(q,0)};function Se(ee,ce){re=I(function(){ee(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(ee){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var he=S;S=ce;try{return ee()}finally{S=he}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var he=S;S=ee;try{return ce()}finally{S=he}},t.unstable_scheduleCallback=function(ee,ce,he){var le=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?le+he:le):he=le,ee){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=he+ke,ee={id:p++,callback:ce,priorityLevel:ee,startTime:he,expirationTime:ke,sortIndex:-1},he>le?(ee.sortIndex=he,e(f,ee),n(d)===null&&ee===n(f)&&(T?(F(re),re=-1):T=!0,Se(ae,he-le))):(ee.sortIndex=ke,e(d,ee),N||b||(N=!0,de||(de=!0,W()))),ee},t.unstable_shouldYield=ge,t.unstable_wrapCallback=function(ee){var ce=S;return function(){var he=S;S=ce;try{return ee.apply(this,arguments)}finally{S=he}}}})(s0)),s0}var Av;function WS(){return Av||(Av=1,r0.exports=JS()),r0.exports}var o0={exports:{}},pr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function YS(){if(Ev)return pr;Ev=1;var t=Og();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,f,p){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:w==null?null:""+w,children:d,containerInfo:f,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return pr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pr.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,p)},pr.flushSync=function(d){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=p,i.d.f()}},pr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},pr.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},pr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,w=c(p,f.crossOrigin),S=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:b}):p==="script"&&i.d.X(d,{crossOrigin:w,integrity:S,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},pr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},pr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,w=c(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:w,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},pr.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},pr.requestFormReset=function(d){i.d.r(d)},pr.unstable_batchedUpdates=function(d,f){return d(f)},pr.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},pr.useFormStatus=function(){return l.H.useHostTransitionStatus()},pr.version="19.2.3",pr}var Tv;function KS(){if(Tv)return o0.exports;Tv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),o0.exports=YS(),o0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function XS(){if(Nv)return Ef;Nv=1;var t=WS(),e=Og(),n=KS();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function d(r){if(a(r)!==r)throw Error(i(188))}function f(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,h=o;;){var y=u.return;if(y===null)break;var x=y.alternate;if(x===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===u)return d(y),r;if(x===h)return d(y),o;x=x.sibling}throw Error(i(188))}if(u.return!==h.return)u=y,h=x;else{for(var R=!1,z=y.child;z;){if(z===u){R=!0,u=y,h=x;break}if(z===h){R=!0,h=y,u=x;break}z=z.sibling}if(!R){for(z=x.child;z;){if(z===u){R=!0,u=x,h=y;break}if(z===h){R=!0,h=x,u=y;break}z=z.sibling}if(!R)throw Error(i(189))}}if(u.alternate!==h)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function p(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=p(r),o!==null)return o;r=r.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),U=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var ie=Symbol.for("react.client.reference");function te(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ie?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case I:return"Profiler";case k:return"StrictMode";case ae:return"Suspense";case de:return"SuspenseList";case V:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case U:return r.displayName||"Context";case F:return(r._context.displayName||"Context")+".Consumer";case H:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case re:return o=r.displayName||null,o!==null?o:te(r.type)||"Memo";case se:o=r._payload,r=r._init;try{return te(r(o))}catch{}}return null}var Se=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},le=[],ke=-1;function $(r){return{current:r}}function M(r){0>ke||(r.current=le[ke],le[ke]=null,ke--)}function G(r,o){ke++,le[ke]=r.current,r.current=o}var Y=$(null),ne=$(null),oe=$(null),ve=$(null);function Te(r,o){switch(G(oe,o),G(ne,r),G(Y,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?z1(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=z1(o),r=G1(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}M(Y),G(Y,r)}function Ce(){M(Y),M(ne),M(oe)}function De(r){r.memoizedState!==null&&G(ve,r);var o=Y.current,u=G1(o,r.type);o!==u&&(G(ne,r),G(Y,u))}function Ge(r){ne.current===r&&(M(Y),M(ne)),ve.current===r&&(M(ve),wf._currentValue=he)}var Je,We;function rt(r){if(Je===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Je=o&&o[1]||"",We=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Je+r+We}var K=!1;function $e(r,o){if(!r||K)return"";K=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var Fe=function(){throw Error()};if(Object.defineProperty(Fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Fe,[])}catch(Ie){var Re=Ie}Reflect.construct(r,[],Fe)}else{try{Fe.call()}catch(Ie){Re=Ie}r.call(Fe.prototype)}}else{try{throw Error()}catch(Ie){Re=Ie}(Fe=r())&&typeof Fe.catch=="function"&&Fe.catch(function(){})}}catch(Ie){if(Ie&&Re&&typeof Ie.stack=="string")return[Ie.stack,Re.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),R=x[0],z=x[1];if(R&&z){var ue=R.split(`
`),Ne=z.split(`
`);for(y=h=0;h<ue.length&&!ue[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Ne.length&&!Ne[y].includes("DetermineComponentFrameRoot");)y++;if(h===ue.length||y===Ne.length)for(h=ue.length-1,y=Ne.length-1;1<=h&&0<=y&&ue[h]!==Ne[y];)y--;for(;1<=h&&0<=y;h--,y--)if(ue[h]!==Ne[y]){if(h!==1||y!==1)do if(h--,y--,0>y||ue[h]!==Ne[y]){var Pe=`
`+ue[h].replace(" at new "," at ");return r.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",r.displayName)),Pe}while(1<=h&&0<=y);break}}}finally{K=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?rt(u):""}function Vt(r,o){switch(r.tag){case 26:case 27:case 5:return rt(r.type);case 16:return rt("Lazy");case 13:return r.child!==o&&o!==null?rt("Suspense Fallback"):rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return $e(r.type,!1);case 11:return $e(r.type.render,!1);case 1:return $e(r.type,!0);case 31:return rt("Activity");default:return""}}function bt(r){try{var o="",u=null;do o+=Vt(r,u),u=r,r=r.return;while(r);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ze=Object.prototype.hasOwnProperty,gt=t.unstable_scheduleCallback,Ze=t.unstable_cancelCallback,wt=t.unstable_shouldYield,dt=t.unstable_requestPaint,Bt=t.unstable_now,Kt=t.unstable_getCurrentPriorityLevel,Pt=t.unstable_ImmediatePriority,Xt=t.unstable_UserBlockingPriority,$t=t.unstable_NormalPriority,st=t.unstable_LowPriority,Dt=t.unstable_IdlePriority,lt=t.log,ti=t.unstable_setDisableYieldValue,Yt=null,_t=null;function kt(r){if(typeof lt=="function"&&ti(r),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Yt,r)}catch{}}var Zt=Math.clz32?Math.clz32:Et,mt=Math.log,kn=Math.LN2;function Et(r){return r>>>=0,r===0?32:31-(mt(r)/kn|0)|0}var It=256,xn=262144,Gt=4194304;function ut(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function on(r,o,u){var h=r.pendingLanes;if(h===0)return 0;var y=0,x=r.suspendedLanes,R=r.pingedLanes;r=r.warmLanes;var z=h&134217727;return z!==0?(h=z&~x,h!==0?y=ut(h):(R&=z,R!==0?y=ut(R):u||(u=z&~r,u!==0&&(y=ut(u))))):(z=h&~x,z!==0?y=ut(z):R!==0?y=ut(R):u||(u=h&~r,u!==0&&(y=ut(u)))),y===0?0:o!==0&&o!==y&&(o&x)===0&&(x=y&-y,u=o&-o,x>=u||x===32&&(u&4194048)!==0)?o:y}function Qr(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function ji(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ss(){var r=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),r}function Mr(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function ht(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function js(r,o,u,h,y,x){var R=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var z=r.entanglements,ue=r.expirationTimes,Ne=r.hiddenUpdates;for(u=R&~u;0<u;){var Pe=31-Zt(u),Fe=1<<Pe;z[Pe]=0,ue[Pe]=-1;var Re=Ne[Pe];if(Re!==null)for(Ne[Pe]=null,Pe=0;Pe<Re.length;Pe++){var Ie=Re[Pe];Ie!==null&&(Ie.lane&=-536870913)}u&=~Fe}h!==0&&xs(r,h,0),x!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=x&~(R&~o))}function xs(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var h=31-Zt(o);r.entangledLanes|=o,r.entanglements[h]=r.entanglements[h]|1073741824|u&261930}function wr(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var h=31-Zt(u),y=1<<h;y&o|r[h]&o&&(r[h]|=o),u&=~y}}function _r(r,o){var u=o&-o;return u=(u&42)!==0?1:Hn(u),(u&(r.suspendedLanes|o))!==0?0:u}function Hn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ui(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ni(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:dv(r.type))}function ko(r,o){var u=ce.p;try{return ce.p=r,o()}finally{ce.p=u}}var er=Math.random().toString(36).slice(2),An="__reactFiber$"+er,Gn="__reactProps$"+er,Vi="__reactContainer$"+er,Sr="__reactEvents$"+er,Pr="__reactListeners$"+er,ea="__reactHandles$"+er,es="__reactResources$"+er,ts="__reactMarker$"+er;function Io(r){delete r[An],delete r[Gn],delete r[Sr],delete r[Pr],delete r[ea]}function ns(r){var o=r[An];if(o)return o;for(var u=r.parentNode;u;){if(o=u[Vi]||u[An]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=K1(r);r!==null;){if(u=r[An])return u;r=K1(r)}return o}r=u,u=r.parentNode}return null}function is(r){if(r=r[An]||r[Vi]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function ta(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function As(r){var o=r[es];return o||(o=r[es]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ni(r){r[ts]=!0}var Cl=new Set,xr={};function rs(r,o){Vs(r,o),Vs(r+"Capture",o)}function Vs(r,o){for(xr[r]=o,r=0;r<o.length;r++)Cl.add(o[r])}var Rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kl={},Il={};function _u(r){return ze.call(Il,r)?!0:ze.call(kl,r)?!1:Rl.test(r)?Il[r]=!0:(kl[r]=!0,!1)}function Ar(r,o,u){if(_u(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function $s(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function ss(r,o,u,h){if(h===null)r.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+h)}}function pn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ll(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Es(r,o,u){var h=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,x=h.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(R){u=""+R,x.call(this,R)}}),Object.defineProperty(r,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(R){u=""+R},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Lo(r){if(!r._valueTracker){var o=Ll(r)?"checked":"value";r._valueTracker=Es(r,o,""+r[o])}}function Ml(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return r&&(h=Ll(r)?r.checked?"true":"false":r.value),r=h,r!==u?(o.setValue(r),!0):!1}function tr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var wi=/[\n"\\]/g;function ci(r){return r.replace(wi,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function qa(r,o,u,h,y,x,R,z){r.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.type=R:r.removeAttribute("type"),o!=null?R==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+pn(o)):r.value!==""+pn(o)&&(r.value=""+pn(o)):R!=="submit"&&R!=="reset"||r.removeAttribute("value"),o!=null?Pl(r,R,pn(o)):u!=null?Pl(r,R,pn(u)):h!=null&&r.removeAttribute("value"),y==null&&x!=null&&(r.defaultChecked=!!x),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?r.name=""+pn(z):r.removeAttribute("name")}function Su(r,o,u,h,y,x,R,z){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),o!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){Lo(r);return}u=u!=null?""+pn(u):"",o=o!=null?""+pn(o):u,z||o===r.value||(r.value=o),r.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=z?r.checked:!!h,r.defaultChecked=!!h,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(r.name=R),Lo(r)}function Pl(r,o,u){o==="number"&&tr(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function nr(r,o,u,h){if(r=r.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<r.length;u++)y=o.hasOwnProperty("$"+r[u].value),r[u].selected!==y&&(r[u].selected=y),y&&h&&(r[u].defaultSelected=!0)}else{for(u=""+pn(u),o=null,y=0;y<r.length;y++){if(r[y].value===u){r[y].selected=!0,h&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function Dl(r,o,u){if(o!=null&&(o=""+pn(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+pn(u):""}function Ul(r,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(i(92));if(Se(h)){if(1<h.length)throw Error(i(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=pn(o),r.defaultValue=u,h=r.textContent,h===u&&h!==""&&h!==null&&(r.value=h),Lo(r)}function os(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xu(r,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":h?r.setProperty(o,u):typeof u!="number"||u===0||na.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function Au(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&u[y]!==h&&xu(r,y,h)}else for(var x in o)o.hasOwnProperty(x)&&xu(r,x,o[x])}function Ol(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fr(r){return Eu.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function as(){}var Js=null;function ia(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Mo=null,xt=null;function Tu(r){var o=is(r);if(o&&(r=o.stateNode)){var u=r[Gn]||null;e:switch(r=o.stateNode,o.type){case"input":if(qa(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ci(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==r&&h.form===r.form){var y=h[Gn]||null;if(!y)throw Error(i(90));qa(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===r.form&&Ml(h)}break e;case"textarea":Dl(r,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&nr(r,!!u.multiple,o,!1)}}}var Fl=!1;function Nu(r,o,u){if(Fl)return r(o,u);Fl=!0;try{var h=r(o);return h}finally{if(Fl=!1,(Mo!==null||xt!==null)&&(vd(),Mo&&(o=Mo,r=xt,xt=Mo=null,Tu(o),r)))for(o=0;o<r.length;o++)Tu(r[o])}}function Er(r,o){var u=r.stateNode;if(u===null)return null;var h=u[Gn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ql=!1;if(Pi)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){ql=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{ql=!1}var Tr=null,sa=null,Ts=null;function Cu(){if(Ts)return Ts;var r,o=sa,u=o.length,h,y="value"in Tr?Tr.value:Tr.textContent,x=y.length;for(r=0;r<u&&o[r]===y[r];r++);var R=u-r;for(h=1;h<=R&&o[u-h]===y[x-h];h++);return Ts=y.slice(r,1<h?1-h:void 0)}function Dr(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ha(){return!0}function za(){return!1}function Ci(r){function o(u,h,y,x,R){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=x,this.target=R,this.currentTarget=null;for(var z in r)r.hasOwnProperty(z)&&(u=r[z],this[z]=u?u(x):x[z]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ha:za,this.isPropagationStopped=za,this}return w(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ha)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ha)},persist:function(){},isPersistent:Ha}),o}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ur=Ci(Ns),Ws=w({},Ns,{view:0,detail:0}),Ga=Ci(Ws),oa,Ys,Ks,aa=w({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nt,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ks&&(Ks&&r.type==="mousemove"?(oa=r.screenX-Ks.screenX,Ys=r.screenY-Ks.screenY):Ys=oa=0,Ks=r),oa)},movementY:function(r){return"movementY"in r?r.movementY:Ys}}),Hl=Ci(aa),Xs=w({},aa,{dataTransfer:0}),Zs=Ci(Xs),Ru=w({},Ws,{relatedTarget:0}),Qs=Ci(Ru),ku=w({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),A=Ci(ku),P=w({},Ns,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Q=Ci(P),fe=w({},Ns,{data:0}),be=Ci(fe),Ue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},He={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},et={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ot(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=et[r])?!!o[r]:!1}function Nt(){return ot}var Ft=w({},Ws,{key:function(r){if(r.key){var o=Ue[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Dr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?He[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nt,charCode:function(r){return r.type==="keypress"?Dr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Dr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),an=Ci(Ft),jn=w({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ii=Ci(jn),In=w({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nt}),_i=Ci(In),fi=w({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),Di=Ci(fi),eo=w({},aa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ls=Ci(eo),to=w({},Ns,{newState:0,oldState:0}),zl=Ci(to),ja=[9,13,27,32],Cs=Pi&&"CompositionEvent"in window,us=null;Pi&&"documentMode"in document&&(us=document.documentMode);var la=Pi&&"TextEvent"in window&&!us,no=Pi&&(!Cs||us&&8<us&&11>=us),Ri=" ",Po=!1;function Do(r,o){switch(r){case"keyup":return ja.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Rs=!1;function ir(r,o){switch(r){case"compositionend":return Va(o);case"keypress":return o.which!==32?null:(Po=!0,Ri);case"textInput":return r=o.data,r===Ri&&Po?null:r;default:return null}}function io(r,o){if(Rs)return r==="compositionend"||!Cs&&Do(r,o)?(r=Cu(),Ts=sa=Tr=null,Rs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return no&&o.locale!=="ko"?null:o.data;default:return null}}var $a={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gl(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!$a[r.type]:o==="textarea"}function Nr(r,o,u,h){Mo?xt?xt.push(h):xt=[h]:Mo=h,o=Ad(o,"onChange"),0<o.length&&(u=new Ur("onChange","change",null,u,h),r.push({event:u,listeners:o}))}var cs=null,ro=null;function jl(r){U1(r,0)}function fs(r){var o=ta(r);if(Ml(o))return r}function Uo(r,o){if(r==="change")return o}var dr=!1;if(Pi){var rr;if(Pi){var ks="oninput"in document;if(!ks){var Is=document.createElement("div");Is.setAttribute("oninput","return;"),ks=typeof Is.oninput=="function"}rr=ks}else rr=!1;dr=rr&&(!document.documentMode||9<document.documentMode)}function so(){cs&&(cs.detachEvent("onpropertychange",Ja),ro=cs=null)}function Ja(r){if(r.propertyName==="value"&&fs(ro)){var o=[];Nr(o,ro,r,ia(r)),Nu(jl,o)}}function Wa(r,o,u){r==="focusin"?(so(),cs=o,ro=u,cs.attachEvent("onpropertychange",Ja)):r==="focusout"&&so()}function ri(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return fs(ro)}function Iu(r,o){if(r==="click")return fs(o)}function Ls(r,o){if(r==="input"||r==="change")return fs(o)}function Ms(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Ui=typeof Object.is=="function"?Object.is:Ms;function oo(r,o){if(Ui(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!ze.call(o,y)||!Ui(r[y],o[y]))return!1}return!0}function Ya(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ka(r,o){var u=Ya(r);r=0;for(var h;u;){if(u.nodeType===3){if(h=r+u.textContent.length,r<=o&&h>=o)return{node:u,offset:o-r};r=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ya(u)}}function ao(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?ao(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function lo(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=tr(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=tr(r.document)}return o}function Ps(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var ua=Pi&&"documentMode"in document&&11>=document.documentMode,Cr=null,uo=null,$i=null,Or=!1;function gn(r,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Or||Cr==null||Cr!==tr(h)||(h=Cr,"selectionStart"in h&&Ps(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),$i&&oo($i,h)||($i=h,h=Ad(uo,"onSelect"),0<h.length&&(o=new Ur("onSelect","select",null,o,u),r.push({event:o,listeners:h}),o.target=Cr)))}function ln(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var Ln={animationend:ln("Animation","AnimationEnd"),animationiteration:ln("Animation","AnimationIteration"),animationstart:ln("Animation","AnimationStart"),transitionrun:ln("Transition","TransitionRun"),transitionstart:ln("Transition","TransitionStart"),transitioncancel:ln("Transition","TransitionCancel"),transitionend:ln("Transition","TransitionEnd")},si={},Ds={};Pi&&(Ds=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function ds(r){if(si[r])return si[r];if(!Ln[r])return r;var o=Ln[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in Ds)return si[r]=o[u];return r}var ca=ds("animationend"),Vl=ds("animationiteration"),zc=ds("animationstart"),Jf=ds("transitionrun"),Wf=ds("transitionstart"),Yf=ds("transitioncancel"),Gc=ds("transitionend"),jc=new Map,fa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fa.push("scrollEnd");function Br(r,o){jc.set(r,o),rs(o,[r])}var $l=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Rr=[],da=0,Lu=0;function Jl(){for(var r=da,o=Lu=da=0;o<r;){var u=Rr[o];Rr[o++]=null;var h=Rr[o];Rr[o++]=null;var y=Rr[o];Rr[o++]=null;var x=Rr[o];if(Rr[o++]=null,h!==null&&y!==null){var R=h.pending;R===null?y.next=y:(y.next=R.next,R.next=y),h.pending=y}x!==0&&Yl(u,y,x)}}function Wl(r,o,u,h){Rr[da++]=r,Rr[da++]=o,Rr[da++]=u,Rr[da++]=h,Lu|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function Mu(r,o,u,h){return Wl(r,o,u,h),Ji(r)}function co(r,o){return Wl(r,null,null,o),Ji(r)}function Yl(r,o,u){r.lanes|=u;var h=r.alternate;h!==null&&(h.lanes|=u);for(var y=!1,x=r.return;x!==null;)x.childLanes|=u,h=x.alternate,h!==null&&(h.childLanes|=u),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(y=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,y&&o!==null&&(y=31-Zt(u),r=x.hiddenUpdates,h=r[y],h===null?r[y]=[o]:h.push(o),o.lane=u|536870912),x):null}function Ji(r){if(50<hf)throw hf=0,Ep=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Oi={};function Pu(r,o,u,h){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(r,o,u,h){return new Pu(r,o,u,h)}function Du(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Fr(r,o){var u=r.alternate;return u===null?(u=Wi(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Kl(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Xa(r,o,u,h,y,x){var R=0;if(h=r,typeof r=="function")Du(r)&&(R=1);else if(typeof r=="string")R=RS(r,u,Y.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case V:return r=Wi(31,u,o,y),r.elementType=V,r.lanes=x,r;case T:return Oo(u.children,y,x,o);case k:R=8,y|=24;break;case I:return r=Wi(12,u,o,y|2),r.elementType=I,r.lanes=x,r;case ae:return r=Wi(13,u,o,y),r.elementType=ae,r.lanes=x,r;case de:return r=Wi(19,u,o,y),r.elementType=de,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case U:R=10;break e;case F:R=9;break e;case H:R=11;break e;case re:R=14;break e;case se:R=16,h=null;break e}R=29,u=Error(i(130,r===null?"null":typeof r,"")),h=null}return o=Wi(R,u,o,y),o.elementType=r,o.type=h,o.lanes=x,o}function Oo(r,o,u,h){return r=Wi(7,r,h,o),r.lanes=u,r}function Xl(r,o,u){return r=Wi(6,r,null,o),r.lanes=u,r}function Uu(r){var o=Wi(18,null,null,0);return o.stateNode=r,o}function Za(r,o,u){return o=Wi(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Ou=new WeakMap;function qr(r,o){if(typeof r=="object"&&r!==null){var u=Ou.get(r);return u!==void 0?u:(o={value:r,source:o,stack:bt(o)},Ou.set(r,o),o)}return{value:r,source:o,stack:bt(o)}}var Qa=[],ha=0,Bu=null,Zl=0,Hr=[],zr=0,Bo=null,Gr=1,jr="";function kr(r,o){Qa[ha++]=Zl,Qa[ha++]=Bu,Bu=r,Zl=o}function Kf(r,o,u){Hr[zr++]=Gr,Hr[zr++]=jr,Hr[zr++]=Bo,Bo=r;var h=Gr;r=jr;var y=32-Zt(h)-1;h&=~(1<<y),u+=1;var x=32-Zt(o)+y;if(30<x){var R=y-y%5;x=(h&(1<<R)-1).toString(32),h>>=R,y-=R,Gr=1<<32-Zt(o)+y|u<<y|h,jr=x+r}else Gr=1<<x|u<<y|h,jr=r}function Vc(r){r.return!==null&&(kr(r,1),Kf(r,1,0))}function Fu(r){for(;r===Bu;)Bu=Qa[--ha],Qa[ha]=null,Zl=Qa[--ha],Qa[ha]=null;for(;r===Bo;)Bo=Hr[--zr],Hr[zr]=null,jr=Hr[--zr],Hr[zr]=null,Gr=Hr[--zr],Hr[zr]=null}function Xf(r,o){Hr[zr++]=Gr,Hr[zr++]=jr,Hr[zr++]=Bo,Gr=o.id,jr=o.overflow,Bo=r}var Bi=null,On=null,en=!1,sr=null,Kn=!1,hs=Error(i(519));function Fo(r){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(qr(o,r)),hs}function $c(r){var o=r.stateNode,u=r.type,h=r.memoizedProps;switch(o[An]=r,o[Gn]=h,u){case"dialog":nn("cancel",o),nn("close",o);break;case"iframe":case"object":case"embed":nn("load",o);break;case"video":case"audio":for(u=0;u<gf.length;u++)nn(gf[u],o);break;case"source":nn("error",o);break;case"img":case"image":case"link":nn("error",o),nn("load",o);break;case"details":nn("toggle",o);break;case"input":nn("invalid",o),Su(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":nn("invalid",o);break;case"textarea":nn("invalid",o),Ul(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||q1(o.textContent,u)?(h.popover!=null&&(nn("beforetoggle",o),nn("toggle",o)),h.onScroll!=null&&nn("scroll",o),h.onScrollEnd!=null&&nn("scrollend",o),h.onClick!=null&&(o.onclick=as),o=!0):o=!1,o||Fo(r,!0)}function fo(r){for(Bi=r.return;Bi;)switch(Bi.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Bi=Bi.return}}function Fi(r){if(r!==Bi)return!1;if(!en)return fo(r),en=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||qp(r.type,r.memoizedProps)),u=!u),u&&On&&Fo(r),fo(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));On=Y1(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));On=Y1(r)}else o===27?(o=On,pl(r.type)?(r=Vp,Vp=null,On=r):On=o):On=Bi?Fs(r.stateNode.nextSibling):null;return!0}function pa(){On=Bi=null,en=!1}function Jc(){var r=sr;return r!==null&&(Kr===null?Kr=r:Kr.push.apply(Kr,r),sr=null),r}function el(r){sr===null?sr=[r]:sr.push(r)}var qu=$(null),qo=null,Us=null;function Ho(r,o,u){G(qu,o._currentValue),o._currentValue=u}function Vr(r){r._currentValue=qu.current,M(qu)}function tl(r,o,u){for(;r!==null;){var h=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),r===u)break;r=r.return}}function ga(r,o,u,h){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var x=y.dependencies;if(x!==null){var R=y.child;x=x.firstContext;e:for(;x!==null;){var z=x;x=y;for(var ue=0;ue<o.length;ue++)if(z.context===o[ue]){x.lanes|=u,z=x.alternate,z!==null&&(z.lanes|=u),tl(x.return,u,r),h||(R=null);break e}x=z.next}}else if(y.tag===18){if(R=y.return,R===null)throw Error(i(341));R.lanes|=u,x=R.alternate,x!==null&&(x.lanes|=u),tl(R,u,r),R=null}else R=y.child;if(R!==null)R.return=y;else for(R=y;R!==null;){if(R===r){R=null;break}if(y=R.sibling,y!==null){y.return=R.return,R=y;break}R=R.return}y=R}}function zo(r,o,u,h){r=null;for(var y=o,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var R=y.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var z=y.type;Ui(y.pendingProps.value,R.value)||(r!==null?r.push(z):r=[z])}}else if(y===ve.current){if(R=y.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(wf):r=[wf])}y=y.return}r!==null&&ga(o,r,u,h),o.flags|=262144}function Hu(r){for(r=r.firstContext;r!==null;){if(!Ui(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Go(r){qo=r,Us=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function qi(r){return Zf(qo,r)}function zu(r,o){return qo===null&&Go(r),Zf(r,o)}function Zf(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Us===null){if(r===null)throw Error(i(308));Us=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Us=Us.next=o;return u}var jh=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,h){r.push(h)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},Vh=t.unstable_scheduleCallback,$h=t.unstable_NormalPriority,oi={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nl(){return{controller:new jh,data:new Map,refCount:0}}function Ql(r){r.refCount--,r.refCount===0&&Vh($h,function(){r.controller.abort()})}var eu=null,Gu=0,m=0,_=null;function E(r,o){if(eu===null){var u=eu=[];Gu=0,m=Ip(),_={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Gu++,o.then(C,C),o}function C(){if(--Gu===0&&eu!==null){_!==null&&(_.status="fulfilled");var r=eu;eu=null,m=0,_=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function D(r,o){var u=[],h={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return r.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),h}var O=ee.S;ee.S=function(r,o){c1=Bt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&E(r,o),O!==null&&O(r,o)};var B=$(null);function j(){var r=B.current;return r!==null?r:Fn.pooledCache}function J(r,o){o===null?G(B,B.current):G(B,o.pool)}function Z(){var r=j();return r===null?null:{parent:oi._currentValue,pool:r}}var pe=Error(i(460)),Ae=Error(i(474)),X=Error(i(542)),ye={then:function(){}};function _e(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Me(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(as,as),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,je(r),r;default:if(typeof o.status=="string")o.then(as,as);else{if(r=Fn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,je(r),r}throw Le=o,pe}}function xe(r){try{var o=r._init;return o(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Le=u,pe):u}}var Le=null;function Oe(){if(Le===null)throw Error(i(459));var r=Le;return Le=null,r}function je(r){if(r===pe||r===X)throw Error(i(483))}var qe=null,nt=0;function Ke(r){var o=nt;return nt+=1,qe===null&&(qe=[]),Me(qe,r,o)}function Lt(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Qe(r,o){throw o.$$typeof===S?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Qt(r){function o(we,me){if(r){var Ee=we.deletions;Ee===null?(we.deletions=[me],we.flags|=16):Ee.push(me)}}function u(we,me){if(!r)return null;for(;me!==null;)o(we,me),me=me.sibling;return null}function h(we){for(var me=new Map;we!==null;)we.key!==null?me.set(we.key,we):me.set(we.index,we),we=we.sibling;return me}function y(we,me){return we=Fr(we,me),we.index=0,we.sibling=null,we}function x(we,me,Ee){return we.index=Ee,r?(Ee=we.alternate,Ee!==null?(Ee=Ee.index,Ee<me?(we.flags|=67108866,me):Ee):(we.flags|=67108866,me)):(we.flags|=1048576,me)}function R(we){return r&&we.alternate===null&&(we.flags|=67108866),we}function z(we,me,Ee,Be){return me===null||me.tag!==6?(me=Xl(Ee,we.mode,Be),me.return=we,me):(me=y(me,Ee),me.return=we,me)}function ue(we,me,Ee,Be){var yt=Ee.type;return yt===T?Pe(we,me,Ee.props.children,Be,Ee.key):me!==null&&(me.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===se&&xe(yt)===me.type)?(me=y(me,Ee.props),Lt(me,Ee),me.return=we,me):(me=Xa(Ee.type,Ee.key,Ee.props,null,we.mode,Be),Lt(me,Ee),me.return=we,me)}function Ne(we,me,Ee,Be){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ee.containerInfo||me.stateNode.implementation!==Ee.implementation?(me=Za(Ee,we.mode,Be),me.return=we,me):(me=y(me,Ee.children||[]),me.return=we,me)}function Pe(we,me,Ee,Be,yt){return me===null||me.tag!==7?(me=Oo(Ee,we.mode,Be,yt),me.return=we,me):(me=y(me,Ee),me.return=we,me)}function Fe(we,me,Ee){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=Xl(""+me,we.mode,Ee),me.return=we,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case b:return Ee=Xa(me.type,me.key,me.props,null,we.mode,Ee),Lt(Ee,me),Ee.return=we,Ee;case N:return me=Za(me,we.mode,Ee),me.return=we,me;case se:return me=xe(me),Fe(we,me,Ee)}if(Se(me)||W(me))return me=Oo(me,we.mode,Ee,null),me.return=we,me;if(typeof me.then=="function")return Fe(we,Ke(me),Ee);if(me.$$typeof===U)return Fe(we,zu(we,me),Ee);Qe(we,me)}return null}function Re(we,me,Ee,Be){var yt=me!==null?me.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return yt!==null?null:z(we,me,""+Ee,Be);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case b:return Ee.key===yt?ue(we,me,Ee,Be):null;case N:return Ee.key===yt?Ne(we,me,Ee,Be):null;case se:return Ee=xe(Ee),Re(we,me,Ee,Be)}if(Se(Ee)||W(Ee))return yt!==null?null:Pe(we,me,Ee,Be,null);if(typeof Ee.then=="function")return Re(we,me,Ke(Ee),Be);if(Ee.$$typeof===U)return Re(we,me,zu(we,Ee),Be);Qe(we,Ee)}return null}function Ie(we,me,Ee,Be,yt){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return we=we.get(Ee)||null,z(me,we,""+Be,yt);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case b:return we=we.get(Be.key===null?Ee:Be.key)||null,ue(me,we,Be,yt);case N:return we=we.get(Be.key===null?Ee:Be.key)||null,Ne(me,we,Be,yt);case se:return Be=xe(Be),Ie(we,me,Ee,Be,yt)}if(Se(Be)||W(Be))return we=we.get(Ee)||null,Pe(me,we,Be,yt,null);if(typeof Be.then=="function")return Ie(we,me,Ee,Ke(Be),yt);if(Be.$$typeof===U)return Ie(we,me,Ee,zu(me,Be),yt);Qe(me,Be)}return null}function tt(we,me,Ee,Be){for(var yt=null,vn=null,at=me,Jt=me=0,sn=null;at!==null&&Jt<Ee.length;Jt++){at.index>Jt?(sn=at,at=null):sn=at.sibling;var yn=Re(we,at,Ee[Jt],Be);if(yn===null){at===null&&(at=sn);break}r&&at&&yn.alternate===null&&o(we,at),me=x(yn,me,Jt),vn===null?yt=yn:vn.sibling=yn,vn=yn,at=sn}if(Jt===Ee.length)return u(we,at),en&&kr(we,Jt),yt;if(at===null){for(;Jt<Ee.length;Jt++)at=Fe(we,Ee[Jt],Be),at!==null&&(me=x(at,me,Jt),vn===null?yt=at:vn.sibling=at,vn=at);return en&&kr(we,Jt),yt}for(at=h(at);Jt<Ee.length;Jt++)sn=Ie(at,we,Jt,Ee[Jt],Be),sn!==null&&(r&&sn.alternate!==null&&at.delete(sn.key===null?Jt:sn.key),me=x(sn,me,Jt),vn===null?yt=sn:vn.sibling=sn,vn=sn);return r&&at.forEach(function(bl){return o(we,bl)}),en&&kr(we,Jt),yt}function Tt(we,me,Ee,Be){if(Ee==null)throw Error(i(151));for(var yt=null,vn=null,at=me,Jt=me=0,sn=null,yn=Ee.next();at!==null&&!yn.done;Jt++,yn=Ee.next()){at.index>Jt?(sn=at,at=null):sn=at.sibling;var bl=Re(we,at,yn.value,Be);if(bl===null){at===null&&(at=sn);break}r&&at&&bl.alternate===null&&o(we,at),me=x(bl,me,Jt),vn===null?yt=bl:vn.sibling=bl,vn=bl,at=sn}if(yn.done)return u(we,at),en&&kr(we,Jt),yt;if(at===null){for(;!yn.done;Jt++,yn=Ee.next())yn=Fe(we,yn.value,Be),yn!==null&&(me=x(yn,me,Jt),vn===null?yt=yn:vn.sibling=yn,vn=yn);return en&&kr(we,Jt),yt}for(at=h(at);!yn.done;Jt++,yn=Ee.next())yn=Ie(at,we,Jt,yn.value,Be),yn!==null&&(r&&yn.alternate!==null&&at.delete(yn.key===null?Jt:yn.key),me=x(yn,me,Jt),vn===null?yt=yn:vn.sibling=yn,vn=yn);return r&&at.forEach(function(qS){return o(we,qS)}),en&&kr(we,Jt),yt}function Un(we,me,Ee,Be){if(typeof Ee=="object"&&Ee!==null&&Ee.type===T&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case b:e:{for(var yt=Ee.key;me!==null;){if(me.key===yt){if(yt=Ee.type,yt===T){if(me.tag===7){u(we,me.sibling),Be=y(me,Ee.props.children),Be.return=we,we=Be;break e}}else if(me.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===se&&xe(yt)===me.type){u(we,me.sibling),Be=y(me,Ee.props),Lt(Be,Ee),Be.return=we,we=Be;break e}u(we,me);break}else o(we,me);me=me.sibling}Ee.type===T?(Be=Oo(Ee.props.children,we.mode,Be,Ee.key),Be.return=we,we=Be):(Be=Xa(Ee.type,Ee.key,Ee.props,null,we.mode,Be),Lt(Be,Ee),Be.return=we,we=Be)}return R(we);case N:e:{for(yt=Ee.key;me!==null;){if(me.key===yt)if(me.tag===4&&me.stateNode.containerInfo===Ee.containerInfo&&me.stateNode.implementation===Ee.implementation){u(we,me.sibling),Be=y(me,Ee.children||[]),Be.return=we,we=Be;break e}else{u(we,me);break}else o(we,me);me=me.sibling}Be=Za(Ee,we.mode,Be),Be.return=we,we=Be}return R(we);case se:return Ee=xe(Ee),Un(we,me,Ee,Be)}if(Se(Ee))return tt(we,me,Ee,Be);if(W(Ee)){if(yt=W(Ee),typeof yt!="function")throw Error(i(150));return Ee=yt.call(Ee),Tt(we,me,Ee,Be)}if(typeof Ee.then=="function")return Un(we,me,Ke(Ee),Be);if(Ee.$$typeof===U)return Un(we,me,zu(we,Ee),Be);Qe(we,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint"?(Ee=""+Ee,me!==null&&me.tag===6?(u(we,me.sibling),Be=y(me,Ee),Be.return=we,we=Be):(u(we,me),Be=Xl(Ee,we.mode,Be),Be.return=we,we=Be),R(we)):u(we,me)}return function(we,me,Ee,Be){try{nt=0;var yt=Un(we,me,Ee,Be);return qe=null,yt}catch(at){if(at===pe||at===X)throw at;var vn=Wi(29,at,null,we.mode);return vn.lanes=Be,vn.return=we,vn}finally{}}}var Bn=Qt(!0),qt=Qt(!1),Xe=!1;function Ve(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vn(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function At(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function jt(r,o,u){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Sn&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=Ji(r),Yl(r,null,u),o}return Wl(r,h,o,u),Ji(r)}function wn(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=r.pendingLanes,u|=h,o.lanes=u,wr(r,u)}}function Si(r,o){var u=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?y=x=R:x=x.next=R,u=u.next}while(u!==null);x===null?y=x=o:x=x.next=o}else y=x=o;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var Hi=!1;function Mn(){if(Hi){var r=_;if(r!==null)throw r}}function di(r,o,u,h){Hi=!1;var y=r.updateQueue;Xe=!1;var x=y.firstBaseUpdate,R=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var ue=z,Ne=ue.next;ue.next=null,R===null?x=Ne:R.next=Ne,R=ue;var Pe=r.alternate;Pe!==null&&(Pe=Pe.updateQueue,z=Pe.lastBaseUpdate,z!==R&&(z===null?Pe.firstBaseUpdate=Ne:z.next=Ne,Pe.lastBaseUpdate=ue))}if(x!==null){var Fe=y.baseState;R=0,Pe=Ne=ue=null,z=x;do{var Re=z.lane&-536870913,Ie=Re!==z.lane;if(Ie?(rn&Re)===Re:(h&Re)===Re){Re!==0&&Re===m&&(Hi=!0),Pe!==null&&(Pe=Pe.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var tt=r,Tt=z;Re=o;var Un=u;switch(Tt.tag){case 1:if(tt=Tt.payload,typeof tt=="function"){Fe=tt.call(Un,Fe,Re);break e}Fe=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=Tt.payload,Re=typeof tt=="function"?tt.call(Un,Fe,Re):tt,Re==null)break e;Fe=w({},Fe,Re);break e;case 2:Xe=!0}}Re=z.callback,Re!==null&&(r.flags|=64,Ie&&(r.flags|=8192),Ie=y.callbacks,Ie===null?y.callbacks=[Re]:Ie.push(Re))}else Ie={lane:Re,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Pe===null?(Ne=Pe=Ie,ue=Fe):Pe=Pe.next=Ie,R|=Re;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;Ie=z,z=Ie.next,Ie.next=null,y.lastBaseUpdate=Ie,y.shared.pending=null}}while(!0);Pe===null&&(ue=Fe),y.baseState=ue,y.firstBaseUpdate=Ne,y.lastBaseUpdate=Pe,x===null&&(y.shared.lanes=0),ul|=R,r.lanes=R,r.memoizedState=Fe}}function Yi(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function hi(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Yi(u[r],o)}var Wt=$(null),fn=$(0);function $n(r,o){r=Ea,G(fn,r),G(Wt,o),Ea=r|o.baseLanes}function mn(){G(fn,Ea),G(Wt,Wt.current)}function xi(){Ea=fn.current,M(Wt),M(fn)}var Jn=$(null),dn=null;function ai(r){var o=r.alternate;G(un,un.current&1),G(Jn,r),dn===null&&(o===null||Wt.current!==null||o.memoizedState!==null)&&(dn=r)}function _n(r){G(un,un.current),G(Jn,r),dn===null&&(dn=r)}function pi(r){r.tag===22?(G(un,un.current),G(Jn,r),dn===null&&(dn=r)):gi()}function gi(){G(un,un.current),G(Jn,Jn.current)}function En(r){M(Jn),dn===r&&(dn=null),M(un)}var un=$(0);function Ki(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Gp(u)||jp(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Xn=0,pt=null,vt=null,hn=null,hr=!1,$r=!1,or=!1,mi=0,jo=0,Vo=null,ju=0;function Pn(){throw Error(i(321))}function Wc(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Ui(r[u],o[u]))return!1;return!0}function Yc(r,o,u,h,y,x){return Xn=x,pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ee.H=r===null||r.memoizedState===null?_m:ep,or=!1,x=u(h,y),or=!1,$r&&(x=ho(o,u,h,y)),Vu(r),x}function Vu(r){ee.H=rf;var o=vt!==null&&vt.next!==null;if(Xn=0,hn=vt=pt=null,hr=!1,jo=0,Vo=null,o)throw Error(i(300));r===null||Ii||(r=r.dependencies,r!==null&&Hu(r)&&(Ii=!0))}function ho(r,o,u,h){pt=r;var y=0;do{if($r&&(Vo=null),jo=0,$r=!1,25<=y)throw Error(i(301));if(y+=1,hn=vt=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}ee.H=Sm,x=o(u,h)}while($r);return x}function Jh(){var r=ee.H,o=r.useState()[0];return o=typeof o.then=="function"?$o(o):o,r=r.useState()[0],(vt!==null?vt.memoizedState:null)!==r&&(pt.flags|=1024),o}function Kc(){var r=mi!==0;return mi=0,r}function Xc(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function $u(r){if(hr){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}hr=!1}Xn=0,hn=vt=pt=null,$r=!1,jo=mi=0,Vo=null}function ki(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?pt.memoizedState=hn=r:hn=hn.next=r,hn}function Zn(){if(vt===null){var r=pt.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var o=hn===null?pt.memoizedState:hn.next;if(o!==null)hn=o,vt=r;else{if(r===null)throw pt.alternate===null?Error(i(467)):Error(i(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},hn===null?pt.memoizedState=hn=r:hn=hn.next=r}return hn}function tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(r){var o=jo;return jo+=1,Vo===null&&(Vo=[]),r=Me(Vo,r,o),o=pt,(hn===null?o.memoizedState:hn.next)===null&&(o=o.alternate,ee.H=o===null||o.memoizedState===null?_m:ep),r}function il(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return $o(r);if(r.$$typeof===U)return qi(r)}throw Error(i(438,String(r)))}function ma(r){var o=null,u=pt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=pt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=tu(),pt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),h=0;h<r;h++)u[h]=ge;return o.index++,u}function Os(r,o){return typeof o=="function"?o(r):o}function Ju(r){var o=Zn();return rl(o,vt,r)}function rl(r,o,u){var h=r.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=u;var y=r.baseQueue,x=h.pending;if(x!==null){if(y!==null){var R=y.next;y.next=x.next,x.next=R}o.baseQueue=y=x,h.pending=null}if(x=r.baseState,y===null)r.memoizedState=x;else{o=y.next;var z=R=null,ue=null,Ne=o,Pe=!1;do{var Fe=Ne.lane&-536870913;if(Fe!==Ne.lane?(rn&Fe)===Fe:(Xn&Fe)===Fe){var Re=Ne.revertLane;if(Re===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,gesture:null,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),Fe===m&&(Pe=!0);else if((Xn&Re)===Re){Ne=Ne.next,Re===m&&(Pe=!0);continue}else Fe={lane:0,revertLane:Ne.revertLane,gesture:null,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},ue===null?(z=ue=Fe,R=x):ue=ue.next=Fe,pt.lanes|=Re,ul|=Re;Fe=Ne.action,or&&u(x,Fe),x=Ne.hasEagerState?Ne.eagerState:u(x,Fe)}else Re={lane:Fe,revertLane:Ne.revertLane,gesture:Ne.gesture,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},ue===null?(z=ue=Re,R=x):ue=ue.next=Re,pt.lanes|=Fe,ul|=Fe;Ne=Ne.next}while(Ne!==null&&Ne!==o);if(ue===null?R=x:ue.next=z,!Ui(x,r.memoizedState)&&(Ii=!0,Pe&&(u=_,u!==null)))throw u;r.memoizedState=x,r.baseState=R,r.baseQueue=ue,h.lastRenderedState=x}return y===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function Wu(r){var o=Zn(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var h=u.dispatch,y=u.pending,x=o.memoizedState;if(y!==null){u.pending=null;var R=y=y.next;do x=r(x,R.action),R=R.next;while(R!==y);Ui(x,o.memoizedState)||(Ii=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,h]}function Yu(r,o,u){var h=pt,y=Zn(),x=en;if(x){if(u===void 0)throw Error(i(407));u=u()}else u=o();var R=!Ui((vt||y).memoizedState,u);if(R&&(y.memoizedState=u,Ii=!0),y=y.queue,Wh(Qc.bind(null,h,y,r),[r]),y.getSnapshot!==o||R||hn!==null&&hn.memoizedState.tag&1){if(h.flags|=2048,ya(9,{destroy:void 0},Zc.bind(null,h,y,u,o),null),Fn===null)throw Error(i(349));x||(Xn&127)!==0||po(h,o,u)}return u}function po(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=pt.updateQueue,o===null?(o=tu(),pt.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function Zc(r,o,u,h){o.value=u,o.getSnapshot=h,Qf(o)&&ef(r)}function Qc(r,o,u){return u(function(){Qf(o)&&ef(r)})}function Qf(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Ui(r,u)}catch{return!0}}function ef(r){var o=co(r,2);o!==null&&Xr(o,r,2)}function Jo(r){var o=ki();if(typeof r=="function"){var u=r;if(r=u(),or){kt(!0);try{u()}finally{kt(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:r},o}function ed(r,o,u,h){return r.baseState=u,rl(r,vt,typeof h=="function"?h:Os)}function td(r,o,u,h,y){if(sd(r))throw Error(i(485));if(r=o.action,r!==null){var x={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){x.listeners.push(R)}};ee.T!==null?u(!0):x.isTransition=!1,h(x),u=o.pending,u===null?(x.next=o.pending=x,nd(o,x)):(x.next=u.next,o.pending=u.next=x)}}function nd(r,o){var u=o.action,h=o.payload,y=r.state;if(o.isTransition){var x=ee.T,R={};ee.T=R;try{var z=u(y,h),ue=ee.S;ue!==null&&ue(R,z),tf(r,o,z)}catch(Ne){va(r,o,Ne)}finally{x!==null&&R.types!==null&&(x.types=R.types),ee.T=x}}else try{x=u(y,h),tf(r,o,x)}catch(Ne){va(r,o,Ne)}}function tf(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){id(r,o,h)},function(h){return va(r,o,h)}):id(r,o,u)}function id(r,o,u){o.status="fulfilled",o.value=u,Ku(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,nd(r,u)))}function va(r,o,u){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,Ku(o),o=o.next;while(o!==h)}r.action=null}function Ku(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function nu(r,o){return o}function Bs(r,o){if(en){var u=Fn.formState;if(u!==null){e:{var h=pt;if(en){if(On){t:{for(var y=On,x=Kn;y.nodeType!==8;){if(!x){y=null;break t}if(y=Fs(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){On=Fs(y.nextSibling),h=y.data==="F!";break e}}Fo(h)}h=!1}h&&(o=u[0])}}return u=ki(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:o},u.queue=h,u=ym.bind(null,pt,h),h.dispatch=u,h=Jo(!1),x=Qh.bind(null,pt,!1,h.queue),h=ki(),y={state:o,dispatch:null,action:r,pending:null},h.queue=y,u=td.bind(null,pt,y,x,u),y.dispatch=u,h.memoizedState=r,[o,u,!1]}function go(r){var o=Zn();return mo(o,vt,r)}function mo(r,o,u){if(o=rl(r,o,nu)[0],r=Ju(Os)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=$o(o)}catch(R){throw R===pe?X:R}else h=o;o=Zn();var y=o.queue,x=y.dispatch;return u!==o.memoizedState&&(pt.flags|=2048,ya(9,{destroy:void 0},Xu.bind(null,y,u),null)),[h,x,r]}function Xu(r,o){r.action=o}function Zu(r){var o=Zn(),u=vt;if(u!==null)return mo(o,u,r);Zn(),o=o.memoizedState,u=Zn();var h=u.queue.dispatch;return u.memoizedState=r,[o,h,!1]}function ya(r,o,u,h){return r={tag:r,create:u,deps:h,inst:o,next:null},o=pt.updateQueue,o===null&&(o=tu(),pt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(h=u.next,u.next=r,r.next=h,o.lastEffect=r),r}function rd(){return Zn().memoizedState}function sl(r,o,u,h){var y=ki();pt.flags|=r,y.memoizedState=ya(1|o,{destroy:void 0},u,h===void 0?null:h)}function ol(r,o,u,h){var y=Zn();h=h===void 0?null:h;var x=y.memoizedState.inst;vt!==null&&h!==null&&Wc(h,vt.memoizedState.deps)?y.memoizedState=ya(o,x,u,h):(pt.flags|=r,y.memoizedState=ya(1|o,x,u,h))}function rm(r,o){sl(8390656,8,r,o)}function Wh(r,o){ol(2048,8,r,o)}function P_(r){pt.flags|=4;var o=pt.updateQueue;if(o===null)o=tu(),pt.updateQueue=o,o.events=[r];else{var u=o.events;u===null?o.events=[r]:u.push(r)}}function sm(r){var o=Zn().memoizedState;return P_({ref:o,nextImpl:r}),function(){if((Sn&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function om(r,o){return ol(4,2,r,o)}function am(r,o){return ol(4,4,r,o)}function lm(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function um(r,o,u){u=u!=null?u.concat([r]):null,ol(4,4,lm.bind(null,o,r),u)}function Yh(){}function cm(r,o){var u=Zn();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&Wc(o,h[1])?h[0]:(u.memoizedState=[r,o],r)}function fm(r,o){var u=Zn();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&Wc(o,h[1]))return h[0];if(h=r(),or){kt(!0);try{r()}finally{kt(!1)}}return u.memoizedState=[h,o],h}function Kh(r,o,u){return u===void 0||(Xn&1073741824)!==0&&(rn&261930)===0?r.memoizedState=o:(r.memoizedState=u,r=d1(),pt.lanes|=r,ul|=r,u)}function dm(r,o,u,h){return Ui(u,o)?u:Wt.current!==null?(r=Kh(r,u,h),Ui(r,o)||(Ii=!0),r):(Xn&42)===0||(Xn&1073741824)!==0&&(rn&261930)===0?(Ii=!0,r.memoizedState=u):(r=d1(),pt.lanes|=r,ul|=r,o)}function hm(r,o,u,h,y){var x=ce.p;ce.p=x!==0&&8>x?x:8;var R=ee.T,z={};ee.T=z,Qh(r,!1,o,u);try{var ue=y(),Ne=ee.S;if(Ne!==null&&Ne(z,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Pe=D(ue,h);nf(r,o,Pe,ms(r))}else nf(r,o,h,ms(r))}catch(Fe){nf(r,o,{then:function(){},status:"rejected",reason:Fe},ms())}finally{ce.p=x,R!==null&&z.types!==null&&(R.types=z.types),ee.T=R}}function D_(){}function Xh(r,o,u,h){if(r.tag!==5)throw Error(i(476));var y=pm(r).queue;hm(r,y,o,he,u===null?D_:function(){return gm(r),u(h)})}function pm(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:he},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function gm(r){var o=pm(r);o.next===null&&(o=r.alternate.memoizedState),nf(r,o.next.queue,{},ms())}function Zh(){return qi(wf)}function mm(){return Zn().memoizedState}function vm(){return Zn().memoizedState}function U_(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=ms();r=At(u);var h=jt(o,r,u);h!==null&&(Xr(h,o,u),wn(h,o,u)),o={cache:nl()},r.payload=o;return}o=o.return}}function O_(r,o,u){var h=ms();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},sd(r)?bm(o,u):(u=Mu(r,o,u,h),u!==null&&(Xr(u,r,h),wm(u,o,h)))}function ym(r,o,u){var h=ms();nf(r,o,u,h)}function nf(r,o,u,h){var y={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(sd(r))bm(o,y);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var R=o.lastRenderedState,z=x(R,u);if(y.hasEagerState=!0,y.eagerState=z,Ui(z,R))return Wl(r,o,y,0),Fn===null&&Jl(),!1}catch{}finally{}if(u=Mu(r,o,y,h),u!==null)return Xr(u,r,h),wm(u,o,h),!0}return!1}function Qh(r,o,u,h){if(h={lane:2,revertLane:Ip(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},sd(r)){if(o)throw Error(i(479))}else o=Mu(r,u,h,2),o!==null&&Xr(o,r,2)}function sd(r){var o=r.alternate;return r===pt||o!==null&&o===pt}function bm(r,o){$r=hr=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function wm(r,o,u){if((u&4194048)!==0){var h=o.lanes;h&=r.pendingLanes,u|=h,o.lanes=u,wr(r,u)}}var rf={readContext:qi,use:il,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};rf.useEffectEvent=Pn;var _m={readContext:qi,use:il,useCallback:function(r,o){return ki().memoizedState=[r,o===void 0?null:o],r},useContext:qi,useEffect:rm,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,sl(4194308,4,lm.bind(null,o,r),u)},useLayoutEffect:function(r,o){return sl(4194308,4,r,o)},useInsertionEffect:function(r,o){sl(4,2,r,o)},useMemo:function(r,o){var u=ki();o=o===void 0?null:o;var h=r();if(or){kt(!0);try{r()}finally{kt(!1)}}return u.memoizedState=[h,o],h},useReducer:function(r,o,u){var h=ki();if(u!==void 0){var y=u(o);if(or){kt(!0);try{u(o)}finally{kt(!1)}}}else y=o;return h.memoizedState=h.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},h.queue=r,r=r.dispatch=O_.bind(null,pt,r),[h.memoizedState,r]},useRef:function(r){var o=ki();return r={current:r},o.memoizedState=r},useState:function(r){r=Jo(r);var o=r.queue,u=ym.bind(null,pt,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:Yh,useDeferredValue:function(r,o){var u=ki();return Kh(u,r,o)},useTransition:function(){var r=Jo(!1);return r=hm.bind(null,pt,r.queue,!0,!1),ki().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var h=pt,y=ki();if(en){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Fn===null)throw Error(i(349));(rn&127)!==0||po(h,o,u)}y.memoizedState=u;var x={value:u,getSnapshot:o};return y.queue=x,rm(Qc.bind(null,h,x,r),[r]),h.flags|=2048,ya(9,{destroy:void 0},Zc.bind(null,h,x,u,o),null),u},useId:function(){var r=ki(),o=Fn.identifierPrefix;if(en){var u=jr,h=Gr;u=(h&~(1<<32-Zt(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=mi++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=ju++,o="_"+o+"r_"+u.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:Zh,useFormState:Bs,useActionState:Bs,useOptimistic:function(r){var o=ki();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Qh.bind(null,pt,!0,u),u.dispatch=o,[r,o]},useMemoCache:ma,useCacheRefresh:function(){return ki().memoizedState=U_.bind(null,pt)},useEffectEvent:function(r){var o=ki(),u={impl:r};return o.memoizedState=u,function(){if((Sn&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},ep={readContext:qi,use:il,useCallback:cm,useContext:qi,useEffect:Wh,useImperativeHandle:um,useInsertionEffect:om,useLayoutEffect:am,useMemo:fm,useReducer:Ju,useRef:rd,useState:function(){return Ju(Os)},useDebugValue:Yh,useDeferredValue:function(r,o){var u=Zn();return dm(u,vt.memoizedState,r,o)},useTransition:function(){var r=Ju(Os)[0],o=Zn().memoizedState;return[typeof r=="boolean"?r:$o(r),o]},useSyncExternalStore:Yu,useId:mm,useHostTransitionStatus:Zh,useFormState:go,useActionState:go,useOptimistic:function(r,o){var u=Zn();return ed(u,vt,r,o)},useMemoCache:ma,useCacheRefresh:vm};ep.useEffectEvent=sm;var Sm={readContext:qi,use:il,useCallback:cm,useContext:qi,useEffect:Wh,useImperativeHandle:um,useInsertionEffect:om,useLayoutEffect:am,useMemo:fm,useReducer:Wu,useRef:rd,useState:function(){return Wu(Os)},useDebugValue:Yh,useDeferredValue:function(r,o){var u=Zn();return vt===null?Kh(u,r,o):dm(u,vt.memoizedState,r,o)},useTransition:function(){var r=Wu(Os)[0],o=Zn().memoizedState;return[typeof r=="boolean"?r:$o(r),o]},useSyncExternalStore:Yu,useId:mm,useHostTransitionStatus:Zh,useFormState:Zu,useActionState:Zu,useOptimistic:function(r,o){var u=Zn();return vt!==null?ed(u,vt,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:ma,useCacheRefresh:vm};Sm.useEffectEvent=sm;function tp(r,o,u,h){o=r.memoizedState,u=u(h,o),u=u==null?o:w({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var np={enqueueSetState:function(r,o,u){r=r._reactInternals;var h=ms(),y=At(h);y.payload=o,u!=null&&(y.callback=u),o=jt(r,y,h),o!==null&&(Xr(o,r,h),wn(o,r,h))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var h=ms(),y=At(h);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=jt(r,y,h),o!==null&&(Xr(o,r,h),wn(o,r,h))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=ms(),h=At(u);h.tag=2,o!=null&&(h.callback=o),o=jt(r,h,u),o!==null&&(Xr(o,r,u),wn(o,r,u))}};function xm(r,o,u,h,y,x,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,x,R):o.prototype&&o.prototype.isPureReactComponent?!oo(u,h)||!oo(y,x):!0}function Am(r,o,u,h){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==r&&np.enqueueReplaceState(o,o.state,null)}function iu(r,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(r=r.defaultProps){u===o&&(u=w({},u));for(var y in r)u[y]===void 0&&(u[y]=r[y])}return u}function Em(r){$l(r)}function Tm(r){console.error(r)}function Nm(r){$l(r)}function od(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function Cm(r,o,u){try{var h=r.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function ip(r,o,u){return u=At(u),u.tag=3,u.payload={element:null},u.callback=function(){od(r,o)},u}function Rm(r){return r=At(r),r.tag=3,r}function km(r,o,u,h){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var x=h.value;r.payload=function(){return y(x)},r.callback=function(){Cm(o,u,h)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(r.callback=function(){Cm(o,u,h),typeof y!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var z=h.stack;this.componentDidCatch(h.value,{componentStack:z!==null?z:""})})}function B_(r,o,u,h,y){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&zo(o,u,y,!0),u=Jn.current,u!==null){switch(u.tag){case 31:case 13:return dn===null?yd():u.alternate===null&&vi===0&&(vi=3),u.flags&=-257,u.flags|=65536,u.lanes=y,h===ye?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),Cp(r,h,y)),!1;case 22:return u.flags|=65536,h===ye?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),Cp(r,h,y)),!1}throw Error(i(435,u.tag))}return Cp(r,h,y),yd(),!1}if(en)return o=Jn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==hs&&(r=Error(i(422),{cause:h}),el(qr(r,u)))):(h!==hs&&(o=Error(i(423),{cause:h}),el(qr(o,u))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,h=qr(h,u),y=ip(r.stateNode,h,y),Si(r,y),vi!==4&&(vi=2)),!1;var x=Error(i(520),{cause:h});if(x=qr(x,u),df===null?df=[x]:df.push(x),vi!==4&&(vi=2),o===null)return!0;h=qr(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=y&-y,u.lanes|=r,r=ip(u.stateNode,h,r),Si(u,r),!1;case 1:if(o=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(cl===null||!cl.has(x))))return u.flags|=65536,y&=-y,u.lanes|=y,y=Rm(y),km(y,r,u,h),Si(u,y),!1}u=u.return}while(u!==null);return!1}var rp=Error(i(461)),Ii=!1;function ar(r,o,u,h){o.child=r===null?qt(o,null,u,h):Bn(o,r.child,u,h)}function Im(r,o,u,h,y){u=u.render;var x=o.ref;if("ref"in h){var R={};for(var z in h)z!=="ref"&&(R[z]=h[z])}else R=h;return Go(o),h=Yc(r,o,u,R,x,y),z=Kc(),r!==null&&!Ii?(Xc(r,o,y),ba(r,o,y)):(en&&z&&Vc(o),o.flags|=1,ar(r,o,h,y),o.child)}function Lm(r,o,u,h,y){if(r===null){var x=u.type;return typeof x=="function"&&!Du(x)&&x.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=x,Mm(r,o,x,h,y)):(r=Xa(u.type,null,h,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(x=r.child,!dp(r,y)){var R=x.memoizedProps;if(u=u.compare,u=u!==null?u:oo,u(R,h)&&r.ref===o.ref)return ba(r,o,y)}return o.flags|=1,r=Fr(x,h),r.ref=o.ref,r.return=o,o.child=r}function Mm(r,o,u,h,y){if(r!==null){var x=r.memoizedProps;if(oo(x,h)&&r.ref===o.ref)if(Ii=!1,o.pendingProps=h=x,dp(r,y))(r.flags&131072)!==0&&(Ii=!0);else return o.lanes=r.lanes,ba(r,o,y)}return sp(r,o,u,h,y)}function Pm(r,o,u,h){var y=h.children,x=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|u:u,r!==null){for(h=o.child=r.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~x}else h=0,o.child=null;return Dm(r,o,x,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&J(o,x!==null?x.cachePool:null),x!==null?$n(o,x):mn(),pi(o);else return h=o.lanes=536870912,Dm(r,o,x!==null?x.baseLanes|u:u,u,h)}else x!==null?(J(o,x.cachePool),$n(o,x),gi(),o.memoizedState=null):(r!==null&&J(o,null),mn(),gi());return ar(r,o,y,u),o.child}function sf(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Dm(r,o,u,h,y){var x=j();return x=x===null?null:{parent:oi._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},r!==null&&J(o,null),mn(),pi(o),r!==null&&zo(r,o,h,!0),o.childLanes=y,null}function ad(r,o){return o=ud({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function Um(r,o,u){return Bn(o,r.child,null,u),r=ad(o,o.pendingProps),r.flags|=2,En(o),o.memoizedState=null,r}function F_(r,o,u){var h=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(en){if(h.mode==="hidden")return r=ad(o,h),o.lanes=536870912,sf(null,r);if(_n(o),(r=On)?(r=W1(r,Kn),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:Bo!==null?{id:Gr,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},u=Uu(r),u.return=o,o.child=u,Bi=o,On=null)):r=null,r===null)throw Fo(o);return o.lanes=536870912,null}return ad(o,h)}var x=r.memoizedState;if(x!==null){var R=x.dehydrated;if(_n(o),y)if(o.flags&256)o.flags&=-257,o=Um(r,o,u);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(i(558));else if(Ii||zo(r,o,u,!1),y=(u&r.childLanes)!==0,Ii||y){if(h=Fn,h!==null&&(R=_r(h,u),R!==0&&R!==x.retryLane))throw x.retryLane=R,co(r,R),Xr(h,r,R),rp;yd(),o=Um(r,o,u)}else r=x.treeContext,On=Fs(R.nextSibling),Bi=o,en=!0,sr=null,Kn=!1,r!==null&&Xf(o,r),o=ad(o,h),o.flags|=4096;return o}return r=Fr(r.child,{mode:h.mode,children:h.children}),r.ref=o.ref,o.child=r,r.return=o,r}function ld(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function sp(r,o,u,h,y){return Go(o),u=Yc(r,o,u,h,void 0,y),h=Kc(),r!==null&&!Ii?(Xc(r,o,y),ba(r,o,y)):(en&&h&&Vc(o),o.flags|=1,ar(r,o,u,y),o.child)}function Om(r,o,u,h,y,x){return Go(o),o.updateQueue=null,u=ho(o,h,u,y),Vu(r),h=Kc(),r!==null&&!Ii?(Xc(r,o,x),ba(r,o,x)):(en&&h&&Vc(o),o.flags|=1,ar(r,o,u,x),o.child)}function Bm(r,o,u,h,y){if(Go(o),o.stateNode===null){var x=Oi,R=u.contextType;typeof R=="object"&&R!==null&&(x=qi(R)),x=new u(h,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=np,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=h,x.state=o.memoizedState,x.refs={},Ve(o),R=u.contextType,x.context=typeof R=="object"&&R!==null?qi(R):Oi,x.state=o.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(tp(o,u,R,h),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(R=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),R!==x.state&&np.enqueueReplaceState(x,x.state,null),di(o,h,x,y),Mn(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(r===null){x=o.stateNode;var z=o.memoizedProps,ue=iu(u,z);x.props=ue;var Ne=x.context,Pe=u.contextType;R=Oi,typeof Pe=="object"&&Pe!==null&&(R=qi(Pe));var Fe=u.getDerivedStateFromProps;Pe=typeof Fe=="function"||typeof x.getSnapshotBeforeUpdate=="function",z=o.pendingProps!==z,Pe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(z||Ne!==R)&&Am(o,x,h,R),Xe=!1;var Re=o.memoizedState;x.state=Re,di(o,h,x,y),Mn(),Ne=o.memoizedState,z||Re!==Ne||Xe?(typeof Fe=="function"&&(tp(o,u,Fe,h),Ne=o.memoizedState),(ue=Xe||xm(o,u,ue,h,Re,Ne,R))?(Pe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=Ne),x.props=h,x.state=Ne,x.context=R,h=ue):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,Vn(r,o),R=o.memoizedProps,Pe=iu(u,R),x.props=Pe,Fe=o.pendingProps,Re=x.context,Ne=u.contextType,ue=Oi,typeof Ne=="object"&&Ne!==null&&(ue=qi(Ne)),z=u.getDerivedStateFromProps,(Ne=typeof z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(R!==Fe||Re!==ue)&&Am(o,x,h,ue),Xe=!1,Re=o.memoizedState,x.state=Re,di(o,h,x,y),Mn();var Ie=o.memoizedState;R!==Fe||Re!==Ie||Xe||r!==null&&r.dependencies!==null&&Hu(r.dependencies)?(typeof z=="function"&&(tp(o,u,z,h),Ie=o.memoizedState),(Pe=Xe||xm(o,u,Pe,h,Re,Ie,ue)||r!==null&&r.dependencies!==null&&Hu(r.dependencies))?(Ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,Ie,ue),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,Ie,ue)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||R===r.memoizedProps&&Re===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Re===r.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ie),x.props=h,x.state=Ie,x.context=ue,h=Pe):(typeof x.componentDidUpdate!="function"||R===r.memoizedProps&&Re===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Re===r.memoizedState||(o.flags|=1024),h=!1)}return x=h,ld(r,o),h=(o.flags&128)!==0,x||h?(x=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,r!==null&&h?(o.child=Bn(o,r.child,null,y),o.child=Bn(o,null,u,y)):ar(r,o,u,y),o.memoizedState=x.state,r=o.child):r=ba(r,o,y),r}function Fm(r,o,u,h){return pa(),o.flags|=256,ar(r,o,u,h),o.child}var op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ap(r){return{baseLanes:r,cachePool:Z()}}function lp(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=gs),r}function qm(r,o,u){var h=o.pendingProps,y=!1,x=(o.flags&128)!==0,R;if((R=x)||(R=r!==null&&r.memoizedState===null?!1:(un.current&2)!==0),R&&(y=!0,o.flags&=-129),R=(o.flags&32)!==0,o.flags&=-33,r===null){if(en){if(y?ai(o):gi(),(r=On)?(r=W1(r,Kn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:Bo!==null?{id:Gr,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},u=Uu(r),u.return=o,o.child=u,Bi=o,On=null)):r=null,r===null)throw Fo(o);return jp(r)?o.lanes=32:o.lanes=536870912,null}var z=h.children;return h=h.fallback,y?(gi(),y=o.mode,z=ud({mode:"hidden",children:z},y),h=Oo(h,y,u,null),z.return=o,h.return=o,z.sibling=h,o.child=z,h=o.child,h.memoizedState=ap(u),h.childLanes=lp(r,R,u),o.memoizedState=op,sf(null,h)):(ai(o),up(o,z))}var ue=r.memoizedState;if(ue!==null&&(z=ue.dehydrated,z!==null)){if(x)o.flags&256?(ai(o),o.flags&=-257,o=cp(r,o,u)):o.memoizedState!==null?(gi(),o.child=r.child,o.flags|=128,o=null):(gi(),z=h.fallback,y=o.mode,h=ud({mode:"visible",children:h.children},y),z=Oo(z,y,u,null),z.flags|=2,h.return=o,z.return=o,h.sibling=z,o.child=h,Bn(o,r.child,null,u),h=o.child,h.memoizedState=ap(u),h.childLanes=lp(r,R,u),o.memoizedState=op,o=sf(null,h));else if(ai(o),jp(z)){if(R=z.nextSibling&&z.nextSibling.dataset,R)var Ne=R.dgst;R=Ne,h=Error(i(419)),h.stack="",h.digest=R,el({value:h,source:null,stack:null}),o=cp(r,o,u)}else if(Ii||zo(r,o,u,!1),R=(u&r.childLanes)!==0,Ii||R){if(R=Fn,R!==null&&(h=_r(R,u),h!==0&&h!==ue.retryLane))throw ue.retryLane=h,co(r,h),Xr(R,r,h),rp;Gp(z)||yd(),o=cp(r,o,u)}else Gp(z)?(o.flags|=192,o.child=r.child,o=null):(r=ue.treeContext,On=Fs(z.nextSibling),Bi=o,en=!0,sr=null,Kn=!1,r!==null&&Xf(o,r),o=up(o,h.children),o.flags|=4096);return o}return y?(gi(),z=h.fallback,y=o.mode,ue=r.child,Ne=ue.sibling,h=Fr(ue,{mode:"hidden",children:h.children}),h.subtreeFlags=ue.subtreeFlags&65011712,Ne!==null?z=Fr(Ne,z):(z=Oo(z,y,u,null),z.flags|=2),z.return=o,h.return=o,h.sibling=z,o.child=h,sf(null,h),h=o.child,z=r.child.memoizedState,z===null?z=ap(u):(y=z.cachePool,y!==null?(ue=oi._currentValue,y=y.parent!==ue?{parent:ue,pool:ue}:y):y=Z(),z={baseLanes:z.baseLanes|u,cachePool:y}),h.memoizedState=z,h.childLanes=lp(r,R,u),o.memoizedState=op,sf(r.child,h)):(ai(o),u=r.child,r=u.sibling,u=Fr(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,r!==null&&(R=o.deletions,R===null?(o.deletions=[r],o.flags|=16):R.push(r)),o.child=u,o.memoizedState=null,u)}function up(r,o){return o=ud({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function ud(r,o){return r=Wi(22,r,null,o),r.lanes=0,r}function cp(r,o,u){return Bn(o,r.child,null,u),r=up(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Hm(r,o,u){r.lanes|=o;var h=r.alternate;h!==null&&(h.lanes|=o),tl(r.return,o,u)}function fp(r,o,u,h,y,x){var R=r.memoizedState;R===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y,treeForkCount:x}:(R.isBackwards=o,R.rendering=null,R.renderingStartTime=0,R.last=h,R.tail=u,R.tailMode=y,R.treeForkCount=x)}function zm(r,o,u){var h=o.pendingProps,y=h.revealOrder,x=h.tail;h=h.children;var R=un.current,z=(R&2)!==0;if(z?(R=R&1|2,o.flags|=128):R&=1,G(un,R),ar(r,o,h,u),h=en?Zl:0,!z&&r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Hm(r,u,o);else if(r.tag===19)Hm(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)r=u.alternate,r!==null&&Ki(r)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),fp(o,!1,y,u,x,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&Ki(r)===null){o.child=y;break}r=y.sibling,y.sibling=u,u=y,y=r}fp(o,!0,u,null,x,h);break;case"together":fp(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function ba(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),ul|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(zo(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=Fr(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=Fr(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function dp(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Hu(r)))}function q_(r,o,u){switch(o.tag){case 3:Te(o,o.stateNode.containerInfo),Ho(o,oi,r.memoizedState.cache),pa();break;case 27:case 5:De(o);break;case 4:Te(o,o.stateNode.containerInfo);break;case 10:Ho(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,_n(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(ai(o),o.flags|=128,null):(u&o.child.childLanes)!==0?qm(r,o,u):(ai(o),r=ba(r,o,u),r!==null?r.sibling:null);ai(o);break;case 19:var y=(r.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(zo(r,o,u,!1),h=(u&o.childLanes)!==0),y){if(h)return zm(r,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),G(un,un.current),h)break;return null;case 22:return o.lanes=0,Pm(r,o,u,o.pendingProps);case 24:Ho(o,oi,r.memoizedState.cache)}return ba(r,o,u)}function Gm(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)Ii=!0;else{if(!dp(r,u)&&(o.flags&128)===0)return Ii=!1,q_(r,o,u);Ii=(r.flags&131072)!==0}else Ii=!1,en&&(o.flags&1048576)!==0&&Kf(o,Zl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(r=xe(o.elementType),o.type=r,typeof r=="function")Du(r)?(h=iu(r,h),o.tag=1,o=Bm(null,o,r,h,u)):(o.tag=0,o=sp(null,o,r,h,u));else{if(r!=null){var y=r.$$typeof;if(y===H){o.tag=11,o=Im(null,o,r,h,u);break e}else if(y===re){o.tag=14,o=Lm(null,o,r,h,u);break e}}throw o=te(r)||r,Error(i(306,o,""))}}return o;case 0:return sp(r,o,o.type,o.pendingProps,u);case 1:return h=o.type,y=iu(h,o.pendingProps),Bm(r,o,h,y,u);case 3:e:{if(Te(o,o.stateNode.containerInfo),r===null)throw Error(i(387));h=o.pendingProps;var x=o.memoizedState;y=x.element,Vn(r,o),di(o,h,null,u);var R=o.memoizedState;if(h=R.cache,Ho(o,oi,h),h!==x.cache&&ga(o,[oi],u,!0),Mn(),h=R.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:R.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=Fm(r,o,h,u);break e}else if(h!==y){y=qr(Error(i(424)),o),el(y),o=Fm(r,o,h,u);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(On=Fs(r.firstChild),Bi=o,en=!0,sr=null,Kn=!0,u=qt(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(pa(),h===y){o=ba(r,o,u);break e}ar(r,o,h,u)}o=o.child}return o;case 26:return ld(r,o),r===null?(u=ev(o.type,null,o.pendingProps,null))?o.memoizedState=u:en||(u=o.type,r=o.pendingProps,h=Ed(oe.current).createElement(u),h[An]=o,h[Gn]=r,lr(h,u,r),ni(h),o.stateNode=h):o.memoizedState=ev(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return De(o),r===null&&en&&(h=o.stateNode=X1(o.type,o.pendingProps,oe.current),Bi=o,Kn=!0,y=On,pl(o.type)?(Vp=y,On=Fs(h.firstChild)):On=y),ar(r,o,o.pendingProps.children,u),ld(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&en&&((y=h=On)&&(h=mS(h,o.type,o.pendingProps,Kn),h!==null?(o.stateNode=h,Bi=o,On=Fs(h.firstChild),Kn=!1,y=!0):y=!1),y||Fo(o)),De(o),y=o.type,x=o.pendingProps,R=r!==null?r.memoizedProps:null,h=x.children,qp(y,x)?h=null:R!==null&&qp(y,R)&&(o.flags|=32),o.memoizedState!==null&&(y=Yc(r,o,Jh,null,null,u),wf._currentValue=y),ld(r,o),ar(r,o,h,u),o.child;case 6:return r===null&&en&&((r=u=On)&&(u=vS(u,o.pendingProps,Kn),u!==null?(o.stateNode=u,Bi=o,On=null,r=!0):r=!1),r||Fo(o)),null;case 13:return qm(r,o,u);case 4:return Te(o,o.stateNode.containerInfo),h=o.pendingProps,r===null?o.child=Bn(o,null,h,u):ar(r,o,h,u),o.child;case 11:return Im(r,o,o.type,o.pendingProps,u);case 7:return ar(r,o,o.pendingProps,u),o.child;case 8:return ar(r,o,o.pendingProps.children,u),o.child;case 12:return ar(r,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,Ho(o,o.type,h.value),ar(r,o,h.children,u),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,Go(o),y=qi(y),h=h(y),o.flags|=1,ar(r,o,h,u),o.child;case 14:return Lm(r,o,o.type,o.pendingProps,u);case 15:return Mm(r,o,o.type,o.pendingProps,u);case 19:return zm(r,o,u);case 31:return F_(r,o,u);case 22:return Pm(r,o,u,o.pendingProps);case 24:return Go(o),h=qi(oi),r===null?(y=j(),y===null&&(y=Fn,x=nl(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=u),y=x),o.memoizedState={parent:h,cache:y},Ve(o),Ho(o,oi,y)):((r.lanes&u)!==0&&(Vn(r,o),di(o,null,null,u),Mn()),y=r.memoizedState,x=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Ho(o,oi,h)):(h=x.cache,Ho(o,oi,h),h!==y.cache&&ga(o,[oi],u,!0))),ar(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function wa(r){r.flags|=4}function hp(r,o,u,h,y){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(y&335544128)===y)if(r.stateNode.complete)r.flags|=8192;else if(m1())r.flags|=8192;else throw Le=ye,Ae}else r.flags&=-16777217}function jm(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!sv(o))if(m1())r.flags|=8192;else throw Le=ye,Ae}function cd(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Ss():536870912,r.lanes|=o,nc|=o)}function of(r,o){if(!en)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Wn(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,h=0;if(o)for(var y=r.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=h,r.childLanes=u,o}function H_(r,o,u){var h=o.pendingProps;switch(Fu(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(o),null;case 1:return Wn(o),null;case 3:return u=o.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Vr(oi),Ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Fi(o)?wa(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Jc())),Wn(o),null;case 26:var y=o.type,x=o.memoizedState;return r===null?(wa(o),x!==null?(Wn(o),jm(o,x)):(Wn(o),hp(o,y,null,h,u))):x?x!==r.memoizedState?(wa(o),Wn(o),jm(o,x)):(Wn(o),o.flags&=-16777217):(r=r.memoizedProps,r!==h&&wa(o),Wn(o),hp(o,y,r,h,u)),null;case 27:if(Ge(o),u=oe.current,y=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==h&&wa(o);else{if(!h){if(o.stateNode===null)throw Error(i(166));return Wn(o),null}r=Y.current,Fi(o)?$c(o):(r=X1(y,h,u),o.stateNode=r,wa(o))}return Wn(o),null;case 5:if(Ge(o),y=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==h&&wa(o);else{if(!h){if(o.stateNode===null)throw Error(i(166));return Wn(o),null}if(x=Y.current,Fi(o))$c(o);else{var R=Ed(oe.current);switch(x){case 1:x=R.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=R.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=R.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?R.createElement("select",{is:h.is}):R.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?R.createElement(y,{is:h.is}):R.createElement(y)}}x[An]=o,x[Gn]=h;e:for(R=o.child;R!==null;){if(R.tag===5||R.tag===6)x.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===o)break e;for(;R.sibling===null;){if(R.return===null||R.return===o)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}o.stateNode=x;e:switch(lr(x,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&wa(o)}}return Wn(o),hp(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,u),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==h&&wa(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(i(166));if(r=oe.current,Fi(o)){if(r=o.stateNode,u=o.memoizedProps,h=null,y=Bi,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}r[An]=o,r=!!(r.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||q1(r.nodeValue,u)),r||Fo(o,!0)}else r=Ed(r).createTextNode(h),r[An]=o,o.stateNode=r}return Wn(o),null;case 31:if(u=o.memoizedState,r===null||r.memoizedState!==null){if(h=Fi(o),u!==null){if(r===null){if(!h)throw Error(i(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[An]=o}else pa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wn(o),r=!1}else u=Jc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return o.flags&256?(En(o),o):(En(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Wn(o),null;case 13:if(h=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Fi(o),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[An]=o}else pa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wn(o),y=!1}else y=Jc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(En(o),o):(En(o),null)}return En(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,r=r!==null&&r.memoizedState!==null,u&&(h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==y&&(h.flags|=2048)),u!==r&&u&&(o.child.flags|=8192),cd(o,o.updateQueue),Wn(o),null);case 4:return Ce(),r===null&&Dp(o.stateNode.containerInfo),Wn(o),null;case 10:return Vr(o.type),Wn(o),null;case 19:if(M(un),h=o.memoizedState,h===null)return Wn(o),null;if(y=(o.flags&128)!==0,x=h.rendering,x===null)if(y)of(h,!1);else{if(vi!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(x=Ki(r),x!==null){for(o.flags|=128,of(h,!1),r=x.updateQueue,o.updateQueue=r,cd(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)Kl(u,r),u=u.sibling;return G(un,un.current&1|2),en&&kr(o,h.treeForkCount),o.child}r=r.sibling}h.tail!==null&&Bt()>gd&&(o.flags|=128,y=!0,of(h,!1),o.lanes=4194304)}else{if(!y)if(r=Ki(x),r!==null){if(o.flags|=128,y=!0,r=r.updateQueue,o.updateQueue=r,cd(o,r),of(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!en)return Wn(o),null}else 2*Bt()-h.renderingStartTime>gd&&u!==536870912&&(o.flags|=128,y=!0,of(h,!1),o.lanes=4194304);h.isBackwards?(x.sibling=o.child,o.child=x):(r=h.last,r!==null?r.sibling=x:o.child=x,h.last=x)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Bt(),r.sibling=null,u=un.current,G(un,y?u&1|2:u&1),en&&kr(o,h.treeForkCount),r):(Wn(o),null);case 22:case 23:return En(o),xi(),h=o.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(Wn(o),o.subtreeFlags&6&&(o.flags|=8192)):Wn(o),u=o.updateQueue,u!==null&&cd(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),r!==null&&M(B),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Vr(oi),Wn(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function z_(r,o){switch(Fu(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Vr(oi),Ce(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Ge(o),null;case 31:if(o.memoizedState!==null){if(En(o),o.alternate===null)throw Error(i(340));pa()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(En(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));pa()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return M(un),null;case 4:return Ce(),null;case 10:return Vr(o.type),null;case 22:case 23:return En(o),xi(),r!==null&&M(B),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Vr(oi),null;case 25:return null;default:return null}}function Vm(r,o){switch(Fu(o),o.tag){case 3:Vr(oi),Ce();break;case 26:case 27:case 5:Ge(o);break;case 4:Ce();break;case 31:o.memoizedState!==null&&En(o);break;case 13:En(o);break;case 19:M(un);break;case 10:Vr(o.type);break;case 22:case 23:En(o),xi(),r!==null&&M(B);break;case 24:Vr(oi)}}function af(r,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&r)===r){h=void 0;var x=u.create,R=u.inst;h=x(),R.destroy=h}u=u.next}while(u!==y)}}catch(z){Nn(o,o.return,z)}}function al(r,o,u){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var x=y.next;h=x;do{if((h.tag&r)===r){var R=h.inst,z=R.destroy;if(z!==void 0){R.destroy=void 0,y=o;var ue=u,Ne=z;try{Ne()}catch(Pe){Nn(y,ue,Pe)}}}h=h.next}while(h!==x)}}catch(Pe){Nn(o,o.return,Pe)}}function $m(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{hi(o,u)}catch(h){Nn(r,r.return,h)}}}function Jm(r,o,u){u.props=iu(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(h){Nn(r,o,h)}}function lf(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof u=="function"?r.refCleanup=u(h):u.current=h}}catch(y){Nn(r,o,y)}}function Wo(r,o){var u=r.ref,h=r.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(y){Nn(r,o,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Nn(r,o,y)}else u.current=null}function Wm(r){var o=r.type,u=r.memoizedProps,h=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(y){Nn(r,r.return,y)}}function pp(r,o,u){try{var h=r.stateNode;cS(h,r.type,u,o),h[Gn]=o}catch(y){Nn(r,r.return,y)}}function Ym(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&pl(r.type)||r.tag===4}function gp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ym(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&pl(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function mp(r,o,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=as));else if(h!==4&&(h===27&&pl(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(mp(r,o,u),r=r.sibling;r!==null;)mp(r,o,u),r=r.sibling}function fd(r,o,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(h!==4&&(h===27&&pl(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(fd(r,o,u),r=r.sibling;r!==null;)fd(r,o,u),r=r.sibling}function Km(r){var o=r.stateNode,u=r.memoizedProps;try{for(var h=r.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);lr(o,h,u),o[An]=r,o[Gn]=u}catch(x){Nn(r,r.return,x)}}var _a=!1,Li=!1,vp=!1,Xm=typeof WeakSet=="function"?WeakSet:Set,Xi=null;function G_(r,o){if(r=r.containerInfo,Bp=Ld,r=lo(r),Ps(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var R=0,z=-1,ue=-1,Ne=0,Pe=0,Fe=r,Re=null;t:for(;;){for(var Ie;Fe!==u||y!==0&&Fe.nodeType!==3||(z=R+y),Fe!==x||h!==0&&Fe.nodeType!==3||(ue=R+h),Fe.nodeType===3&&(R+=Fe.nodeValue.length),(Ie=Fe.firstChild)!==null;)Re=Fe,Fe=Ie;for(;;){if(Fe===r)break t;if(Re===u&&++Ne===y&&(z=R),Re===x&&++Pe===h&&(ue=R),(Ie=Fe.nextSibling)!==null)break;Fe=Re,Re=Fe.parentNode}Fe=Ie}u=z===-1||ue===-1?null:{start:z,end:ue}}else u=null}u=u||{start:0,end:0}}else u=null;for(Fp={focusedElem:r,selectionRange:u},Ld=!1,Xi=o;Xi!==null;)if(o=Xi,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,Xi=r;else for(;Xi!==null;){switch(o=Xi,x=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)y=r[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,u=o,y=x.memoizedProps,x=x.memoizedState,h=u.stateNode;try{var tt=iu(u.type,y);r=h.getSnapshotBeforeUpdate(tt,x),h.__reactInternalSnapshotBeforeUpdate=r}catch(Tt){Nn(u,u.return,Tt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)zp(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":zp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,Xi=r;break}Xi=o.return}}function Zm(r,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:xa(r,u),h&4&&af(5,u);break;case 1:if(xa(r,u),h&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(R){Nn(u,u.return,R)}else{var y=iu(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(y,o,r.__reactInternalSnapshotBeforeUpdate)}catch(R){Nn(u,u.return,R)}}h&64&&$m(u),h&512&&lf(u,u.return);break;case 3:if(xa(r,u),h&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{hi(r,o)}catch(R){Nn(u,u.return,R)}}break;case 27:o===null&&h&4&&Km(u);case 26:case 5:xa(r,u),o===null&&h&4&&Wm(u),h&512&&lf(u,u.return);break;case 12:xa(r,u);break;case 31:xa(r,u),h&4&&t1(r,u);break;case 13:xa(r,u),h&4&&n1(r,u),h&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=Z_.bind(null,u),yS(r,u))));break;case 22:if(h=u.memoizedState!==null||_a,!h){o=o!==null&&o.memoizedState!==null||Li,y=_a;var x=Li;_a=h,(Li=o)&&!x?Aa(r,u,(u.subtreeFlags&8772)!==0):xa(r,u),_a=y,Li=x}break;case 30:break;default:xa(r,u)}}function Qm(r){var o=r.alternate;o!==null&&(r.alternate=null,Qm(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Io(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Qn=null,Jr=!1;function Sa(r,o,u){for(u=u.child;u!==null;)e1(r,o,u),u=u.sibling}function e1(r,o,u){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Yt,u)}catch{}switch(u.tag){case 26:Li||Wo(u,o),Sa(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Li||Wo(u,o);var h=Qn,y=Jr;pl(u.type)&&(Qn=u.stateNode,Jr=!1),Sa(r,o,u),vf(u.stateNode),Qn=h,Jr=y;break;case 5:Li||Wo(u,o);case 6:if(h=Qn,y=Jr,Qn=null,Sa(r,o,u),Qn=h,Jr=y,Qn!==null)if(Jr)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(u.stateNode)}catch(x){Nn(u,o,x)}else try{Qn.removeChild(u.stateNode)}catch(x){Nn(u,o,x)}break;case 18:Qn!==null&&(Jr?(r=Qn,$1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),cc(r)):$1(Qn,u.stateNode));break;case 4:h=Qn,y=Jr,Qn=u.stateNode.containerInfo,Jr=!0,Sa(r,o,u),Qn=h,Jr=y;break;case 0:case 11:case 14:case 15:al(2,u,o),Li||al(4,u,o),Sa(r,o,u);break;case 1:Li||(Wo(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Jm(u,o,h)),Sa(r,o,u);break;case 21:Sa(r,o,u);break;case 22:Li=(h=Li)||u.memoizedState!==null,Sa(r,o,u),Li=h;break;default:Sa(r,o,u)}}function t1(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{cc(r)}catch(u){Nn(o,o.return,u)}}}function n1(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{cc(r)}catch(u){Nn(o,o.return,u)}}function j_(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new Xm),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new Xm),o;default:throw Error(i(435,r.tag))}}function dd(r,o){var u=j_(r);o.forEach(function(h){if(!u.has(h)){u.add(h);var y=Q_.bind(null,r,h);h.then(y,y)}})}function Wr(r,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h],x=r,R=o,z=R;e:for(;z!==null;){switch(z.tag){case 27:if(pl(z.type)){Qn=z.stateNode,Jr=!1;break e}break;case 5:Qn=z.stateNode,Jr=!1;break e;case 3:case 4:Qn=z.stateNode.containerInfo,Jr=!0;break e}z=z.return}if(Qn===null)throw Error(i(160));e1(x,R,y),Qn=null,Jr=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)i1(o,r),o=o.sibling}var vo=null;function i1(r,o){var u=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Wr(o,r),Yr(r),h&4&&(al(3,r,r.return),af(3,r),al(5,r,r.return));break;case 1:Wr(o,r),Yr(r),h&512&&(Li||u===null||Wo(u,u.return)),h&64&&_a&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var y=vo;if(Wr(o,r),Yr(r),h&512&&(Li||u===null||Wo(u,u.return)),h&4){var x=u!==null?u.memoizedState:null;if(h=r.memoizedState,u===null)if(h===null)if(r.stateNode===null){e:{h=r.type,u=r.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":x=y.getElementsByTagName("title")[0],(!x||x[ts]||x[An]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(h),y.head.insertBefore(x,y.querySelector("head > title"))),lr(x,h,u),x[An]=r,ni(x),h=x;break e;case"link":var R=iv("link","href",y).get(h+(u.href||""));if(R){for(var z=0;z<R.length;z++)if(x=R[z],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(z,1);break t}}x=y.createElement(h),lr(x,h,u),y.head.appendChild(x);break;case"meta":if(R=iv("meta","content",y).get(h+(u.content||""))){for(z=0;z<R.length;z++)if(x=R[z],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(z,1);break t}}x=y.createElement(h),lr(x,h,u),y.head.appendChild(x);break;default:throw Error(i(468,h))}x[An]=r,ni(x),h=x}r.stateNode=h}else rv(y,r.type,r.stateNode);else r.stateNode=nv(y,h,r.memoizedProps);else x!==h?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,h===null?rv(y,r.type,r.stateNode):nv(y,h,r.memoizedProps)):h===null&&r.stateNode!==null&&pp(r,r.memoizedProps,u.memoizedProps)}break;case 27:Wr(o,r),Yr(r),h&512&&(Li||u===null||Wo(u,u.return)),u!==null&&h&4&&pp(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Wr(o,r),Yr(r),h&512&&(Li||u===null||Wo(u,u.return)),r.flags&32){y=r.stateNode;try{os(y,"")}catch(tt){Nn(r,r.return,tt)}}h&4&&r.stateNode!=null&&(y=r.memoizedProps,pp(r,y,u!==null?u.memoizedProps:y)),h&1024&&(vp=!0);break;case 6:if(Wr(o,r),Yr(r),h&4){if(r.stateNode===null)throw Error(i(162));h=r.memoizedProps,u=r.stateNode;try{u.nodeValue=h}catch(tt){Nn(r,r.return,tt)}}break;case 3:if(Cd=null,y=vo,vo=Td(o.containerInfo),Wr(o,r),vo=y,Yr(r),h&4&&u!==null&&u.memoizedState.isDehydrated)try{cc(o.containerInfo)}catch(tt){Nn(r,r.return,tt)}vp&&(vp=!1,r1(r));break;case 4:h=vo,vo=Td(r.stateNode.containerInfo),Wr(o,r),Yr(r),vo=h;break;case 12:Wr(o,r),Yr(r);break;case 31:Wr(o,r),Yr(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,dd(r,h)));break;case 13:Wr(o,r),Yr(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(pd=Bt()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,dd(r,h)));break;case 22:y=r.memoizedState!==null;var ue=u!==null&&u.memoizedState!==null,Ne=_a,Pe=Li;if(_a=Ne||y,Li=Pe||ue,Wr(o,r),Li=Pe,_a=Ne,Yr(r),h&8192)e:for(o=r.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||ue||_a||Li||ru(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){ue=u=o;try{if(x=ue.stateNode,y)R=x.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{z=ue.stateNode;var Fe=ue.memoizedProps.style,Re=Fe!=null&&Fe.hasOwnProperty("display")?Fe.display:null;z.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(tt){Nn(ue,ue.return,tt)}}}else if(o.tag===6){if(u===null){ue=o;try{ue.stateNode.nodeValue=y?"":ue.memoizedProps}catch(tt){Nn(ue,ue.return,tt)}}}else if(o.tag===18){if(u===null){ue=o;try{var Ie=ue.stateNode;y?J1(Ie,!0):J1(ue.stateNode,!1)}catch(tt){Nn(ue,ue.return,tt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=r.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,dd(r,u))));break;case 19:Wr(o,r),Yr(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,dd(r,h)));break;case 30:break;case 21:break;default:Wr(o,r),Yr(r)}}function Yr(r){var o=r.flags;if(o&2){try{for(var u,h=r.return;h!==null;){if(Ym(h)){u=h;break}h=h.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var y=u.stateNode,x=gp(r);fd(r,x,y);break;case 5:var R=u.stateNode;u.flags&32&&(os(R,""),u.flags&=-33);var z=gp(r);fd(r,z,R);break;case 3:case 4:var ue=u.stateNode.containerInfo,Ne=gp(r);mp(r,Ne,ue);break;default:throw Error(i(161))}}catch(Pe){Nn(r,r.return,Pe)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function r1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;r1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function xa(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Zm(r,o.alternate,o),o=o.sibling}function ru(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:al(4,o,o.return),ru(o);break;case 1:Wo(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Jm(o,o.return,u),ru(o);break;case 27:vf(o.stateNode);case 26:case 5:Wo(o,o.return),ru(o);break;case 22:o.memoizedState===null&&ru(o);break;case 30:ru(o);break;default:ru(o)}r=r.sibling}}function Aa(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=r,x=o,R=x.flags;switch(x.tag){case 0:case 11:case 15:Aa(y,x,u),af(4,x);break;case 1:if(Aa(y,x,u),h=x,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Ne){Nn(h,h.return,Ne)}if(h=x,y=h.updateQueue,y!==null){var z=h.stateNode;try{var ue=y.shared.hiddenCallbacks;if(ue!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ue.length;y++)Yi(ue[y],z)}catch(Ne){Nn(h,h.return,Ne)}}u&&R&64&&$m(x),lf(x,x.return);break;case 27:Km(x);case 26:case 5:Aa(y,x,u),u&&h===null&&R&4&&Wm(x),lf(x,x.return);break;case 12:Aa(y,x,u);break;case 31:Aa(y,x,u),u&&R&4&&t1(y,x);break;case 13:Aa(y,x,u),u&&R&4&&n1(y,x);break;case 22:x.memoizedState===null&&Aa(y,x,u),lf(x,x.return);break;case 30:break;default:Aa(y,x,u)}o=o.sibling}}function yp(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Ql(u))}function bp(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Ql(r))}function yo(r,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)s1(r,o,u,h),o=o.sibling}function s1(r,o,u,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:yo(r,o,u,h),y&2048&&af(9,o);break;case 1:yo(r,o,u,h);break;case 3:yo(r,o,u,h),y&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Ql(r)));break;case 12:if(y&2048){yo(r,o,u,h),r=o.stateNode;try{var x=o.memoizedProps,R=x.id,z=x.onPostCommit;typeof z=="function"&&z(R,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ue){Nn(o,o.return,ue)}}else yo(r,o,u,h);break;case 31:yo(r,o,u,h);break;case 13:yo(r,o,u,h);break;case 23:break;case 22:x=o.stateNode,R=o.alternate,o.memoizedState!==null?x._visibility&2?yo(r,o,u,h):uf(r,o):x._visibility&2?yo(r,o,u,h):(x._visibility|=2,Qu(r,o,u,h,(o.subtreeFlags&10256)!==0||!1)),y&2048&&yp(R,o);break;case 24:yo(r,o,u,h),y&2048&&bp(o.alternate,o);break;default:yo(r,o,u,h)}}function Qu(r,o,u,h,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=r,R=o,z=u,ue=h,Ne=R.flags;switch(R.tag){case 0:case 11:case 15:Qu(x,R,z,ue,y),af(8,R);break;case 23:break;case 22:var Pe=R.stateNode;R.memoizedState!==null?Pe._visibility&2?Qu(x,R,z,ue,y):uf(x,R):(Pe._visibility|=2,Qu(x,R,z,ue,y)),y&&Ne&2048&&yp(R.alternate,R);break;case 24:Qu(x,R,z,ue,y),y&&Ne&2048&&bp(R.alternate,R);break;default:Qu(x,R,z,ue,y)}o=o.sibling}}function uf(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,h=o,y=h.flags;switch(h.tag){case 22:uf(u,h),y&2048&&yp(h.alternate,h);break;case 24:uf(u,h),y&2048&&bp(h.alternate,h);break;default:uf(u,h)}o=o.sibling}}var cf=8192;function ec(r,o,u){if(r.subtreeFlags&cf)for(r=r.child;r!==null;)o1(r,o,u),r=r.sibling}function o1(r,o,u){switch(r.tag){case 26:ec(r,o,u),r.flags&cf&&r.memoizedState!==null&&kS(u,vo,r.memoizedState,r.memoizedProps);break;case 5:ec(r,o,u);break;case 3:case 4:var h=vo;vo=Td(r.stateNode.containerInfo),ec(r,o,u),vo=h;break;case 22:r.memoizedState===null&&(h=r.alternate,h!==null&&h.memoizedState!==null?(h=cf,cf=16777216,ec(r,o,u),cf=h):ec(r,o,u));break;default:ec(r,o,u)}}function a1(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function ff(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Xi=h,u1(h,r)}a1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)l1(r),r=r.sibling}function l1(r){switch(r.tag){case 0:case 11:case 15:ff(r),r.flags&2048&&al(9,r,r.return);break;case 3:ff(r);break;case 12:ff(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,hd(r)):ff(r);break;default:ff(r)}}function hd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Xi=h,u1(h,r)}a1(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:al(8,o,o.return),hd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,hd(o));break;default:hd(o)}r=r.sibling}}function u1(r,o){for(;Xi!==null;){var u=Xi;switch(u.tag){case 0:case 11:case 15:al(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ql(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Xi=h;else e:for(u=r;Xi!==null;){h=Xi;var y=h.sibling,x=h.return;if(Qm(h),h===u){Xi=null;break e}if(y!==null){y.return=x,Xi=y;break e}Xi=x}}}var V_={getCacheForType:function(r){var o=qi(oi),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u},cacheSignal:function(){return qi(oi).controller.signal}},$_=typeof WeakMap=="function"?WeakMap:Map,Sn=0,Fn=null,tn=null,rn=0,Tn=0,ps=null,ll=!1,tc=!1,wp=!1,Ea=0,vi=0,ul=0,su=0,_p=0,gs=0,nc=0,df=null,Kr=null,Sp=!1,pd=0,c1=0,gd=1/0,md=null,cl=null,zi=0,fl=null,ic=null,Ta=0,xp=0,Ap=null,f1=null,hf=0,Ep=null;function ms(){return(Sn&2)!==0&&rn!==0?rn&-rn:ee.T!==null?Ip():Ni()}function d1(){if(gs===0)if((rn&536870912)===0||en){var r=xn;xn<<=1,(xn&3932160)===0&&(xn=262144),gs=r}else gs=536870912;return r=Jn.current,r!==null&&(r.flags|=32),gs}function Xr(r,o,u){(r===Fn&&(Tn===2||Tn===9)||r.cancelPendingCommit!==null)&&(rc(r,0),dl(r,rn,gs,!1)),ht(r,u),((Sn&2)===0||r!==Fn)&&(r===Fn&&((Sn&2)===0&&(su|=u),vi===4&&dl(r,rn,gs,!1)),Yo(r))}function h1(r,o,u){if((Sn&6)!==0)throw Error(i(327));var h=!u&&(o&127)===0&&(o&r.expiredLanes)===0||Qr(r,o),y=h?Y_(r,o):Np(r,o,!0),x=h;do{if(y===0){tc&&!h&&dl(r,o,0,!1);break}else{if(u=r.current.alternate,x&&!J_(u)){y=Np(r,o,!1),x=!1;continue}if(y===2){if(x=o,r.errorRecoveryDisabledLanes&x)var R=0;else R=r.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){o=R;e:{var z=r;y=df;var ue=z.current.memoizedState.isDehydrated;if(ue&&(rc(z,R).flags|=256),R=Np(z,R,!1),R!==2){if(wp&&!ue){z.errorRecoveryDisabledLanes|=x,su|=x,y=4;break e}x=Kr,Kr=y,x!==null&&(Kr===null?Kr=x:Kr.push.apply(Kr,x))}y=R}if(x=!1,y!==2)continue}}if(y===1){rc(r,0),dl(r,o,0,!0);break}e:{switch(h=r,x=y,x){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:dl(h,o,gs,!ll);break e;case 2:Kr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(y=pd+300-Bt(),10<y)){if(dl(h,o,gs,!ll),on(h,0,!0)!==0)break e;Ta=o,h.timeoutHandle=j1(p1.bind(null,h,u,Kr,md,Sp,o,gs,su,nc,ll,x,"Throttled",-0,0),y);break e}p1(h,u,Kr,md,Sp,o,gs,su,nc,ll,x,null,-0,0)}}break}while(!0);Yo(r)}function p1(r,o,u,h,y,x,R,z,ue,Ne,Pe,Fe,Re,Ie){if(r.timeoutHandle=-1,Fe=o.subtreeFlags,Fe&8192||(Fe&16785408)===16785408){Fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:as},o1(o,x,Fe);var tt=(x&62914560)===x?pd-Bt():(x&4194048)===x?c1-Bt():0;if(tt=IS(Fe,tt),tt!==null){Ta=x,r.cancelPendingCommit=tt(S1.bind(null,r,o,x,u,h,y,R,z,ue,Pe,Fe,null,Re,Ie)),dl(r,x,R,!Ne);return}}S1(r,o,x,u,h,y,R,z,ue)}function J_(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var y=u[h],x=y.getSnapshot;y=y.value;try{if(!Ui(x(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function dl(r,o,u,h){o&=~_p,o&=~su,r.suspendedLanes|=o,r.pingedLanes&=~o,h&&(r.warmLanes|=o),h=r.expirationTimes;for(var y=o;0<y;){var x=31-Zt(y),R=1<<x;h[x]=-1,y&=~R}u!==0&&xs(r,u,o)}function vd(){return(Sn&6)===0?(pf(0),!1):!0}function Tp(){if(tn!==null){if(Tn===0)var r=tn.return;else r=tn,Us=qo=null,$u(r),qe=null,nt=0,r=tn;for(;r!==null;)Vm(r.alternate,r),r=r.return;tn=null}}function rc(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,hS(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Ta=0,Tp(),Fn=r,tn=u=Fr(r.current,null),rn=o,Tn=0,ps=null,ll=!1,tc=Qr(r,o),wp=!1,nc=gs=_p=su=ul=vi=0,Kr=df=null,Sp=!1,(o&8)!==0&&(o|=o&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=o;0<h;){var y=31-Zt(h),x=1<<y;o|=r[y],h&=~x}return Ea=o,Jl(),u}function g1(r,o){pt=null,ee.H=rf,o===pe||o===X?(o=Oe(),Tn=3):o===Ae?(o=Oe(),Tn=4):Tn=o===rp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ps=o,tn===null&&(vi=1,od(r,qr(o,r.current)))}function m1(){var r=Jn.current;return r===null?!0:(rn&4194048)===rn?dn===null:(rn&62914560)===rn||(rn&536870912)!==0?r===dn:!1}function v1(){var r=ee.H;return ee.H=rf,r===null?rf:r}function y1(){var r=ee.A;return ee.A=V_,r}function yd(){vi=4,ll||(rn&4194048)!==rn&&Jn.current!==null||(tc=!0),(ul&134217727)===0&&(su&134217727)===0||Fn===null||dl(Fn,rn,gs,!1)}function Np(r,o,u){var h=Sn;Sn|=2;var y=v1(),x=y1();(Fn!==r||rn!==o)&&(md=null,rc(r,o)),o=!1;var R=vi;e:do try{if(Tn!==0&&tn!==null){var z=tn,ue=ps;switch(Tn){case 8:Tp(),R=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(o=!0);var Ne=Tn;if(Tn=0,ps=null,sc(r,z,ue,Ne),u&&tc){R=0;break e}break;default:Ne=Tn,Tn=0,ps=null,sc(r,z,ue,Ne)}}W_(),R=vi;break}catch(Pe){g1(r,Pe)}while(!0);return o&&r.shellSuspendCounter++,Us=qo=null,Sn=h,ee.H=y,ee.A=x,tn===null&&(Fn=null,rn=0,Jl()),R}function W_(){for(;tn!==null;)b1(tn)}function Y_(r,o){var u=Sn;Sn|=2;var h=v1(),y=y1();Fn!==r||rn!==o?(md=null,gd=Bt()+500,rc(r,o)):tc=Qr(r,o);e:do try{if(Tn!==0&&tn!==null){o=tn;var x=ps;t:switch(Tn){case 1:Tn=0,ps=null,sc(r,o,x,1);break;case 2:case 9:if(_e(x)){Tn=0,ps=null,w1(o);break}o=function(){Tn!==2&&Tn!==9||Fn!==r||(Tn=7),Yo(r)},x.then(o,o);break e;case 3:Tn=7;break e;case 4:Tn=5;break e;case 7:_e(x)?(Tn=0,ps=null,w1(o)):(Tn=0,ps=null,sc(r,o,x,7));break;case 5:var R=null;switch(tn.tag){case 26:R=tn.memoizedState;case 5:case 27:var z=tn;if(R?sv(R):z.stateNode.complete){Tn=0,ps=null;var ue=z.sibling;if(ue!==null)tn=ue;else{var Ne=z.return;Ne!==null?(tn=Ne,bd(Ne)):tn=null}break t}}Tn=0,ps=null,sc(r,o,x,5);break;case 6:Tn=0,ps=null,sc(r,o,x,6);break;case 8:Tp(),vi=6;break e;default:throw Error(i(462))}}K_();break}catch(Pe){g1(r,Pe)}while(!0);return Us=qo=null,ee.H=h,ee.A=y,Sn=u,tn!==null?0:(Fn=null,rn=0,Jl(),vi)}function K_(){for(;tn!==null&&!wt();)b1(tn)}function b1(r){var o=Gm(r.alternate,r,Ea);r.memoizedProps=r.pendingProps,o===null?bd(r):tn=o}function w1(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=Om(u,o,o.pendingProps,o.type,void 0,rn);break;case 11:o=Om(u,o,o.pendingProps,o.type.render,o.ref,rn);break;case 5:$u(o);default:Vm(u,o),o=tn=Kl(o,Ea),o=Gm(u,o,Ea)}r.memoizedProps=r.pendingProps,o===null?bd(r):tn=o}function sc(r,o,u,h){Us=qo=null,$u(o),qe=null,nt=0;var y=o.return;try{if(B_(r,y,o,u,rn)){vi=1,od(r,qr(u,r.current)),tn=null;return}}catch(x){if(y!==null)throw tn=y,x;vi=1,od(r,qr(u,r.current)),tn=null;return}o.flags&32768?(en||h===1?r=!0:tc||(rn&536870912)!==0?r=!1:(ll=r=!0,(h===2||h===9||h===3||h===6)&&(h=Jn.current,h!==null&&h.tag===13&&(h.flags|=16384))),_1(o,r)):bd(o)}function bd(r){var o=r;do{if((o.flags&32768)!==0){_1(o,ll);return}r=o.return;var u=H_(o.alternate,o,Ea);if(u!==null){tn=u;return}if(o=o.sibling,o!==null){tn=o;return}tn=o=r}while(o!==null);vi===0&&(vi=5)}function _1(r,o){do{var u=z_(r.alternate,r);if(u!==null){u.flags&=32767,tn=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){tn=r;return}tn=r=u}while(r!==null);vi=6,tn=null}function S1(r,o,u,h,y,x,R,z,ue){r.cancelPendingCommit=null;do wd();while(zi!==0);if((Sn&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(x=o.lanes|o.childLanes,x|=Lu,js(r,u,x,R,z,ue),r===Fn&&(tn=Fn=null,rn=0),ic=o,fl=r,Ta=u,xp=x,Ap=y,f1=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,eS($t,function(){return N1(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=ee.T,ee.T=null,y=ce.p,ce.p=2,R=Sn,Sn|=4;try{G_(r,o,u)}finally{Sn=R,ce.p=y,ee.T=h}}zi=1,x1(),A1(),E1()}}function x1(){if(zi===1){zi=0;var r=fl,o=ic,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null;var h=ce.p;ce.p=2;var y=Sn;Sn|=4;try{i1(o,r);var x=Fp,R=lo(r.containerInfo),z=x.focusedElem,ue=x.selectionRange;if(R!==z&&z&&z.ownerDocument&&ao(z.ownerDocument.documentElement,z)){if(ue!==null&&Ps(z)){var Ne=ue.start,Pe=ue.end;if(Pe===void 0&&(Pe=Ne),"selectionStart"in z)z.selectionStart=Ne,z.selectionEnd=Math.min(Pe,z.value.length);else{var Fe=z.ownerDocument||document,Re=Fe&&Fe.defaultView||window;if(Re.getSelection){var Ie=Re.getSelection(),tt=z.textContent.length,Tt=Math.min(ue.start,tt),Un=ue.end===void 0?Tt:Math.min(ue.end,tt);!Ie.extend&&Tt>Un&&(R=Un,Un=Tt,Tt=R);var we=Ka(z,Tt),me=Ka(z,Un);if(we&&me&&(Ie.rangeCount!==1||Ie.anchorNode!==we.node||Ie.anchorOffset!==we.offset||Ie.focusNode!==me.node||Ie.focusOffset!==me.offset)){var Ee=Fe.createRange();Ee.setStart(we.node,we.offset),Ie.removeAllRanges(),Tt>Un?(Ie.addRange(Ee),Ie.extend(me.node,me.offset)):(Ee.setEnd(me.node,me.offset),Ie.addRange(Ee))}}}}for(Fe=[],Ie=z;Ie=Ie.parentNode;)Ie.nodeType===1&&Fe.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Fe.length;z++){var Be=Fe[z];Be.element.scrollLeft=Be.left,Be.element.scrollTop=Be.top}}Ld=!!Bp,Fp=Bp=null}finally{Sn=y,ce.p=h,ee.T=u}}r.current=o,zi=2}}function A1(){if(zi===2){zi=0;var r=fl,o=ic,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=ee.T,ee.T=null;var h=ce.p;ce.p=2;var y=Sn;Sn|=4;try{Zm(r,o.alternate,o)}finally{Sn=y,ce.p=h,ee.T=u}}zi=3}}function E1(){if(zi===4||zi===3){zi=0,dt();var r=fl,o=ic,u=Ta,h=f1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?zi=5:(zi=0,ic=fl=null,T1(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(cl=null),ui(u),o=o.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Yt,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=ee.T,y=ce.p,ce.p=2,ee.T=null;try{for(var x=r.onRecoverableError,R=0;R<h.length;R++){var z=h[R];x(z.value,{componentStack:z.stack})}}finally{ee.T=o,ce.p=y}}(Ta&3)!==0&&wd(),Yo(r),y=r.pendingLanes,(u&261930)!==0&&(y&42)!==0?r===Ep?hf++:(hf=0,Ep=r):hf=0,pf(0)}}function T1(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Ql(o)))}function wd(){return x1(),A1(),E1(),N1()}function N1(){if(zi!==5)return!1;var r=fl,o=xp;xp=0;var u=ui(Ta),h=ee.T,y=ce.p;try{ce.p=32>u?32:u,ee.T=null,u=Ap,Ap=null;var x=fl,R=Ta;if(zi=0,ic=fl=null,Ta=0,(Sn&6)!==0)throw Error(i(331));var z=Sn;if(Sn|=4,l1(x.current),s1(x,x.current,R,u),Sn=z,pf(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Yt,x)}catch{}return!0}finally{ce.p=y,ee.T=h,T1(r,o)}}function C1(r,o,u){o=qr(u,o),o=ip(r.stateNode,o,2),r=jt(r,o,2),r!==null&&(ht(r,2),Yo(r))}function Nn(r,o,u){if(r.tag===3)C1(r,r,u);else for(;o!==null;){if(o.tag===3){C1(o,r,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(cl===null||!cl.has(h))){r=qr(u,r),u=Rm(2),h=jt(o,u,2),h!==null&&(km(u,h,o,r),ht(h,2),Yo(h));break}}o=o.return}}function Cp(r,o,u){var h=r.pingCache;if(h===null){h=r.pingCache=new $_;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(u)||(wp=!0,y.add(u),r=X_.bind(null,r,o,u),o.then(r,r))}function X_(r,o,u){var h=r.pingCache;h!==null&&h.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Fn===r&&(rn&u)===u&&(vi===4||vi===3&&(rn&62914560)===rn&&300>Bt()-pd?(Sn&2)===0&&rc(r,0):_p|=u,nc===rn&&(nc=0)),Yo(r)}function R1(r,o){o===0&&(o=Ss()),r=co(r,o),r!==null&&(ht(r,o),Yo(r))}function Z_(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),R1(r,u)}function Q_(r,o){var u=0;switch(r.tag){case 31:case 13:var h=r.stateNode,y=r.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(o),R1(r,u)}function eS(r,o){return gt(r,o)}var _d=null,oc=null,Rp=!1,Sd=!1,kp=!1,hl=0;function Yo(r){r!==oc&&r.next===null&&(oc===null?_d=oc=r:oc=oc.next=r),Sd=!0,Rp||(Rp=!0,nS())}function pf(r,o){if(!kp&&Sd){kp=!0;do for(var u=!1,h=_d;h!==null;){if(r!==0){var y=h.pendingLanes;if(y===0)var x=0;else{var R=h.suspendedLanes,z=h.pingedLanes;x=(1<<31-Zt(42|r)+1)-1,x&=y&~(R&~z),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,M1(h,x))}else x=rn,x=on(h,h===Fn?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||Qr(h,x)||(u=!0,M1(h,x));h=h.next}while(u);kp=!1}}function tS(){k1()}function k1(){Sd=Rp=!1;var r=0;hl!==0&&dS()&&(r=hl);for(var o=Bt(),u=null,h=_d;h!==null;){var y=h.next,x=I1(h,o);x===0?(h.next=null,u===null?_d=y:u.next=y,y===null&&(oc=u)):(u=h,(r!==0||(x&3)!==0)&&(Sd=!0)),h=y}zi!==0&&zi!==5||pf(r),hl!==0&&(hl=0)}function I1(r,o){for(var u=r.suspendedLanes,h=r.pingedLanes,y=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var R=31-Zt(x),z=1<<R,ue=y[R];ue===-1?((z&u)===0||(z&h)!==0)&&(y[R]=ji(z,o)):ue<=o&&(r.expiredLanes|=z),x&=~z}if(o=Fn,u=rn,u=on(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,u===0||r===o&&(Tn===2||Tn===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&Ze(h),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Qr(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(h!==null&&Ze(h),ui(u)){case 2:case 8:u=Xt;break;case 32:u=$t;break;case 268435456:u=Dt;break;default:u=$t}return h=L1.bind(null,r),u=gt(u,h),r.callbackPriority=o,r.callbackNode=u,o}return h!==null&&h!==null&&Ze(h),r.callbackPriority=2,r.callbackNode=null,2}function L1(r,o){if(zi!==0&&zi!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(wd()&&r.callbackNode!==u)return null;var h=rn;return h=on(r,r===Fn?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(h1(r,h,o),I1(r,Bt()),r.callbackNode!=null&&r.callbackNode===u?L1.bind(null,r):null)}function M1(r,o){if(wd())return null;h1(r,o,!0)}function nS(){pS(function(){(Sn&6)!==0?gt(Pt,tS):k1()})}function Ip(){if(hl===0){var r=m;r===0&&(r=It,It<<=1,(It&261888)===0&&(It=256)),hl=r}return hl}function P1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:fr(""+r)}function D1(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function iS(r,o,u,h,y){if(o==="submit"&&u&&u.stateNode===y){var x=P1((y[Gn]||null).action),R=h.submitter;R&&(o=(o=R[Gn]||null)?P1(o.formAction):R.getAttribute("formAction"),o!==null&&(x=o,R=null));var z=new Ur("action","action",null,h,y);r.push({event:z,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(hl!==0){var ue=R?D1(y,R):new FormData(y);Xh(u,{pending:!0,data:ue,method:y.method,action:x},null,ue)}}else typeof x=="function"&&(z.preventDefault(),ue=R?D1(y,R):new FormData(y),Xh(u,{pending:!0,data:ue,method:y.method,action:x},x,ue))},currentTarget:y}]})}}for(var Lp=0;Lp<fa.length;Lp++){var Mp=fa[Lp],rS=Mp.toLowerCase(),sS=Mp[0].toUpperCase()+Mp.slice(1);Br(rS,"on"+sS)}Br(ca,"onAnimationEnd"),Br(Vl,"onAnimationIteration"),Br(zc,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(Jf,"onTransitionRun"),Br(Wf,"onTransitionStart"),Br(Yf,"onTransitionCancel"),Br(Gc,"onTransitionEnd"),Vs("onMouseEnter",["mouseout","mouseover"]),Vs("onMouseLeave",["mouseout","mouseover"]),Vs("onPointerEnter",["pointerout","pointerover"]),Vs("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gf));function U1(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var h=r[u],y=h.event;h=h.listeners;e:{var x=void 0;if(o)for(var R=h.length-1;0<=R;R--){var z=h[R],ue=z.instance,Ne=z.currentTarget;if(z=z.listener,ue!==x&&y.isPropagationStopped())break e;x=z,y.currentTarget=Ne;try{x(y)}catch(Pe){$l(Pe)}y.currentTarget=null,x=ue}else for(R=0;R<h.length;R++){if(z=h[R],ue=z.instance,Ne=z.currentTarget,z=z.listener,ue!==x&&y.isPropagationStopped())break e;x=z,y.currentTarget=Ne;try{x(y)}catch(Pe){$l(Pe)}y.currentTarget=null,x=ue}}}}function nn(r,o){var u=o[Sr];u===void 0&&(u=o[Sr]=new Set);var h=r+"__bubble";u.has(h)||(O1(o,r,2,!1),u.add(h))}function Pp(r,o,u){var h=0;o&&(h|=4),O1(u,r,h,o)}var xd="_reactListening"+Math.random().toString(36).slice(2);function Dp(r){if(!r[xd]){r[xd]=!0,Cl.forEach(function(u){u!=="selectionchange"&&(oS.has(u)||Pp(u,!1,r),Pp(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[xd]||(o[xd]=!0,Pp("selectionchange",!1,o))}}function O1(r,o,u,h){switch(dv(o)){case 2:var y=PS;break;case 8:y=DS;break;default:y=Kp}u=y.bind(null,o,u,r),y=void 0,!ql||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?r.addEventListener(o,u,{capture:!0,passive:y}):r.addEventListener(o,u,!0):y!==void 0?r.addEventListener(o,u,{passive:y}):r.addEventListener(o,u,!1)}function Up(r,o,u,h,y){var x=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var R=h.tag;if(R===3||R===4){var z=h.stateNode.containerInfo;if(z===y)break;if(R===4)for(R=h.return;R!==null;){var ue=R.tag;if((ue===3||ue===4)&&R.stateNode.containerInfo===y)return;R=R.return}for(;z!==null;){if(R=ns(z),R===null)return;if(ue=R.tag,ue===5||ue===6||ue===26||ue===27){h=x=R;continue e}z=z.parentNode}}h=h.return}Nu(function(){var Ne=x,Pe=ia(u),Fe=[];e:{var Re=jc.get(r);if(Re!==void 0){var Ie=Ur,tt=r;switch(r){case"keypress":if(Dr(u)===0)break e;case"keydown":case"keyup":Ie=an;break;case"focusin":tt="focus",Ie=Qs;break;case"focusout":tt="blur",Ie=Qs;break;case"beforeblur":case"afterblur":Ie=Qs;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Zs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=_i;break;case ca:case Vl:case zc:Ie=A;break;case Gc:Ie=Di;break;case"scroll":case"scrollend":Ie=Ga;break;case"wheel":Ie=ls;break;case"copy":case"cut":case"paste":Ie=Q;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=ii;break;case"toggle":case"beforetoggle":Ie=zl}var Tt=(o&4)!==0,Un=!Tt&&(r==="scroll"||r==="scrollend"),we=Tt?Re!==null?Re+"Capture":null:Re;Tt=[];for(var me=Ne,Ee;me!==null;){var Be=me;if(Ee=Be.stateNode,Be=Be.tag,Be!==5&&Be!==26&&Be!==27||Ee===null||we===null||(Be=Er(me,we),Be!=null&&Tt.push(mf(me,Be,Ee))),Un)break;me=me.return}0<Tt.length&&(Re=new Ie(Re,tt,null,u,Pe),Fe.push({event:Re,listeners:Tt}))}}if((o&7)===0){e:{if(Re=r==="mouseover"||r==="pointerover",Ie=r==="mouseout"||r==="pointerout",Re&&u!==Js&&(tt=u.relatedTarget||u.fromElement)&&(ns(tt)||tt[Vi]))break e;if((Ie||Re)&&(Re=Pe.window===Pe?Pe:(Re=Pe.ownerDocument)?Re.defaultView||Re.parentWindow:window,Ie?(tt=u.relatedTarget||u.toElement,Ie=Ne,tt=tt?ns(tt):null,tt!==null&&(Un=a(tt),Tt=tt.tag,tt!==Un||Tt!==5&&Tt!==27&&Tt!==6)&&(tt=null)):(Ie=null,tt=Ne),Ie!==tt)){if(Tt=Hl,Be="onMouseLeave",we="onMouseEnter",me="mouse",(r==="pointerout"||r==="pointerover")&&(Tt=ii,Be="onPointerLeave",we="onPointerEnter",me="pointer"),Un=Ie==null?Re:ta(Ie),Ee=tt==null?Re:ta(tt),Re=new Tt(Be,me+"leave",Ie,u,Pe),Re.target=Un,Re.relatedTarget=Ee,Be=null,ns(Pe)===Ne&&(Tt=new Tt(we,me+"enter",tt,u,Pe),Tt.target=Ee,Tt.relatedTarget=Un,Be=Tt),Un=Be,Ie&&tt)t:{for(Tt=aS,we=Ie,me=tt,Ee=0,Be=we;Be;Be=Tt(Be))Ee++;Be=0;for(var yt=me;yt;yt=Tt(yt))Be++;for(;0<Ee-Be;)we=Tt(we),Ee--;for(;0<Be-Ee;)me=Tt(me),Be--;for(;Ee--;){if(we===me||me!==null&&we===me.alternate){Tt=we;break t}we=Tt(we),me=Tt(me)}Tt=null}else Tt=null;Ie!==null&&B1(Fe,Re,Ie,Tt,!1),tt!==null&&Un!==null&&B1(Fe,Un,tt,Tt,!0)}}e:{if(Re=Ne?ta(Ne):window,Ie=Re.nodeName&&Re.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Re.type==="file")var vn=Uo;else if(Gl(Re))if(dr)vn=Ls;else{vn=ri;var at=Wa}else Ie=Re.nodeName,!Ie||Ie.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Ne&&Ol(Ne.elementType)&&(vn=Uo):vn=Iu;if(vn&&(vn=vn(r,Ne))){Nr(Fe,vn,u,Pe);break e}at&&at(r,Re,Ne),r==="focusout"&&Ne&&Re.type==="number"&&Ne.memoizedProps.value!=null&&Pl(Re,"number",Re.value)}switch(at=Ne?ta(Ne):window,r){case"focusin":(Gl(at)||at.contentEditable==="true")&&(Cr=at,uo=Ne,$i=null);break;case"focusout":$i=uo=Cr=null;break;case"mousedown":Or=!0;break;case"contextmenu":case"mouseup":case"dragend":Or=!1,gn(Fe,u,Pe);break;case"selectionchange":if(ua)break;case"keydown":case"keyup":gn(Fe,u,Pe)}var Jt;if(Cs)e:{switch(r){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else Rs?Do(r,u)&&(sn="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(sn="onCompositionStart");sn&&(no&&u.locale!=="ko"&&(Rs||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&Rs&&(Jt=Cu()):(Tr=Pe,sa="value"in Tr?Tr.value:Tr.textContent,Rs=!0)),at=Ad(Ne,sn),0<at.length&&(sn=new be(sn,r,null,u,Pe),Fe.push({event:sn,listeners:at}),Jt?sn.data=Jt:(Jt=Va(u),Jt!==null&&(sn.data=Jt)))),(Jt=la?ir(r,u):io(r,u))&&(sn=Ad(Ne,"onBeforeInput"),0<sn.length&&(at=new be("onBeforeInput","beforeinput",null,u,Pe),Fe.push({event:at,listeners:sn}),at.data=Jt)),iS(Fe,r,Ne,u,Pe)}U1(Fe,o)})}function mf(r,o,u){return{instance:r,listener:o,currentTarget:u}}function Ad(r,o){for(var u=o+"Capture",h=[];r!==null;){var y=r,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=Er(r,u),y!=null&&h.unshift(mf(r,y,x)),y=Er(r,o),y!=null&&h.push(mf(r,y,x))),r.tag===3)return h;r=r.return}return[]}function aS(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function B1(r,o,u,h,y){for(var x=o._reactName,R=[];u!==null&&u!==h;){var z=u,ue=z.alternate,Ne=z.stateNode;if(z=z.tag,ue!==null&&ue===h)break;z!==5&&z!==26&&z!==27||Ne===null||(ue=Ne,y?(Ne=Er(u,x),Ne!=null&&R.unshift(mf(u,Ne,ue))):y||(Ne=Er(u,x),Ne!=null&&R.push(mf(u,Ne,ue)))),u=u.return}R.length!==0&&r.push({event:o,listeners:R})}var lS=/\r\n?/g,uS=/\u0000|\uFFFD/g;function F1(r){return(typeof r=="string"?r:""+r).replace(lS,`
`).replace(uS,"")}function q1(r,o){return o=F1(o),F1(r)===o}function Dn(r,o,u,h,y,x){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||os(r,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&os(r,""+h);break;case"className":$s(r,"class",h);break;case"tabIndex":$s(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":$s(r,u,h);break;case"style":Au(r,h,x);break;case"data":if(o!=="object"){$s(r,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(u);break}h=fr(""+h),r.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(o!=="input"&&Dn(r,o,"name",y.name,y,null),Dn(r,o,"formEncType",y.formEncType,y,null),Dn(r,o,"formMethod",y.formMethod,y,null),Dn(r,o,"formTarget",y.formTarget,y,null)):(Dn(r,o,"encType",y.encType,y,null),Dn(r,o,"method",y.method,y,null),Dn(r,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(u);break}h=fr(""+h),r.setAttribute(u,h);break;case"onClick":h!=null&&(r.onclick=as);break;case"onScroll":h!=null&&nn("scroll",r);break;case"onScrollEnd":h!=null&&nn("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}u=fr(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(u,""+h):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":h===!0?r.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(u,h):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(u,h):r.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(u):r.setAttribute(u,h);break;case"popover":nn("beforetoggle",r),nn("toggle",r),Ar(r,"popover",h);break;case"xlinkActuate":ss(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ss(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ss(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ss(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ss(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ss(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ss(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ss(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ss(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ar(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Bl.get(u)||u,Ar(r,u,h))}}function Op(r,o,u,h,y,x){switch(u){case"style":Au(r,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof h=="string"?os(r,h):(typeof h=="number"||typeof h=="bigint")&&os(r,""+h);break;case"onScroll":h!=null&&nn("scroll",r);break;case"onScrollEnd":h!=null&&nn("scrollend",r);break;case"onClick":h!=null&&(r.onclick=as);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),x=r[Gn]||null,x=x!=null?x[u]:null,typeof x=="function"&&r.removeEventListener(o,x,y),typeof h=="function")){typeof x!="function"&&x!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,h,y);break e}u in r?r[u]=h:h===!0?r.setAttribute(u,""):Ar(r,u,h)}}}function lr(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nn("error",r),nn("load",r);var h=!1,y=!1,x;for(x in u)if(u.hasOwnProperty(x)){var R=u[x];if(R!=null)switch(x){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Dn(r,o,x,R,u,null)}}y&&Dn(r,o,"srcSet",u.srcSet,u,null),h&&Dn(r,o,"src",u.src,u,null);return;case"input":nn("invalid",r);var z=x=R=y=null,ue=null,Ne=null;for(h in u)if(u.hasOwnProperty(h)){var Pe=u[h];if(Pe!=null)switch(h){case"name":y=Pe;break;case"type":R=Pe;break;case"checked":ue=Pe;break;case"defaultChecked":Ne=Pe;break;case"value":x=Pe;break;case"defaultValue":z=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(i(137,o));break;default:Dn(r,o,h,Pe,u,null)}}Su(r,x,z,ue,Ne,R,y,!1);return;case"select":nn("invalid",r),h=R=x=null;for(y in u)if(u.hasOwnProperty(y)&&(z=u[y],z!=null))switch(y){case"value":x=z;break;case"defaultValue":R=z;break;case"multiple":h=z;default:Dn(r,o,y,z,u,null)}o=x,u=R,r.multiple=!!h,o!=null?nr(r,!!h,o,!1):u!=null&&nr(r,!!h,u,!0);return;case"textarea":nn("invalid",r),x=y=h=null;for(R in u)if(u.hasOwnProperty(R)&&(z=u[R],z!=null))switch(R){case"value":h=z;break;case"defaultValue":y=z;break;case"children":x=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:Dn(r,o,R,z,u,null)}Ul(r,h,y,x);return;case"option":for(ue in u)if(u.hasOwnProperty(ue)&&(h=u[ue],h!=null))switch(ue){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Dn(r,o,ue,h,u,null)}return;case"dialog":nn("beforetoggle",r),nn("toggle",r),nn("cancel",r),nn("close",r);break;case"iframe":case"object":nn("load",r);break;case"video":case"audio":for(h=0;h<gf.length;h++)nn(gf[h],r);break;case"image":nn("error",r),nn("load",r);break;case"details":nn("toggle",r);break;case"embed":case"source":case"link":nn("error",r),nn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ne in u)if(u.hasOwnProperty(Ne)&&(h=u[Ne],h!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Dn(r,o,Ne,h,u,null)}return;default:if(Ol(o)){for(Pe in u)u.hasOwnProperty(Pe)&&(h=u[Pe],h!==void 0&&Op(r,o,Pe,h,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(h=u[z],h!=null&&Dn(r,o,z,h,u,null))}function cS(r,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,R=null,z=null,ue=null,Ne=null,Pe=null;for(Ie in u){var Fe=u[Ie];if(u.hasOwnProperty(Ie)&&Fe!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":ue=Fe;default:h.hasOwnProperty(Ie)||Dn(r,o,Ie,null,h,Fe)}}for(var Re in h){var Ie=h[Re];if(Fe=u[Re],h.hasOwnProperty(Re)&&(Ie!=null||Fe!=null))switch(Re){case"type":x=Ie;break;case"name":y=Ie;break;case"checked":Ne=Ie;break;case"defaultChecked":Pe=Ie;break;case"value":R=Ie;break;case"defaultValue":z=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(i(137,o));break;default:Ie!==Fe&&Dn(r,o,Re,Ie,h,Fe)}}qa(r,R,z,ue,Ne,Pe,x,y);return;case"select":Ie=R=z=Re=null;for(x in u)if(ue=u[x],u.hasOwnProperty(x)&&ue!=null)switch(x){case"value":break;case"multiple":Ie=ue;default:h.hasOwnProperty(x)||Dn(r,o,x,null,h,ue)}for(y in h)if(x=h[y],ue=u[y],h.hasOwnProperty(y)&&(x!=null||ue!=null))switch(y){case"value":Re=x;break;case"defaultValue":z=x;break;case"multiple":R=x;default:x!==ue&&Dn(r,o,y,x,h,ue)}o=z,u=R,h=Ie,Re!=null?nr(r,!!u,Re,!1):!!h!=!!u&&(o!=null?nr(r,!!u,o,!0):nr(r,!!u,u?[]:"",!1));return;case"textarea":Ie=Re=null;for(z in u)if(y=u[z],u.hasOwnProperty(z)&&y!=null&&!h.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Dn(r,o,z,null,h,y)}for(R in h)if(y=h[R],x=u[R],h.hasOwnProperty(R)&&(y!=null||x!=null))switch(R){case"value":Re=y;break;case"defaultValue":Ie=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==x&&Dn(r,o,R,y,h,x)}Dl(r,Re,Ie);return;case"option":for(var tt in u)if(Re=u[tt],u.hasOwnProperty(tt)&&Re!=null&&!h.hasOwnProperty(tt))switch(tt){case"selected":r.selected=!1;break;default:Dn(r,o,tt,null,h,Re)}for(ue in h)if(Re=h[ue],Ie=u[ue],h.hasOwnProperty(ue)&&Re!==Ie&&(Re!=null||Ie!=null))switch(ue){case"selected":r.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:Dn(r,o,ue,Re,h,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in u)Re=u[Tt],u.hasOwnProperty(Tt)&&Re!=null&&!h.hasOwnProperty(Tt)&&Dn(r,o,Tt,null,h,Re);for(Ne in h)if(Re=h[Ne],Ie=u[Ne],h.hasOwnProperty(Ne)&&Re!==Ie&&(Re!=null||Ie!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,o));break;default:Dn(r,o,Ne,Re,h,Ie)}return;default:if(Ol(o)){for(var Un in u)Re=u[Un],u.hasOwnProperty(Un)&&Re!==void 0&&!h.hasOwnProperty(Un)&&Op(r,o,Un,void 0,h,Re);for(Pe in h)Re=h[Pe],Ie=u[Pe],!h.hasOwnProperty(Pe)||Re===Ie||Re===void 0&&Ie===void 0||Op(r,o,Pe,Re,h,Ie);return}}for(var we in u)Re=u[we],u.hasOwnProperty(we)&&Re!=null&&!h.hasOwnProperty(we)&&Dn(r,o,we,null,h,Re);for(Fe in h)Re=h[Fe],Ie=u[Fe],!h.hasOwnProperty(Fe)||Re===Ie||Re==null&&Ie==null||Dn(r,o,Fe,Re,h,Ie)}function H1(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fS(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var y=u[h],x=y.transferSize,R=y.initiatorType,z=y.duration;if(x&&z&&H1(R)){for(R=0,z=y.responseEnd,h+=1;h<u.length;h++){var ue=u[h],Ne=ue.startTime;if(Ne>z)break;var Pe=ue.transferSize,Fe=ue.initiatorType;Pe&&H1(Fe)&&(ue=ue.responseEnd,R+=Pe*(ue<z?1:(z-Ne)/(ue-Ne)))}if(--h,o+=8*(x+R)/(y.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Bp=null,Fp=null;function Ed(r){return r.nodeType===9?r:r.ownerDocument}function z1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G1(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function qp(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hp=null;function dS(){var r=window.event;return r&&r.type==="popstate"?r===Hp?!1:(Hp=r,!0):(Hp=null,!1)}var j1=typeof setTimeout=="function"?setTimeout:void 0,hS=typeof clearTimeout=="function"?clearTimeout:void 0,V1=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof V1<"u"?function(r){return V1.resolve(null).then(r).catch(gS)}:j1;function gS(r){setTimeout(function(){throw r})}function pl(r){return r==="head"}function $1(r,o){var u=o,h=0;do{var y=u.nextSibling;if(r.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(h===0){r.removeChild(y),cc(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")vf(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,vf(u);for(var x=u.firstChild;x;){var R=x.nextSibling,z=x.nodeName;x[ts]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=R}}else u==="body"&&vf(r.ownerDocument.body);u=y}while(u);cc(o)}function J1(r,o){var u=r;r=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=h}while(u)}function zp(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":zp(u),Io(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function mS(r,o,u,h){for(;r.nodeType===1;){var y=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[ts])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=Fs(r.nextSibling),r===null)break}return null}function vS(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Fs(r.nextSibling),r===null))return null;return r}function W1(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Fs(r.nextSibling),r===null))return null;return r}function Gp(r){return r.data==="$?"||r.data==="$~"}function jp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function yS(r,o){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function Fs(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var Vp=null;function Y1(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(o===0)return Fs(r.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}r=r.nextSibling}return null}function K1(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return r;o--}else u!=="/$"&&u!=="/&"||o++}r=r.previousSibling}return null}function X1(r,o,u){switch(o=Ed(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function vf(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Io(r)}var qs=new Map,Z1=new Set;function Td(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Na=ce.d;ce.d={f:bS,r:wS,D:_S,C:SS,L:xS,m:AS,X:TS,S:ES,M:NS};function bS(){var r=Na.f(),o=vd();return r||o}function wS(r){var o=is(r);o!==null&&o.tag===5&&o.type==="form"?gm(o):Na.r(r)}var ac=typeof document>"u"?null:document;function Q1(r,o,u){var h=ac;if(h&&typeof o=="string"&&o){var y=ci(o);y='link[rel="'+r+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),Z1.has(y)||(Z1.add(y),r={rel:r,crossOrigin:u,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),lr(o,"link",r),ni(o),h.head.appendChild(o)))}}function _S(r){Na.D(r),Q1("dns-prefetch",r,null)}function SS(r,o){Na.C(r,o),Q1("preconnect",r,o)}function xS(r,o,u){Na.L(r,o,u);var h=ac;if(h&&r&&o){var y='link[rel="preload"][as="'+ci(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+ci(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+ci(u.imageSizes)+'"]')):y+='[href="'+ci(r)+'"]';var x=y;switch(o){case"style":x=lc(r);break;case"script":x=uc(r)}qs.has(x)||(r=w({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),qs.set(x,r),h.querySelector(y)!==null||o==="style"&&h.querySelector(yf(x))||o==="script"&&h.querySelector(bf(x))||(o=h.createElement("link"),lr(o,"link",r),ni(o),h.head.appendChild(o)))}}function AS(r,o){Na.m(r,o);var u=ac;if(u&&r){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+ci(h)+'"][href="'+ci(r)+'"]',x=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=uc(r)}if(!qs.has(x)&&(r=w({rel:"modulepreload",href:r},o),qs.set(x,r),u.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(bf(x)))return}h=u.createElement("link"),lr(h,"link",r),ni(h),u.head.appendChild(h)}}}function ES(r,o,u){Na.S(r,o,u);var h=ac;if(h&&r){var y=As(h).hoistableStyles,x=lc(r);o=o||"default";var R=y.get(x);if(!R){var z={loading:0,preload:null};if(R=h.querySelector(yf(x)))z.loading=5;else{r=w({rel:"stylesheet",href:r,"data-precedence":o},u),(u=qs.get(x))&&$p(r,u);var ue=R=h.createElement("link");ni(ue),lr(ue,"link",r),ue._p=new Promise(function(Ne,Pe){ue.onload=Ne,ue.onerror=Pe}),ue.addEventListener("load",function(){z.loading|=1}),ue.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Nd(R,o,h)}R={type:"stylesheet",instance:R,count:1,state:z},y.set(x,R)}}}function TS(r,o){Na.X(r,o);var u=ac;if(u&&r){var h=As(u).hoistableScripts,y=uc(r),x=h.get(y);x||(x=u.querySelector(bf(y)),x||(r=w({src:r,async:!0},o),(o=qs.get(y))&&Jp(r,o),x=u.createElement("script"),ni(x),lr(x,"link",r),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function NS(r,o){Na.M(r,o);var u=ac;if(u&&r){var h=As(u).hoistableScripts,y=uc(r),x=h.get(y);x||(x=u.querySelector(bf(y)),x||(r=w({src:r,async:!0,type:"module"},o),(o=qs.get(y))&&Jp(r,o),x=u.createElement("script"),ni(x),lr(x,"link",r),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function ev(r,o,u,h){var y=(y=oe.current)?Td(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=lc(u.href),u=As(y).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=lc(u.href);var x=As(y).hoistableStyles,R=x.get(r);if(R||(y=y.ownerDocument||y,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,R),(x=y.querySelector(yf(r)))&&!x._p&&(R.instance=x,R.state.loading=5),qs.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},qs.set(r,u),x||CS(y,r,u,R.state))),o&&h===null)throw Error(i(528,""));return R}if(o&&h!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=uc(u),u=As(y).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function lc(r){return'href="'+ci(r)+'"'}function yf(r){return'link[rel="stylesheet"]['+r+"]"}function tv(r){return w({},r,{"data-precedence":r.precedence,precedence:null})}function CS(r,o,u,h){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=r.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),lr(o,"link",u),ni(o),r.head.appendChild(o))}function uc(r){return'[src="'+ci(r)+'"]'}function bf(r){return"script[async]"+r}function nv(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=r.querySelector('style[data-href~="'+ci(u.href)+'"]');if(h)return o.instance=h,ni(h),h;var y=w({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),ni(h),lr(h,"style",y),Nd(h,u.precedence,r),o.instance=h;case"stylesheet":y=lc(u.href);var x=r.querySelector(yf(y));if(x)return o.state.loading|=4,o.instance=x,ni(x),x;h=tv(u),(y=qs.get(y))&&$p(h,y),x=(r.ownerDocument||r).createElement("link"),ni(x);var R=x;return R._p=new Promise(function(z,ue){R.onload=z,R.onerror=ue}),lr(x,"link",h),o.state.loading|=4,Nd(x,u.precedence,r),o.instance=x;case"script":return x=uc(u.src),(y=r.querySelector(bf(x)))?(o.instance=y,ni(y),y):(h=u,(y=qs.get(x))&&(h=w({},u),Jp(h,y)),r=r.ownerDocument||r,y=r.createElement("script"),ni(y),lr(y,"link",h),r.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Nd(h,u.precedence,r));return o.instance}function Nd(r,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,x=y,R=0;R<h.length;R++){var z=h[R];if(z.dataset.precedence===o)x=z;else if(x!==y)break}x?x.parentNode.insertBefore(r,x.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function $p(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Jp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Cd=null;function iv(r,o,u){if(Cd===null){var h=new Map,y=Cd=new Map;y.set(u,h)}else y=Cd,h=y.get(u),h||(h=new Map,y.set(u,h));if(h.has(r))return h;for(h.set(r,null),u=u.getElementsByTagName(r),y=0;y<u.length;y++){var x=u[y];if(!(x[ts]||x[An]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var R=x.getAttribute(o)||"";R=r+R;var z=h.get(R);z?z.push(x):h.set(R,[x])}}return h}function rv(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function RS(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function sv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function kS(r,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=lc(h.href),x=o.querySelector(yf(y));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=Rd.bind(r),o.then(r,r)),u.state.loading|=4,u.instance=x,ni(x);return}x=o.ownerDocument||o,h=tv(h),(y=qs.get(y))&&$p(h,y),x=x.createElement("link"),ni(x);var R=x;R._p=new Promise(function(z,ue){R.onload=z,R.onerror=ue}),lr(x,"link",h),u.instance=x}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=Rd.bind(r),o.addEventListener("load",u),o.addEventListener("error",u))}}var Wp=0;function IS(r,o){return r.stylesheets&&r.count===0&&Id(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var h=setTimeout(function(){if(r.stylesheets&&Id(r,r.stylesheets),r.unsuspend){var x=r.unsuspend;r.unsuspend=null,x()}},6e4+o);0<r.imgBytes&&Wp===0&&(Wp=62500*fS());var y=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Id(r,r.stylesheets),r.unsuspend)){var x=r.unsuspend;r.unsuspend=null,x()}},(r.imgBytes>Wp?50:800)+o);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Rd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Id(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var kd=null;function Id(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,kd=new Map,o.forEach(LS,r),kd=null,Rd.call(r))}function LS(r,o){if(!(o.state.loading&4)){var u=kd.get(r);if(u)var h=u.get(null);else{u=new Map,kd.set(r,u);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var R=y[x];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),h=R)}h&&u.set(null,h)}y=o.instance,R=y.getAttribute("data-precedence"),x=u.get(R)||h,x===h&&u.set(null,y),u.set(R,y),this.count++,h=Rd.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),x?x.parentNode.insertBefore(y,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),o.state.loading|=4}}var wf={$$typeof:U,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function MS(r,o,u,h,y,x,R,z,ue){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.hiddenUpdates=Mr(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function ov(r,o,u,h,y,x,R,z,ue,Ne,Pe,Fe){return r=new MS(r,o,u,R,ue,Ne,Pe,Fe,z),o=1,x===!0&&(o|=24),x=Wi(3,null,null,o),r.current=x,x.stateNode=r,o=nl(),o.refCount++,r.pooledCache=o,o.refCount++,x.memoizedState={element:h,isDehydrated:u,cache:o},Ve(x),r}function av(r){return r?(r=Oi,r):Oi}function lv(r,o,u,h,y,x){y=av(y),h.context===null?h.context=y:h.pendingContext=y,h=At(o),h.payload={element:u},x=x===void 0?null:x,x!==null&&(h.callback=x),u=jt(r,h,o),u!==null&&(Xr(u,r,o),wn(u,r,o))}function uv(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function Yp(r,o){uv(r,o),(r=r.alternate)&&uv(r,o)}function cv(r){if(r.tag===13||r.tag===31){var o=co(r,67108864);o!==null&&Xr(o,r,67108864),Yp(r,67108864)}}function fv(r){if(r.tag===13||r.tag===31){var o=ms();o=Hn(o);var u=co(r,o);u!==null&&Xr(u,r,o),Yp(r,o)}}var Ld=!0;function PS(r,o,u,h){var y=ee.T;ee.T=null;var x=ce.p;try{ce.p=2,Kp(r,o,u,h)}finally{ce.p=x,ee.T=y}}function DS(r,o,u,h){var y=ee.T;ee.T=null;var x=ce.p;try{ce.p=8,Kp(r,o,u,h)}finally{ce.p=x,ee.T=y}}function Kp(r,o,u,h){if(Ld){var y=Xp(h);if(y===null)Up(r,o,h,Md,u),hv(r,h);else if(OS(y,r,o,u,h))h.stopPropagation();else if(hv(r,h),o&4&&-1<US.indexOf(r)){for(;y!==null;){var x=is(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var R=ut(x.pendingLanes);if(R!==0){var z=x;for(z.pendingLanes|=2,z.entangledLanes|=2;R;){var ue=1<<31-Zt(R);z.entanglements[1]|=ue,R&=~ue}Yo(x),(Sn&6)===0&&(gd=Bt()+500,pf(0))}}break;case 31:case 13:z=co(x,2),z!==null&&Xr(z,x,2),vd(),Yp(x,2)}if(x=Xp(h),x===null&&Up(r,o,h,Md,u),x===y)break;y=x}y!==null&&h.stopPropagation()}else Up(r,o,h,null,u)}}function Xp(r){return r=ia(r),Zp(r)}var Md=null;function Zp(r){if(Md=null,r=ns(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===31){if(r=c(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Md=r,null}function dv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kt()){case Pt:return 2;case Xt:return 8;case $t:case st:return 32;case Dt:return 268435456;default:return 32}default:return 32}}var Qp=!1,gl=null,ml=null,vl=null,_f=new Map,Sf=new Map,yl=[],US="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hv(r,o){switch(r){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":ml=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":_f.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sf.delete(o.pointerId)}}function xf(r,o,u,h,y,x){return r===null||r.nativeEvent!==x?(r={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:x,targetContainers:[y]},o!==null&&(o=is(o),o!==null&&cv(o)),r):(r.eventSystemFlags|=h,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function OS(r,o,u,h,y){switch(o){case"focusin":return gl=xf(gl,r,o,u,h,y),!0;case"dragenter":return ml=xf(ml,r,o,u,h,y),!0;case"mouseover":return vl=xf(vl,r,o,u,h,y),!0;case"pointerover":var x=y.pointerId;return _f.set(x,xf(_f.get(x)||null,r,o,u,h,y)),!0;case"gotpointercapture":return x=y.pointerId,Sf.set(x,xf(Sf.get(x)||null,r,o,u,h,y)),!0}return!1}function pv(r){var o=ns(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,ko(r.priority,function(){fv(u)});return}}else if(o===31){if(o=c(u),o!==null){r.blockedOn=o,ko(r.priority,function(){fv(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Pd(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=Xp(r.nativeEvent);if(u===null){u=r.nativeEvent;var h=new u.constructor(u.type,u);Js=h,u.target.dispatchEvent(h),Js=null}else return o=is(u),o!==null&&cv(o),r.blockedOn=u,!1;o.shift()}return!0}function gv(r,o,u){Pd(r)&&u.delete(o)}function BS(){Qp=!1,gl!==null&&Pd(gl)&&(gl=null),ml!==null&&Pd(ml)&&(ml=null),vl!==null&&Pd(vl)&&(vl=null),_f.forEach(gv),Sf.forEach(gv)}function Dd(r,o){r.blockedOn===o&&(r.blockedOn=null,Qp||(Qp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BS)))}var Ud=null;function mv(r){Ud!==r&&(Ud=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ud===r&&(Ud=null);for(var o=0;o<r.length;o+=3){var u=r[o],h=r[o+1],y=r[o+2];if(typeof h!="function"){if(Zp(h||u)===null)continue;break}var x=is(u);x!==null&&(r.splice(o,3),o-=3,Xh(x,{pending:!0,data:y,method:u.method,action:h},h,y))}}))}function cc(r){function o(ue){return Dd(ue,r)}gl!==null&&Dd(gl,r),ml!==null&&Dd(ml,r),vl!==null&&Dd(vl,r),_f.forEach(o),Sf.forEach(o);for(var u=0;u<yl.length;u++){var h=yl[u];h.blockedOn===r&&(h.blockedOn=null)}for(;0<yl.length&&(u=yl[0],u.blockedOn===null);)pv(u),u.blockedOn===null&&yl.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var y=u[h],x=u[h+1],R=y[Gn]||null;if(typeof x=="function")R||mv(u);else if(R){var z=null;if(x&&x.hasAttribute("formAction")){if(y=x,R=x[Gn]||null)z=R.formAction;else if(Zp(y)!==null)continue}else z=R.action;typeof z=="function"?u[h+1]=z:(u.splice(h,3),h-=3),mv(u)}}}function vv(){function r(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(R){return y=R})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function e0(r){this._internalRoot=r}Od.prototype.render=e0.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,h=ms();lv(u,h,r,o,null,null)},Od.prototype.unmount=e0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;lv(r.current,2,null,r,null,null),vd(),o[Vi]=null}};function Od(r){this._internalRoot=r}Od.prototype.unstable_scheduleHydration=function(r){if(r){var o=Ni();r={blockedOn:null,target:r,priority:o};for(var u=0;u<yl.length&&o!==0&&o<yl[u].priority;u++);yl.splice(u,0,r),u===0&&pv(r)}};var yv=e.version;if(yv!=="19.2.3")throw Error(i(527,yv,"19.2.3"));ce.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(o),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var FS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bd.isDisabled&&Bd.supportsFiber)try{Yt=Bd.inject(FS),_t=Bd}catch{}}return Ef.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,h="",y=Em,x=Tm,R=Nm;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError)),o=ov(r,1,!1,null,null,u,h,null,y,x,R,vv),r[Vi]=o.current,Dp(r),new e0(o)},Ef.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var h=!1,y="",x=Em,R=Tm,z=Nm,ue=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.formState!==void 0&&(ue=u.formState)),o=ov(r,1,!0,o,u??null,h,y,ue,x,R,z,vv),o.context=av(null),u=o.current,h=ms(),h=Hn(h),y=At(h),y.callback=null,jt(u,y,h),u=h,o.current.lanes=u,ht(o,u),Yo(o),r[Vi]=o.current,Dp(r),new Od(o)},Ef.version="19.2.3",Ef}var Cv;function ZS(){if(Cv)return i0.exports;Cv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),i0.exports=XS(),i0.exports}var QS=ZS();const ex=ab(QS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nx=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Rv=t=>{const e=nx(t);return e.charAt(0).toUpperCase()+e.slice(1)},lb=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),ix=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=cn.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:l,...c},d)=>cn.createElement("svg",{ref:d,...rx,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:lb("lucide",s),...!a&&!ix(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>cn.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(t,e)=>{const n=cn.forwardRef(({className:i,...s},a)=>cn.createElement(sx,{ref:a,iconNode:e,className:lb(`lucide-${tx(Rv(t))}`,`lucide-${t}`,i),...s}));return n.displayName=Rv(t),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],kv=Ot("activity",ox);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ub=Ot("arrow-right",ax);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],ux=Ot("baby",lx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],fx=Ot("briefcase",cx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hx=Ot("check",dx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],gx=Ot("chef-hat",px);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ah=Ot("chevron-down",mx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yx=Ot("chevron-up",vx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wx=Ot("circle-alert",bx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sx=Ot("circle-check-big",_x);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ax=Ot("circle-check",xx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Tx=Ot("clipboard-list",Ex);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],Cx=Ot("cloud-sun",Nx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],kx=Ot("coffee",Rx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],a0=Ot("download",Ix);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Mx=Ot("droplets",Lx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Dx=Ot("external-link",Px);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ox=Ot("file-text",Ux);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Iv=Ot("flame",Bx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],qx=Ot("globe",Fx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],zx=Ot("info",Hx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Lv=Ot("key-round",Gx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Vx=Ot("leaf",jx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cb=Ot("loader-circle",$x);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],l0=Ot("lock",Jx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Yx=Ot("log-out",Wx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],fb=Ot("mail",Kx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Zx=Ot("map-pin",Xx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["rect",{width:"20",height:"15",x:"2",y:"4",rx:"2",key:"2no95f"}],["rect",{width:"8",height:"7",x:"6",y:"8",rx:"1",key:"zh9wx"}],["path",{d:"M18 8v7",key:"o5zi4n"}],["path",{d:"M6 19v2",key:"1loha6"}],["path",{d:"M18 19v2",key:"1dawf0"}]],eA=Ot("microwave",Qx);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M8 2h8",key:"1ssgc1"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2",key:"qtp12x"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"ygeh44"}]],nA=Ot("milk",tA);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],rA=Ot("pill",iA);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],oA=Ot("refresh-cw",sA);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],lA=Ot("repeat",aA);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],cA=Ot("ruler",uA);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],dA=Ot("shield-alert",fA);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Mv=Ot("shopping-cart",hA);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],gA=Ot("stethoscope",pA);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],vA=Ot("sun",mA);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Y0=Ot("triangle-alert",yA);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],db=Ot("user",bA);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],_A=Ot("utensils",wA);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],xA=Ot("wallet",SA);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],EA=Ot("weight",AA);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hb=Ot("x",TA);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],K0=Ot("zap",NA),CA=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:""},{code:"GBP",name:"Pound",symbol:""},{code:"CAD",name:"Canadian Dollar",symbol:"$"},{code:"AUD",name:"Australian Dollar",symbol:"$"},{code:"AED",name:"Dirham",symbol:"."},{code:"SAR",name:"Riyal",symbol:""}],Pv={name:"",email:"",age:30,gender:"female",height:170,weight:70,unit:"metric",activity:"moderate",goal:"lose",dietType:"Standard Balanced",cuisine:"Mixed / Any",budgetAmount:100,currency:"USD",allergies:"",medications:"",region:"",mealStrategy:"fresh",includeSnacks:!0,isPregnant:!1,isBreastfeeding:!1},wl=({text:t})=>L.jsxs("div",{className:"group relative inline-flex items-center justify-center ml-2 align-middle transform -translate-y-0.5",children:[L.jsx(zx,{className:"w-4 h-4 text-slate-300 hover:text-primary cursor-help transition-colors"}),L.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-56 p-3 bg-slate-800 text-white text-xs font-medium rounded-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 shadow-xl pointer-events-none text-center leading-relaxed",children:[t,L.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-slate-800"})]})]}),RA=({onComplete:t,loading:e})=>{const[n,i]=cn.useState(()=>{if(typeof window<"u"){const T=localStorage.getItem("dietly_wizard_step");return T?parseInt(T):1}return 1}),[s,a]=cn.useState(()=>{if(typeof window<"u"){const T=localStorage.getItem("dietly_wizard_data");return T?JSON.parse(T):Pv}return Pv});cn.useEffect(()=>{localStorage.setItem("dietly_wizard_data",JSON.stringify(s)),localStorage.setItem("dietly_wizard_step",n.toString())},[s,n]);const l=()=>{navigator.vibrate&&navigator.vibrate(50),i(T=>T+1)},c=()=>{if(!s.name.trim()){alert("Please enter your name.");return}navigator.vibrate&&navigator.vibrate([50,50,50]),t(s)},d=()=>i(T=>T-1),f=(T,k)=>{a(I=>({...I,[T]:k}))},p=()=>{const T=s.unit==="metric"?s.weight:Math.round(s.weight*2.20462),k=Math.floor(s.height/30.48),I=Math.round(s.height%30.48/2.54);return L.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[L.jsxs("div",{className:"space-y-2",children:[L.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-dark",children:"Let's set your baseline."}),L.jsx("p",{className:"text-slate-500 text-lg",children:"We need these numbers to calculate your 12-week progression."})]}),L.jsxs("div",{className:"flex bg-slate-100 rounded-xl p-1.5 w-full md:w-fit border border-slate-200",children:[L.jsx("button",{onClick:()=>f("unit","metric"),className:`flex-1 md:flex-none px-6 py-3 rounded-lg text-base font-bold transition-all ${s.unit==="metric"?"bg-white text-primary shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:"Metric (kg/cm)"}),L.jsx("button",{onClick:()=>f("unit","imperial"),className:`flex-1 md:flex-none px-6 py-3 rounded-lg text-base font-bold transition-all ${s.unit==="imperial"?"bg-white text-primary shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:"Imperial (lbs/ft)"})]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[L.jsxs("div",{children:[L.jsxs("label",{className:"block text-base font-bold text-slate-500 mb-2",children:["Gender",L.jsx(wl,{text:"We need this to calculate your calorie burn rate."})]}),L.jsx("div",{className:"flex gap-4",children:["female","male"].map(F=>L.jsx("button",{onClick:()=>f("gender",F),className:`flex-1 py-4 px-6 rounded-2xl border-2 capitalize font-bold text-lg transition-all ${s.gender===F?"border-primary bg-primary/5 text-primary shadow-lg shadow-primary/10":"border-slate-100 text-slate-400 hover:border-slate-200 bg-slate-50"}`,children:F},F))})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-base font-bold text-slate-500 mb-2",children:"Age"}),L.jsx("input",{type:"number",value:s.age,onChange:F=>f("age",parseInt(F.target.value)),className:"w-full p-4 rounded-2xl border-2 border-slate-100 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10 bg-slate-50 font-bold text-lg text-dark transition-all"})]})]}),s.gender==="female"&&L.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[L.jsxs("button",{onClick:()=>f("isPregnant",!s.isPregnant),className:`w-full p-4 rounded-2xl border-2 flex items-center justify-between transition-all ${s.isPregnant?"border-pink-400 bg-pink-50 text-pink-700 shadow-sm":"border-slate-100 text-slate-400 hover:border-slate-200 bg-white"}`,children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:`p-2 rounded-lg ${s.isPregnant?"bg-pink-100":"bg-slate-100"}`,children:L.jsx(ux,{className:"w-6 h-6"})}),L.jsx("div",{className:"text-left",children:L.jsx("div",{className:"font-bold text-lg",children:"Pregnant?"})})]}),L.jsx("div",{className:`w-12 h-7 rounded-full transition-colors relative ${s.isPregnant?"bg-pink-400":"bg-slate-200"}`,children:L.jsx("div",{className:`absolute top-1 left-1 w-5 h-5 bg-white rounded-full transition-transform ${s.isPregnant?"translate-x-5":"translate-x-0"}`})})]}),L.jsxs("button",{onClick:()=>f("isBreastfeeding",!s.isBreastfeeding),className:`w-full p-4 rounded-2xl border-2 flex items-center justify-between transition-all ${s.isBreastfeeding?"border-purple-400 bg-purple-50 text-purple-700 shadow-sm":"border-slate-100 text-slate-400 hover:border-slate-200 bg-white"}`,children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:`p-2 rounded-lg ${s.isBreastfeeding?"bg-purple-100":"bg-slate-100"}`,children:L.jsx(nA,{className:"w-6 h-6"})}),L.jsx("div",{className:"text-left",children:L.jsx("div",{className:"font-bold text-lg",children:"Breastfeeding?"})})]}),L.jsx("div",{className:`w-12 h-7 rounded-full transition-colors relative ${s.isBreastfeeding?"bg-purple-400":"bg-slate-200"}`,children:L.jsx("div",{className:`absolute top-1 left-1 w-5 h-5 bg-white rounded-full transition-transform ${s.isBreastfeeding?"translate-x-5":"translate-x-0"}`})})]})]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[L.jsxs("div",{children:[L.jsxs("label",{className:"block text-base font-bold text-slate-500 mb-2",children:["Height (",s.unit==="metric"?"cm":"ft / in",")"]}),L.jsxs("div",{className:"relative",children:[L.jsx(cA,{className:"absolute left-4 top-4 h-6 w-6 text-slate-400"}),s.unit==="metric"?L.jsx("input",{type:"number",value:s.height,onChange:F=>f("height",parseFloat(F.target.value)),className:"w-full pl-12 p-4 rounded-2xl border-2 border-slate-100 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10 bg-slate-50 font-bold text-lg text-dark transition-all"}):L.jsxs("div",{className:"flex gap-2",children:[L.jsxs("div",{className:"relative flex-1",children:[L.jsx("input",{type:"number",placeholder:"ft",value:k,onChange:F=>{const H=(parseInt(F.target.value)||0)*30.48+I*2.54;f("height",H)},className:"w-full pl-12 p-4 rounded-2xl border-2 border-slate-100 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10 bg-slate-50 font-bold text-lg text-dark transition-all"}),L.jsx("span",{className:"absolute right-4 top-4 text-slate-400 font-medium",children:"ft"})]}),L.jsxs("div",{className:"relative flex-1",children:[L.jsx("input",{type:"number",placeholder:"in",value:I,onChange:F=>{const U=parseInt(F.target.value)||0,H=k*30.48+U*2.54;f("height",H)},className:"w-full p-4 rounded-2xl border-2 border-slate-100 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10 bg-slate-50 font-bold text-lg text-dark transition-all"}),L.jsx("span",{className:"absolute right-4 top-4 text-slate-400 font-medium",children:"in"})]})]})]})]}),L.jsxs("div",{children:[L.jsxs("label",{className:"block text-base font-bold text-slate-500 mb-2",children:["Weight (",s.unit==="metric"?"kg":"lbs",")"]}),L.jsxs("div",{className:"relative",children:[L.jsx(EA,{className:"absolute left-4 top-4 h-6 w-6 text-slate-400"}),L.jsx("input",{type:"number",value:T,onChange:F=>{const U=parseFloat(F.target.value),H=s.unit==="metric"?U:U*.453592;f("weight",H)},className:"w-full pl-12 p-4 rounded-2xl border-2 border-slate-100 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10 bg-slate-50 font-bold text-lg text-dark transition-all"})]})]})]})]})},w=()=>{const T=[{id:"sedentary",label:"Desk Job",sub:"I sit most of the day"},{id:"light",label:"Lightly Active",sub:"I stand or walk a bit"},{id:"moderate",label:"Moderate",sub:"Active job or Gym 3x"},{id:"active",label:"Heavy",sub:"Heavy physical work"},{id:"athlete",label:"Very Heavy",sub:"Professional Training"}];return L.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-8 duration-500",children:[L.jsxs("div",{className:"space-y-2",children:[L.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-dark",children:"Your context."}),L.jsx("p",{className:"text-slate-500 text-lg",children:"Calories burned depends heavily on what you do all day."})]}),L.jsxs("div",{children:[L.jsxs("label",{className:"block text-base font-bold text-slate-500 mb-3",children:["How active are you?",L.jsx(wl,{text:"Be honest. If you select too high, you might not lose weight."})]}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.map(k=>L.jsxs("button",{onClick:()=>f("activity",k.id),className:`p-5 text-left rounded-2xl border-2 transition-all hover:scale-[1.01] active:scale-95 flex items-center justify-between h-full ${s.activity===k.id?"border-primary bg-primary/5 text-primary shadow-md":"border-slate-100 text-slate-400 hover:border-slate-200 bg-white"}`,children:[L.jsxs("div",{children:[L.jsx("div",{className:"font-bold text-lg",children:k.label}),L.jsx("div",{className:"text-sm opacity-80 font-medium mt-1",children:k.sub})]}),s.activity===k.id&&L.jsx("div",{className:"bg-primary rounded-full p-1 shrink-0 ml-2",children:L.jsx(hx,{className:"w-5 h-5 text-white"})})]},k.id))})]}),L.jsxs("div",{children:[L.jsxs("label",{className:"block text-base font-bold text-slate-500 mb-3",children:["Primary Goal",L.jsx(wl,{text:"Lose Weight, Maintain Weight, or Build Muscle."})]}),L.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:["lose","maintain","gain"].map(k=>L.jsx("button",{onClick:()=>f("goal",k),className:`flex-1 py-5 rounded-2xl border-2 capitalize transition-all hover:-translate-y-1 ${s.goal===k?"border-secondary bg-secondary text-white shadow-xl shadow-secondary/30":"border-slate-100 text-slate-500 bg-white hover:border-slate-200"}`,children:L.jsx("span",{className:"font-bold text-lg",children:k})},k))})]}),L.jsxs("div",{children:[L.jsxs("label",{className:"block text-base font-bold text-slate-500 mb-2",children:["Region / Location",L.jsx(wl,{text:"We add more water to your plan if you live in a hot climate."})]}),L.jsxs("div",{className:"relative",children:[L.jsx(Zx,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-6 w-6 text-slate-400"}),L.jsx("input",{type:"text",placeholder:"e.g. New York, USA",value:s.region,onChange:k=>f("region",k.target.value),className:"w-full pl-12 p-4 rounded-2xl border-2 border-slate-100 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10 bg-slate-50 font-bold text-lg text-dark transition-all"})]})]})]})},S=()=>L.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-8 duration-500",children:[L.jsxs("div",{className:"space-y-2",children:[L.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-dark",children:"Preferences."}),L.jsx("p",{className:"text-slate-500 text-lg",children:"The best diet is the one you actually enjoy eating."})]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[L.jsxs("div",{children:[L.jsxs("label",{className:"block text-base font-bold text-slate-500 mb-2",children:["Diet Type",L.jsx(wl,{text:"Choose your food rules. e.g. Keto = High Fat, No Carbs."})]}),L.jsxs("div",{className:"relative",children:[L.jsxs("select",{value:s.dietType,onChange:T=>f("dietType",T.target.value),className:"w-full p-4 rounded-2xl border-2 border-slate-100 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10 bg-slate-50 font-bold text-lg text-dark appearance-none",children:[L.jsx("option",{value:"Standard Balanced",children:"Standard Balanced"}),L.jsx("option",{value:"High Protein",children:"High Protein"}),L.jsx("option",{value:"Low Carb",children:"Low Carb"}),L.jsx("option",{value:"Keto",children:"Keto"}),L.jsx("option",{value:"Vegetarian",children:"Vegetarian"}),L.jsx("option",{value:"Vegan",children:"Vegan"}),L.jsx("option",{value:"Paleo",children:"Paleo"})]}),L.jsx(ah,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-500 pointer-events-none"})]})]}),L.jsxs("div",{children:[L.jsxs("label",{className:"block text-base font-bold text-slate-500 mb-2",children:["Cuisine",L.jsx(wl,{text:"The flavors you like. e.g. Mexican = Spicy & Beans."})]}),L.jsxs("div",{className:"relative",children:[L.jsx(qx,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-6 w-6 text-slate-400"}),L.jsxs("select",{value:s.cuisine,onChange:T=>f("cuisine",T.target.value),className:"w-full pl-12 p-4 rounded-2xl border-2 border-slate-100 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10 bg-slate-50 font-bold text-lg text-dark appearance-none",children:[L.jsx("option",{value:"Mixed / Any",children:"Mixed / Any"}),L.jsx("option",{value:"American",children:"American"}),L.jsx("option",{value:"Italian",children:"Italian"}),L.jsx("option",{value:"Asian",children:"Asian (General)"}),L.jsx("option",{value:"Indian",children:"Indian"}),L.jsx("option",{value:"Mediterranean",children:"Mediterranean"}),L.jsx("option",{value:"Mexican",children:"Mexican"})]}),L.jsx(ah,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-500 pointer-events-none"})]})]})]}),L.jsxs("div",{children:[L.jsxs("label",{className:"block text-base font-bold text-slate-500 mb-3",children:["Weekly Budget",L.jsx(wl,{text:"We'll use this currency to customize your checkout options (e.g. AED for UAE)."})]}),L.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[L.jsxs("div",{className:"relative w-full md:w-1/3",children:[L.jsx("select",{value:s.currency,onChange:T=>f("currency",T.target.value),className:"w-full p-4 rounded-2xl border-2 border-slate-100 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10 bg-slate-50 font-bold text-lg text-dark appearance-none",children:CA.map(T=>L.jsxs("option",{value:T.code,children:[T.code," (",T.symbol,")"]},T.code))}),L.jsx(ah,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-500 pointer-events-none"})]}),L.jsx("div",{className:"relative w-full md:w-2/3",children:L.jsx("input",{type:"number",value:s.budgetAmount,onChange:T=>f("budgetAmount",parseFloat(T.target.value)),className:"w-full p-4 rounded-2xl border-2 border-slate-100 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10 bg-slate-50 font-bold text-lg text-dark transition-all",placeholder:"Amount"})})]})]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[L.jsxs("div",{className:"md:col-span-2",children:[L.jsxs("label",{className:"block text-base font-bold text-slate-500 mb-3",children:["Cooking Strategy",L.jsx(wl,{text:"Fresh = Cook 3 times/day. Evening = Cook Dinner & Lunch together. Batch = Cook once/day."})]}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{id:"fresh",label:"Fresh Meals",icon:gx,sub:"Cook 3x/day."},{id:"leftovers",label:"Evening Prep",icon:fx,sub:"Dinner + Tiffin."},{id:"batch",label:"Daily Batch",icon:vA,sub:"Cook 1x/day."}].map(T=>L.jsxs("button",{onClick:()=>f("mealStrategy",T.id),className:`p-4 rounded-2xl border-2 flex flex-col items-center gap-2 text-center transition-all ${s.mealStrategy===T.id?"border-secondary bg-secondary/5 text-secondary shadow-lg":"border-slate-100 text-slate-400 hover:border-slate-200 bg-white"}`,children:[L.jsx(T.icon,{className:"w-8 h-8 mb-1"}),L.jsxs("div",{children:[L.jsx("div",{className:"font-bold",children:T.label}),L.jsx("div",{className:"text-xs opacity-80",children:T.sub})]})]},T.id))})]}),L.jsx("div",{className:"md:col-span-2",children:L.jsxs("button",{onClick:()=>f("includeSnacks",!s.includeSnacks),className:`w-full p-4 rounded-2xl border-2 flex items-center justify-between transition-all ${s.includeSnacks?"border-emerald-500 bg-emerald-50/50 text-emerald-700 shadow-sm":"border-slate-100 text-slate-400 hover:border-slate-200 bg-white"}`,children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:`p-2 rounded-lg ${s.includeSnacks?"bg-emerald-100":"bg-slate-100"}`,children:L.jsx(kx,{className:"w-6 h-6"})}),L.jsxs("div",{className:"text-left",children:[L.jsx("div",{className:"font-bold text-lg",children:"Include Daily Snacks?"}),L.jsx("div",{className:"text-sm opacity-80",children:"We'll add a 4th meal to your plan."})]})]}),L.jsx("div",{className:`w-12 h-7 rounded-full transition-colors relative ${s.includeSnacks?"bg-emerald-500":"bg-slate-200"}`,children:L.jsx("div",{className:`absolute top-1 left-1 w-5 h-5 bg-white rounded-full transition-transform ${s.includeSnacks?"translate-x-5":"translate-x-0"}`})})]})})]})]}),b=()=>L.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-8 duration-500",children:[L.jsxs("div",{className:"space-y-2",children:[L.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-dark",children:"Safety First."}),L.jsx("p",{className:"text-slate-500 text-lg",children:"Please mention any medical conditions or allergies."})]}),L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:"relative",children:[L.jsxs("label",{className:"block text-base font-bold text-slate-500 mb-2 flex items-center gap-2",children:[L.jsx(dA,{className:"w-5 h-5 text-secondary"}),"Allergies"]}),L.jsx("textarea",{placeholder:"e.g. Peanuts, Gluten...",value:s.allergies,onChange:T=>f("allergies",T.target.value),className:"w-full p-5 rounded-2xl border-2 border-slate-100 focus:outline-none focus:border-secondary focus:ring-4 focus:ring-secondary/10 bg-slate-50 font-bold text-lg text-dark min-h-[120px] resize-none transition-all"})]}),L.jsxs("div",{className:"relative",children:[L.jsxs("label",{className:"block text-base font-bold text-slate-500 mb-2 flex items-center gap-2",children:[L.jsx(gA,{className:"w-5 h-5 text-blue-500"}),"Medications"]}),L.jsx("textarea",{placeholder:"e.g. Insulin...",value:s.medications,onChange:T=>f("medications",T.target.value),className:"w-full p-5 rounded-2xl border-2 border-slate-100 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 bg-slate-50 font-bold text-lg text-dark min-h-[120px] resize-none transition-all"})]})]})]}),N=()=>L.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-8 duration-500",children:[L.jsxs("div",{className:"space-y-2",children:[L.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-dark",children:"Almost there."}),L.jsx("p",{className:"text-slate-500 text-lg",children:"We will save your plan automatically."})]}),L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-base font-bold text-slate-500 mb-2",children:"Full Name"}),L.jsxs("div",{className:"relative",children:[L.jsx(db,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-6 w-6 text-slate-400"}),L.jsx("input",{type:"text",placeholder:"Your Name",value:s.name,onChange:T=>f("name",T.target.value),className:"w-full pl-12 p-5 rounded-2xl border-2 border-slate-100 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10 bg-slate-50 font-bold text-lg text-dark transition-all"})]})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-base font-bold text-slate-500 mb-2",children:"Email"}),L.jsxs("div",{className:"relative",children:[L.jsx(fb,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-6 w-6 text-slate-400"}),L.jsx("input",{type:"email",placeholder:"you@example.com",value:s.email,onChange:T=>f("email",T.target.value),className:"w-full pl-12 p-5 rounded-2xl border-2 border-slate-100 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10 bg-slate-50 font-bold text-lg text-dark transition-all"})]})]})]})]});return L.jsxs("div",{className:"max-w-2xl w-full mx-auto bg-white rounded-3xl shadow-2xl shadow-slate-200/50 border border-slate-100 flex flex-col relative overflow-hidden transition-all h-[85vh] md:h-[840px]",children:[L.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-primary to-emerald-400 z-20"}),L.jsx("div",{className:"shrink-0 px-6 pt-8 pb-4 md:px-10 md:pt-10 md:pb-2 z-10 bg-white",children:L.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(T=>L.jsx("div",{className:`h-2 flex-1 rounded-full transition-all duration-500 ${n>=T?"bg-primary":"bg-slate-100"}`},T))})}),L.jsxs("div",{className:"flex-1 overflow-y-auto px-6 md:px-10 py-2 scrollbar-hide",children:[n===1&&p(),n===2&&w(),n===3&&S(),n===4&&b(),n===5&&N()]}),L.jsxs("div",{className:"shrink-0 flex justify-between items-center px-6 py-6 md:px-10 md:py-8 border-t border-slate-5 bg-white z-10",children:[n>1?L.jsx("button",{onClick:d,className:"text-slate-400 font-bold text-lg hover:text-dark transition-colors px-4 py-2",children:"Back"}):L.jsx("div",{}),L.jsxs("button",{onClick:n===5?c:l,disabled:e,className:"bg-primary hover:bg-primaryDark text-white px-8 md:px-10 py-4 md:py-5 rounded-2xl font-bold text-lg flex items-center gap-3 transition-all shadow-xl shadow-primary/30 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed ml-auto",children:[e?"Thinking...":n===5?"Generate":"Next",!e&&L.jsx(ub,{className:"w-6 h-6"})]})]})]})},kA="modulepreload",IA=function(t){return"/"+t},Dv={},u0=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(n.map(f=>{if(f=IA(f),f in Dv)return;Dv[f]=!0;const p=f.endsWith(".css"),w=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${w}`))return;const S=document.createElement("link");if(S.rel=p?"stylesheet":kA,p||(S.as="script"),S.crossOrigin="",S.href=f,d&&S.setAttribute("nonce",d),document.head.appendChild(S),p)return new Promise((b,N)=>{S.addEventListener("load",b),S.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function Rn(t){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(t)}var To=Uint8Array,_s=Uint16Array,Bg=Int32Array,Fg=new To([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qg=new To([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Uv=new To([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pb=function(t,e){for(var n=new _s(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var s=new Bg(n[30]),i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)s[a]=a-n[i]<<5|i;return{b:n,r:s}},gb=pb(Fg,2),LA=gb.b,X0=gb.r;LA[28]=258,X0[258]=28;var MA=pb(qg,0),Ov=MA.r,Z0=new _s(32768);for(var Yn=0;Yn<32768;++Yn){var _l=(Yn&43690)>>1|(Yn&21845)<<1;_l=(_l&52428)>>2|(_l&13107)<<2,_l=(_l&61680)>>4|(_l&3855)<<4,Z0[Yn]=((_l&65280)>>8|(_l&255)<<8)>>1}var Lf=(function(t,e,n){for(var i=t.length,s=0,a=new _s(e);s<i;++s)t[s]&&++a[t[s]-1];var l=new _s(e);for(s=1;s<e;++s)l[s]=l[s-1]+a[s-1]<<1;var c;if(n){c=new _s(1<<e);var d=15-e;for(s=0;s<i;++s)if(t[s])for(var f=s<<4|t[s],p=e-t[s],w=l[t[s]-1]++<<p,S=w|(1<<p)-1;w<=S;++w)c[Z0[w]>>d]=f}else for(c=new _s(i),s=0;s<i;++s)t[s]&&(c[s]=Z0[l[t[s]-1]++]>>15-t[s]);return c}),mu=new To(288);for(var Yn=0;Yn<144;++Yn)mu[Yn]=8;for(var Yn=144;Yn<256;++Yn)mu[Yn]=9;for(var Yn=256;Yn<280;++Yn)mu[Yn]=7;for(var Yn=280;Yn<288;++Yn)mu[Yn]=8;var mh=new To(32);for(var Yn=0;Yn<32;++Yn)mh[Yn]=5;var PA=Lf(mu,9,0),DA=Lf(mh,5,0),mb=function(t){return(t+7)/8|0},UA=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new To(t.subarray(e,n))},Ca=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8},Tf=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8,t[i+2]|=n>>16},c0=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var s=n.length,a=n.slice();if(!s)return{t:yb,l:0};if(s==1){var l=new To(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(ae,de){return ae.f-de.f}),n.push({s:-1,f:25001});var c=n[0],d=n[1],f=0,p=1,w=2;for(n[0]={s:-1,f:c.f+d.f,l:c,r:d};p!=s-1;)c=n[n[f].f<n[w].f?f++:w++],d=n[f!=p&&n[f].f<n[w].f?f++:w++],n[p++]={s:-1,f:c.f+d.f,l:c,r:d};for(var S=a[0].s,i=1;i<s;++i)a[i].s>S&&(S=a[i].s);var b=new _s(S+1),N=Q0(n[p-1],b,0);if(N>e){var i=0,T=0,k=N-e,I=1<<k;for(a.sort(function(de,re){return b[re.s]-b[de.s]||de.f-re.f});i<s;++i){var F=a[i].s;if(b[F]>e)T+=I-(1<<N-b[F]),b[F]=e;else break}for(T>>=k;T>0;){var U=a[i].s;b[U]<e?T-=1<<e-b[U]++-1:++i}for(;i>=0&&T;--i){var H=a[i].s;b[H]==e&&(--b[H],++T)}N=e}return{t:new To(b),l:N}},Q0=function(t,e,n){return t.s==-1?Math.max(Q0(t.l,e,n+1),Q0(t.r,e,n+1)):e[t.s]=n},Bv=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new _s(++e),i=0,s=t[0],a=1,l=function(d){n[i++]=d},c=1;c<=e;++c)if(t[c]==s&&c!=e)++a;else{if(!s&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(s),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(s);a=1,s=t[c]}return{c:n.subarray(0,i),n:e}},Nf=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},vb=function(t,e,n){var i=n.length,s=mb(e+2);t[s]=i&255,t[s+1]=i>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var a=0;a<i;++a)t[s+a+4]=n[a];return(s+4+i)*8},Fv=function(t,e,n,i,s,a,l,c,d,f,p){Ca(e,p++,n),++s[256];for(var w=c0(s,15),S=w.t,b=w.l,N=c0(a,15),T=N.t,k=N.l,I=Bv(S),F=I.c,U=I.n,H=Bv(T),ae=H.c,de=H.n,re=new _s(19),se=0;se<F.length;++se)++re[F[se]&31];for(var se=0;se<ae.length;++se)++re[ae[se]&31];for(var V=c0(re,7),ge=V.t,q=V.l,W=19;W>4&&!ge[Uv[W-1]];--W);var ie=f+5<<3,te=Nf(s,mu)+Nf(a,mh)+l,Se=Nf(s,S)+Nf(a,T)+l+14+3*W+Nf(re,ge)+2*re[16]+3*re[17]+7*re[18];if(d>=0&&ie<=te&&ie<=Se)return vb(e,p,t.subarray(d,d+f));var ee,ce,he,le;if(Ca(e,p,1+(Se<te)),p+=2,Se<te){ee=Lf(S,b,0),ce=S,he=Lf(T,k,0),le=T;var ke=Lf(ge,q,0);Ca(e,p,U-257),Ca(e,p+5,de-1),Ca(e,p+10,W-4),p+=14;for(var se=0;se<W;++se)Ca(e,p+3*se,ge[Uv[se]]);p+=3*W;for(var $=[F,ae],M=0;M<2;++M)for(var G=$[M],se=0;se<G.length;++se){var Y=G[se]&31;Ca(e,p,ke[Y]),p+=ge[Y],Y>15&&(Ca(e,p,G[se]>>5&127),p+=G[se]>>12)}}else ee=PA,ce=mu,he=DA,le=mh;for(var se=0;se<c;++se){var ne=i[se];if(ne>255){var Y=ne>>18&31;Tf(e,p,ee[Y+257]),p+=ce[Y+257],Y>7&&(Ca(e,p,ne>>23&31),p+=Fg[Y]);var oe=ne&31;Tf(e,p,he[oe]),p+=le[oe],oe>3&&(Tf(e,p,ne>>5&8191),p+=qg[oe])}else Tf(e,p,ee[ne]),p+=ce[ne]}return Tf(e,p,ee[256]),p+ce[256]},OA=new Bg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),yb=new To(0),BA=function(t,e,n,i,s,a){var l=a.z||t.length,c=new To(i+l+5*(1+Math.ceil(l/7e3))+s),d=c.subarray(i,c.length-s),f=a.l,p=(a.r||0)&7;if(e){p&&(d[0]=a.r>>3);for(var w=OA[e-1],S=w>>13,b=w&8191,N=(1<<n)-1,T=a.p||new _s(32768),k=a.h||new _s(N+1),I=Math.ceil(n/3),F=2*I,U=function(rt){return(t[rt]^t[rt+1]<<I^t[rt+2]<<F)&N},H=new Bg(25e3),ae=new _s(288),de=new _s(32),re=0,se=0,V=a.i||0,ge=0,q=a.w||0,W=0;V+2<l;++V){var ie=U(V),te=V&32767,Se=k[ie];if(T[te]=Se,k[ie]=te,q<=V){var ee=l-V;if((re>7e3||ge>24576)&&(ee>423||!f)){p=Fv(t,d,0,H,ae,de,se,ge,W,V-W,p),ge=re=se=0,W=V;for(var ce=0;ce<286;++ce)ae[ce]=0;for(var ce=0;ce<30;++ce)de[ce]=0}var he=2,le=0,ke=b,$=te-Se&32767;if(ee>2&&ie==U(V-$))for(var M=Math.min(S,ee)-1,G=Math.min(32767,V),Y=Math.min(258,ee);$<=G&&--ke&&te!=Se;){if(t[V+he]==t[V+he-$]){for(var ne=0;ne<Y&&t[V+ne]==t[V+ne-$];++ne);if(ne>he){if(he=ne,le=$,ne>M)break;for(var oe=Math.min($,ne-2),ve=0,ce=0;ce<oe;++ce){var Te=V-$+ce&32767,Ce=T[Te],De=Te-Ce&32767;De>ve&&(ve=De,Se=Te)}}}te=Se,Se=T[te],$+=te-Se&32767}if(le){H[ge++]=268435456|X0[he]<<18|Ov[le];var Ge=X0[he]&31,Je=Ov[le]&31;se+=Fg[Ge]+qg[Je],++ae[257+Ge],++de[Je],q=V+he,++re}else H[ge++]=t[V],++ae[t[V]]}}for(V=Math.max(V,q);V<l;++V)H[ge++]=t[V],++ae[t[V]];p=Fv(t,d,f,H,ae,de,se,ge,W,V-W,p),f||(a.r=p&7|d[p/8|0]<<3,p-=7,a.h=k,a.p=T,a.i=V,a.w=q)}else{for(var V=a.w||0;V<l+f;V+=65535){var We=V+65535;We>=l&&(d[p/8|0]=f,We=l),p=vb(d,p+1,t.subarray(V,We))}a.i=l}return UA(c,0,i+mb(p)+s)},bb=function(){var t=1,e=0;return{p:function(n){for(var i=t,s=e,a=n.length|0,l=0;l!=a;){for(var c=Math.min(l+2655,a);l<c;++l)s+=i+=n[l];i=(i&65535)+15*(i>>16),s=(s&65535)+15*(s>>16)}t=i,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},FA=function(t,e,n,i,s){if(!s&&(s={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),l=new To(a.length+t.length);l.set(a),l.set(t,a.length),t=l,s.w=a.length}return BA(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,i,s)},wb=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},qA=function(t,e){var n=e.level,i=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=i<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=bb();s.p(e.dictionary),wb(t,2,s.d())}};function eg(t,e){e||(e={});var n=bb();n.p(t);var i=FA(t,e,e.dictionary?6:2,4);return qA(i,e),wb(i,i.length-4,n.d()),i}var HA=typeof TextDecoder<"u"&&new TextDecoder,zA=0;try{HA.decode(yb,{stream:!0}),zA=1}catch{}function GA(t){if(Array.isArray(t))return t}function jA(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,s,a,l,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(i=a.call(n)).done)&&(c.push(i.value),c.length!==e);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw s}}return c}}function qv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function VA(t,e){if(t){if(typeof t=="string")return qv(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qv(t,e):void 0}}function $A(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hv(t,e){return GA(t)||jA(t,e)||VA(t,e)||$A()}function zv(t,e="utf8"){return new TextDecoder(e).decode(t)}const JA=new TextEncoder;function WA(t){return JA.encode(t)}const YA=1024*8,KA=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),f0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Hg{constructor(e=YA,n={}){Cn(this,"buffer");Cn(this,"byteLength");Cn(this,"byteOffset");Cn(this,"length");Cn(this,"offset");Cn(this,"lastWrittenByte");Cn(this,"littleEndian");Cn(this,"_data");Cn(this,"_mark");Cn(this,"_marks");let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const s=n.offset?n.offset>>>0:0,a=e.byteLength-s;let l=s;(ArrayBuffer.isView(e)||e instanceof Hg)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+s),e=e.buffer),i?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,s=new Uint8Array(i);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const i=f0[n].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,a=this.buffer.slice(s,s+i);if(this.littleEndian===KA&&n!=="uint8"&&n!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+i));c.reverse();const d=new f0[n](c.buffer);return this.offset+=i,d.reverse(),d}const l=new f0[n](a);return this.offset+=i,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let i=0;i<e;i++)n+=this.readChar();return n}readUtf8(e=1){return zv(this.readBytes(e))}decodeText(e=1,n="utf8"){return zv(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(WA(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Bc(t){let e=t.length;for(;--e>=0;)t[e]=0}const XA=3,ZA=258,_b=29,QA=256,eE=QA+1+_b,Sb=30,tE=512,nE=new Array((eE+2)*2);Bc(nE);const iE=new Array(Sb*2);Bc(iE);const rE=new Array(tE);Bc(rE);const sE=new Array(ZA-XA+1);Bc(sE);const oE=new Array(_b);Bc(oE);const aE=new Array(Sb);Bc(aE);const lE=(t,e,n,i)=>{let s=t&65535|0,a=t>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do s=s+e[i++]|0,a=a+s|0;while(--l);s%=65521,a%=65521}return s|a<<16|0};var tg=lE;const uE=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},cE=new Uint32Array(uE()),fE=(t,e,n,i)=>{const s=cE,a=i+n;t^=-1;for(let l=i;l<a;l++)t=t>>>8^s[(t^e[l])&255];return t^-1};var Ko=fE,ng={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},xb={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const dE=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var hE=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)dE(n,i)&&(t[i]=n[i])}}return t},pE=t=>{let e=0;for(let i=0,s=t.length;i<s;i++)e+=t[i].length;const n=new Uint8Array(e);for(let i=0,s=0,a=t.length;i<a;i++){let l=t[i];n.set(l,s),s+=l.length}return n},Ab={assign:hE,flattenChunks:pE};let Eb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Eb=!1}const Of=new Uint8Array(256);for(let t=0;t<256;t++)Of[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Of[254]=Of[254]=1;var gE=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,i,s,a,l=t.length,c=0;for(s=0;s<l;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<l&&(i=t.charCodeAt(s+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),s++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(c),a=0,s=0;a<c;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<l&&(i=t.charCodeAt(s+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),s++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const mE=(t,e)=>{if(e<65534&&t.subarray&&Eb)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n};var vE=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let i,s;const a=new Array(n*2);for(s=0,i=0;i<n;){let l=t[i++];if(l<128){a[s++]=l;continue}let c=Of[l];if(c>4){a[s++]=65533,i+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&i<n;)l=l<<6|t[i++]&63,c--;if(c>1){a[s++]=65533;continue}l<65536?a[s++]=l:(l-=65536,a[s++]=55296|l>>10&1023,a[s++]=56320|l&1023)}return mE(a,s)},yE=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Of[t[n]]>e?n:e},ig={string2buf:gE,buf2string:vE,utf8border:yE};function bE(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var wE=bE;const Fd=16209,_E=16191;var SE=function(e,n){let i,s,a,l,c,d,f,p,w,S,b,N,T,k,I,F,U,H,ae,de,re,se,V,ge;const q=e.state;i=e.next_in,V=e.input,s=i+(e.avail_in-5),a=e.next_out,ge=e.output,l=a-(n-e.avail_out),c=a+(e.avail_out-257),d=q.dmax,f=q.wsize,p=q.whave,w=q.wnext,S=q.window,b=q.hold,N=q.bits,T=q.lencode,k=q.distcode,I=(1<<q.lenbits)-1,F=(1<<q.distbits)-1;e:do{N<15&&(b+=V[i++]<<N,N+=8,b+=V[i++]<<N,N+=8),U=T[b&I];t:for(;;){if(H=U>>>24,b>>>=H,N-=H,H=U>>>16&255,H===0)ge[a++]=U&65535;else if(H&16){ae=U&65535,H&=15,H&&(N<H&&(b+=V[i++]<<N,N+=8),ae+=b&(1<<H)-1,b>>>=H,N-=H),N<15&&(b+=V[i++]<<N,N+=8,b+=V[i++]<<N,N+=8),U=k[b&F];n:for(;;){if(H=U>>>24,b>>>=H,N-=H,H=U>>>16&255,H&16){if(de=U&65535,H&=15,N<H&&(b+=V[i++]<<N,N+=8,N<H&&(b+=V[i++]<<N,N+=8)),de+=b&(1<<H)-1,de>d){e.msg="invalid distance too far back",q.mode=Fd;break e}if(b>>>=H,N-=H,H=a-l,de>H){if(H=de-H,H>p&&q.sane){e.msg="invalid distance too far back",q.mode=Fd;break e}if(re=0,se=S,w===0){if(re+=f-H,H<ae){ae-=H;do ge[a++]=S[re++];while(--H);re=a-de,se=ge}}else if(w<H){if(re+=f+w-H,H-=w,H<ae){ae-=H;do ge[a++]=S[re++];while(--H);if(re=0,w<ae){H=w,ae-=H;do ge[a++]=S[re++];while(--H);re=a-de,se=ge}}}else if(re+=w-H,H<ae){ae-=H;do ge[a++]=S[re++];while(--H);re=a-de,se=ge}for(;ae>2;)ge[a++]=se[re++],ge[a++]=se[re++],ge[a++]=se[re++],ae-=3;ae&&(ge[a++]=se[re++],ae>1&&(ge[a++]=se[re++]))}else{re=a-de;do ge[a++]=ge[re++],ge[a++]=ge[re++],ge[a++]=ge[re++],ae-=3;while(ae>2);ae&&(ge[a++]=ge[re++],ae>1&&(ge[a++]=ge[re++]))}}else if((H&64)===0){U=k[(U&65535)+(b&(1<<H)-1)];continue n}else{e.msg="invalid distance code",q.mode=Fd;break e}break}}else if((H&64)===0){U=T[(U&65535)+(b&(1<<H)-1)];continue t}else if(H&32){q.mode=_E;break e}else{e.msg="invalid literal/length code",q.mode=Fd;break e}break}}while(i<s&&a<c);ae=N>>3,i-=ae,N-=ae<<3,b&=(1<<N)-1,e.next_in=i,e.next_out=a,e.avail_in=i<s?5+(s-i):5-(i-s),e.avail_out=a<c?257+(c-a):257-(a-c),q.hold=b,q.bits=N};const fc=15,Gv=852,jv=592,Vv=0,d0=1,$v=2,xE=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),AE=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),EE=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),TE=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),NE=(t,e,n,i,s,a,l,c)=>{const d=c.bits;let f=0,p=0,w=0,S=0,b=0,N=0,T=0,k=0,I=0,F=0,U,H,ae,de,re,se=null,V;const ge=new Uint16Array(fc+1),q=new Uint16Array(fc+1);let W=null,ie,te,Se;for(f=0;f<=fc;f++)ge[f]=0;for(p=0;p<i;p++)ge[e[n+p]]++;for(b=d,S=fc;S>=1&&ge[S]===0;S--);if(b>S&&(b=S),S===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<S&&ge[w]===0;w++);for(b<w&&(b=w),k=1,f=1;f<=fc;f++)if(k<<=1,k-=ge[f],k<0)return-1;if(k>0&&(t===Vv||S!==1))return-1;for(q[1]=0,f=1;f<fc;f++)q[f+1]=q[f]+ge[f];for(p=0;p<i;p++)e[n+p]!==0&&(l[q[e[n+p]]++]=p);if(t===Vv?(se=W=l,V=20):t===d0?(se=xE,W=AE,V=257):(se=EE,W=TE,V=0),F=0,p=0,f=w,re=a,N=b,T=0,ae=-1,I=1<<b,de=I-1,t===d0&&I>Gv||t===$v&&I>jv)return 1;for(;;){ie=f-T,l[p]+1<V?(te=0,Se=l[p]):l[p]>=V?(te=W[l[p]-V],Se=se[l[p]-V]):(te=96,Se=0),U=1<<f-T,H=1<<N,w=H;do H-=U,s[re+(F>>T)+H]=ie<<24|te<<16|Se|0;while(H!==0);for(U=1<<f-1;F&U;)U>>=1;if(U!==0?(F&=U-1,F+=U):F=0,p++,--ge[f]===0){if(f===S)break;f=e[n+l[p]]}if(f>b&&(F&de)!==ae){for(T===0&&(T=b),re+=w,N=f-T,k=1<<N;N+T<S&&(k-=ge[N+T],!(k<=0));)N++,k<<=1;if(I+=1<<N,t===d0&&I>Gv||t===$v&&I>jv)return 1;ae=F&de,s[ae]=b<<24|N<<16|re-a|0}}return F!==0&&(s[re+F]=f-T<<24|64<<16|0),c.bits=b,0};var Mf=NE;const CE=0,Tb=1,Nb=2,{Z_FINISH:Jv,Z_BLOCK:RE,Z_TREES:qd,Z_OK:vu,Z_STREAM_END:kE,Z_NEED_DICT:IE,Z_STREAM_ERROR:zs,Z_DATA_ERROR:Cb,Z_MEM_ERROR:Rb,Z_BUF_ERROR:LE,Z_DEFLATED:Wv}=xb,Ih=16180,Yv=16181,Kv=16182,Xv=16183,Zv=16184,Qv=16185,ey=16186,ty=16187,ny=16188,iy=16189,vh=16190,Ra=16191,h0=16192,ry=16193,p0=16194,sy=16195,oy=16196,ay=16197,ly=16198,Hd=16199,zd=16200,uy=16201,cy=16202,fy=16203,dy=16204,hy=16205,g0=16206,py=16207,gy=16208,ei=16209,kb=16210,Ib=16211,ME=852,PE=592,DE=15,UE=DE,my=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function OE(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const yu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Ih||e.mode>Ib?1:0},Lb=t=>{if(yu(t))return zs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Ih,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ME),e.distcode=e.distdyn=new Int32Array(PE),e.sane=1,e.back=-1,vu},Mb=t=>{if(yu(t))return zs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Lb(t)},Pb=(t,e)=>{let n;if(yu(t))return zs;const i=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?zs:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,Mb(t))},Db=(t,e)=>{if(!t)return zs;const n=new OE;t.state=n,n.strm=t,n.window=null,n.mode=Ih;const i=Pb(t,e);return i!==vu&&(t.state=null),i},BE=t=>Db(t,UE);let vy=!0,m0,v0;const FE=t=>{if(vy){m0=new Int32Array(512),v0=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Mf(Tb,t.lens,0,288,m0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Mf(Nb,t.lens,0,32,v0,0,t.work,{bits:5}),vy=!1}t.lencode=m0,t.lenbits=9,t.distcode=v0,t.distbits=5},Ub=(t,e,n,i)=>{let s;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>i&&(s=i),a.window.set(e.subarray(n-i,n-i+s),a.wnext),i-=s,i?(a.window.set(e.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0},qE=(t,e)=>{let n,i,s,a,l,c,d,f,p,w,S,b,N,T,k=0,I,F,U,H,ae,de,re,se;const V=new Uint8Array(4);let ge,q;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(yu(t)||!t.output||!t.input&&t.avail_in!==0)return zs;n=t.state,n.mode===Ra&&(n.mode=h0),l=t.next_out,s=t.output,d=t.avail_out,a=t.next_in,i=t.input,c=t.avail_in,f=n.hold,p=n.bits,w=c,S=d,se=vu;e:for(;;)switch(n.mode){case Ih:if(n.wrap===0){n.mode=h0;break}for(;p<16;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,V[0]=f&255,V[1]=f>>>8&255,n.check=Ko(n.check,V,2,0),f=0,p=0,n.mode=Yv;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=ei;break}if((f&15)!==Wv){t.msg="unknown compression method",n.mode=ei;break}if(f>>>=4,p-=4,re=(f&15)+8,n.wbits===0&&(n.wbits=re),re>15||re>n.wbits){t.msg="invalid window size",n.mode=ei;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=f&512?iy:Ra,f=0,p=0;break;case Yv:for(;p<16;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(n.flags=f,(n.flags&255)!==Wv){t.msg="unknown compression method",n.mode=ei;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=ei;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(V[0]=f&255,V[1]=f>>>8&255,n.check=Ko(n.check,V,2,0)),f=0,p=0,n.mode=Kv;case Kv:for(;p<32;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(V[0]=f&255,V[1]=f>>>8&255,V[2]=f>>>16&255,V[3]=f>>>24&255,n.check=Ko(n.check,V,4,0)),f=0,p=0,n.mode=Xv;case Xv:for(;p<16;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(V[0]=f&255,V[1]=f>>>8&255,n.check=Ko(n.check,V,2,0)),f=0,p=0,n.mode=Zv;case Zv:if(n.flags&1024){for(;p<16;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(V[0]=f&255,V[1]=f>>>8&255,n.check=Ko(n.check,V,2,0)),f=0,p=0}else n.head&&(n.head.extra=null);n.mode=Qv;case Qv:if(n.flags&1024&&(b=n.length,b>c&&(b=c),b&&(n.head&&(re=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(a,a+b),re)),n.flags&512&&n.wrap&4&&(n.check=Ko(n.check,i,b,a)),c-=b,a+=b,n.length-=b),n.length))break e;n.length=0,n.mode=ey;case ey:if(n.flags&2048){if(c===0)break e;b=0;do re=i[a+b++],n.head&&re&&n.length<65536&&(n.head.name+=String.fromCharCode(re));while(re&&b<c);if(n.flags&512&&n.wrap&4&&(n.check=Ko(n.check,i,b,a)),c-=b,a+=b,re)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=ty;case ty:if(n.flags&4096){if(c===0)break e;b=0;do re=i[a+b++],n.head&&re&&n.length<65536&&(n.head.comment+=String.fromCharCode(re));while(re&&b<c);if(n.flags&512&&n.wrap&4&&(n.check=Ko(n.check,i,b,a)),c-=b,a+=b,re)break e}else n.head&&(n.head.comment=null);n.mode=ny;case ny:if(n.flags&512){for(;p<16;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(n.wrap&4&&f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=ei;break}f=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Ra;break;case iy:for(;p<32;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}t.adler=n.check=my(f),f=0,p=0,n.mode=vh;case vh:if(n.havedict===0)return t.next_out=l,t.avail_out=d,t.next_in=a,t.avail_in=c,n.hold=f,n.bits=p,IE;t.adler=n.check=1,n.mode=Ra;case Ra:if(e===RE||e===qd)break e;case h0:if(n.last){f>>>=p&7,p-=p&7,n.mode=g0;break}for(;p<3;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}switch(n.last=f&1,f>>>=1,p-=1,f&3){case 0:n.mode=ry;break;case 1:if(FE(n),n.mode=Hd,e===qd){f>>>=2,p-=2;break e}break;case 2:n.mode=oy;break;case 3:t.msg="invalid block type",n.mode=ei}f>>>=2,p-=2;break;case ry:for(f>>>=p&7,p-=p&7;p<32;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ei;break}if(n.length=f&65535,f=0,p=0,n.mode=p0,e===qd)break e;case p0:n.mode=sy;case sy:if(b=n.length,b){if(b>c&&(b=c),b>d&&(b=d),b===0)break e;s.set(i.subarray(a,a+b),l),c-=b,a+=b,d-=b,l+=b,n.length-=b;break}n.mode=Ra;break;case oy:for(;p<14;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(n.nlen=(f&31)+257,f>>>=5,p-=5,n.ndist=(f&31)+1,f>>>=5,p-=5,n.ncode=(f&15)+4,f>>>=4,p-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ei;break}n.have=0,n.mode=ay;case ay:for(;n.have<n.ncode;){for(;p<3;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}n.lens[W[n.have++]]=f&7,f>>>=3,p-=3}for(;n.have<19;)n.lens[W[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,ge={bits:n.lenbits},se=Mf(CE,n.lens,0,19,n.lencode,0,n.work,ge),n.lenbits=ge.bits,se){t.msg="invalid code lengths set",n.mode=ei;break}n.have=0,n.mode=ly;case ly:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[f&(1<<n.lenbits)-1],I=k>>>24,F=k>>>16&255,U=k&65535,!(I<=p);){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(U<16)f>>>=I,p-=I,n.lens[n.have++]=U;else{if(U===16){for(q=I+2;p<q;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(f>>>=I,p-=I,n.have===0){t.msg="invalid bit length repeat",n.mode=ei;break}re=n.lens[n.have-1],b=3+(f&3),f>>>=2,p-=2}else if(U===17){for(q=I+3;p<q;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}f>>>=I,p-=I,re=0,b=3+(f&7),f>>>=3,p-=3}else{for(q=I+7;p<q;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}f>>>=I,p-=I,re=0,b=11+(f&127),f>>>=7,p-=7}if(n.have+b>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ei;break}for(;b--;)n.lens[n.have++]=re}}if(n.mode===ei)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=ei;break}if(n.lenbits=9,ge={bits:n.lenbits},se=Mf(Tb,n.lens,0,n.nlen,n.lencode,0,n.work,ge),n.lenbits=ge.bits,se){t.msg="invalid literal/lengths set",n.mode=ei;break}if(n.distbits=6,n.distcode=n.distdyn,ge={bits:n.distbits},se=Mf(Nb,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,ge),n.distbits=ge.bits,se){t.msg="invalid distances set",n.mode=ei;break}if(n.mode=Hd,e===qd)break e;case Hd:n.mode=zd;case zd:if(c>=6&&d>=258){t.next_out=l,t.avail_out=d,t.next_in=a,t.avail_in=c,n.hold=f,n.bits=p,SE(t,S),l=t.next_out,s=t.output,d=t.avail_out,a=t.next_in,i=t.input,c=t.avail_in,f=n.hold,p=n.bits,n.mode===Ra&&(n.back=-1);break}for(n.back=0;k=n.lencode[f&(1<<n.lenbits)-1],I=k>>>24,F=k>>>16&255,U=k&65535,!(I<=p);){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(F&&(F&240)===0){for(H=I,ae=F,de=U;k=n.lencode[de+((f&(1<<H+ae)-1)>>H)],I=k>>>24,F=k>>>16&255,U=k&65535,!(H+I<=p);){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}f>>>=H,p-=H,n.back+=H}if(f>>>=I,p-=I,n.back+=I,n.length=U,F===0){n.mode=hy;break}if(F&32){n.back=-1,n.mode=Ra;break}if(F&64){t.msg="invalid literal/length code",n.mode=ei;break}n.extra=F&15,n.mode=uy;case uy:if(n.extra){for(q=n.extra;p<q;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=cy;case cy:for(;k=n.distcode[f&(1<<n.distbits)-1],I=k>>>24,F=k>>>16&255,U=k&65535,!(I<=p);){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if((F&240)===0){for(H=I,ae=F,de=U;k=n.distcode[de+((f&(1<<H+ae)-1)>>H)],I=k>>>24,F=k>>>16&255,U=k&65535,!(H+I<=p);){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}f>>>=H,p-=H,n.back+=H}if(f>>>=I,p-=I,n.back+=I,F&64){t.msg="invalid distance code",n.mode=ei;break}n.offset=U,n.extra=F&15,n.mode=fy;case fy:if(n.extra){for(q=n.extra;p<q;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ei;break}n.mode=dy;case dy:if(d===0)break e;if(b=S-d,n.offset>b){if(b=n.offset-b,b>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ei;break}b>n.wnext?(b-=n.wnext,N=n.wsize-b):N=n.wnext-b,b>n.length&&(b=n.length),T=n.window}else T=s,N=l-n.offset,b=n.length;b>d&&(b=d),d-=b,n.length-=b;do s[l++]=T[N++];while(--b);n.length===0&&(n.mode=zd);break;case hy:if(d===0)break e;s[l++]=n.length,d--,n.mode=zd;break;case g0:if(n.wrap){for(;p<32;){if(c===0)break e;c--,f|=i[a++]<<p,p+=8}if(S-=d,t.total_out+=S,n.total+=S,n.wrap&4&&S&&(t.adler=n.check=n.flags?Ko(n.check,s,S,l-S):tg(n.check,s,S,l-S)),S=d,n.wrap&4&&(n.flags?f:my(f))!==n.check){t.msg="incorrect data check",n.mode=ei;break}f=0,p=0}n.mode=py;case py:if(n.wrap&&n.flags){for(;p<32;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(n.wrap&4&&f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=ei;break}f=0,p=0}n.mode=gy;case gy:se=kE;break e;case ei:se=Cb;break e;case kb:return Rb;case Ib:default:return zs}return t.next_out=l,t.avail_out=d,t.next_in=a,t.avail_in=c,n.hold=f,n.bits=p,(n.wsize||S!==t.avail_out&&n.mode<ei&&(n.mode<g0||e!==Jv))&&Ub(t,t.output,t.next_out,S-t.avail_out),w-=t.avail_in,S-=t.avail_out,t.total_in+=w,t.total_out+=S,n.total+=S,n.wrap&4&&S&&(t.adler=n.check=n.flags?Ko(n.check,s,S,t.next_out-S):tg(n.check,s,S,t.next_out-S)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Ra?128:0)+(n.mode===Hd||n.mode===p0?256:0),(w===0&&S===0||e===Jv)&&se===vu&&(se=LE),se},HE=t=>{if(yu(t))return zs;let e=t.state;return e.window&&(e.window=null),t.state=null,vu},zE=(t,e)=>{if(yu(t))return zs;const n=t.state;return(n.wrap&2)===0?zs:(n.head=e,e.done=!1,vu)},GE=(t,e)=>{const n=e.length;let i,s,a;return yu(t)||(i=t.state,i.wrap!==0&&i.mode!==vh)?zs:i.mode===vh&&(s=1,s=tg(s,e,n,0),s!==i.check)?Cb:(a=Ub(t,e,n,n),a?(i.mode=kb,Rb):(i.havedict=1,vu))};var jE=Mb,VE=Pb,$E=Lb,JE=BE,WE=Db,YE=qE,KE=HE,XE=zE,ZE=GE,QE="pako inflate (from Nodeca project)",Ma={inflateReset:jE,inflateReset2:VE,inflateResetKeep:$E,inflateInit:JE,inflateInit2:WE,inflate:YE,inflateEnd:KE,inflateGetHeader:XE,inflateSetDictionary:ZE,inflateInfo:QE};function eT(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var tT=eT;const Ob=Object.prototype.toString,{Z_NO_FLUSH:nT,Z_FINISH:iT,Z_OK:Bf,Z_STREAM_END:y0,Z_NEED_DICT:b0,Z_STREAM_ERROR:rT,Z_DATA_ERROR:yy,Z_MEM_ERROR:sT}=xb;function Vf(t){this.options=Ab.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wE,this.strm.avail_out=0;let n=Ma.inflateInit2(this.strm,e.windowBits);if(n!==Bf)throw new Error(ng[n]);if(this.header=new tT,Ma.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ig.string2buf(e.dictionary):Ob.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Ma.inflateSetDictionary(this.strm,e.dictionary),n!==Bf)))throw new Error(ng[n])}Vf.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let a,l,c;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?iT:nT,Ob.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),a=Ma.inflate(n,l),a===b0&&s&&(a=Ma.inflateSetDictionary(n,s),a===Bf?a=Ma.inflate(n,l):a===yy&&(a=b0));n.avail_in>0&&a===y0&&n.state.wrap>0&&t[n.next_in]!==0;)Ma.inflateReset(n),a=Ma.inflate(n,l);switch(a){case rT:case yy:case b0:case sT:return this.onEnd(a),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||a===y0))if(this.options.to==="string"){let d=ig.utf8border(n.output,n.next_out),f=n.next_out-d,p=ig.buf2string(n.output,d);n.next_out=f,n.avail_out=i-f,f&&n.output.set(n.output.subarray(d,d+f),0),this.onData(p)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===Bf&&c===0)){if(a===y0)return a=Ma.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Vf.prototype.onData=function(t){this.chunks.push(t)};Vf.prototype.onEnd=function(t){t===Bf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ab.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function oT(t,e){const n=new Vf(e);if(n.push(t),n.err)throw n.msg||ng[n.err];return n.result}var aT=Vf,lT=oT,uT={Inflate:aT,inflate:lT};const{Inflate:cT,inflate:fT}=uT;var by=cT,dT=fT;const Bb=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;Bb[t]=e}const wy=4294967295;function hT(t,e,n){let i=t;for(let s=0;s<n;s++)i=Bb[(i^e[s])&255]^i>>>8;return i}function pT(t,e){return(hT(wy,t,e)^wy)>>>0}function _y(t,e,n){const i=t.readUint32(),s=pT(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==i)throw new Error(`CRC mismatch for chunk ${n}. Expected ${i}, found ${s}`)}function Fb(t,e,n){for(let i=0;i<n;i++)e[i]=t[i]}function qb(t,e,n,i){let s=0;for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}function Hb(t,e,n,i){let s=0;if(n.length===0)for(;s<i;s++)e[s]=t[s];else for(;s<i;s++)e[s]=t[s]+n[s]&255}function zb(t,e,n,i,s){let a=0;if(n.length===0){for(;a<s;a++)e[a]=t[a];for(;a<i;a++)e[a]=t[a]+(e[a-s]>>1)&255}else{for(;a<s;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<i;a++)e[a]=t[a]+(e[a-s]+n[a]>>1)&255}}function Gb(t,e,n,i,s){let a=0;if(n.length===0){for(;a<s;a++)e[a]=t[a];for(;a<i;a++)e[a]=t[a]+e[a-s]&255}else{for(;a<s;a++)e[a]=t[a]+n[a]&255;for(;a<i;a++)e[a]=t[a]+gT(e[a-s],n[a],n[a-s])&255}}function gT(t,e,n){const i=t+e-n,s=Math.abs(i-t),a=Math.abs(i-e),l=Math.abs(i-n);return s<=a&&s<=l?t:a<=l?e:n}function mT(t,e,n,i,s,a){switch(t){case 0:Fb(e,n,s);break;case 1:qb(e,n,s,a);break;case 2:Hb(e,n,i,s);break;case 3:zb(e,n,i,s,a);break;case 4:Gb(e,n,i,s,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const vT=new Uint16Array([255]),yT=new Uint8Array(vT.buffer),bT=yT[0]===255;function wT(t){const{data:e,width:n,height:i,channels:s,depth:a}=t,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(a/8)*s,d=new Uint8Array(i*n*c);let f=0;for(let p=0;p<7;p++){const w=l[p],S=Math.ceil((n-w.x)/w.xStep),b=Math.ceil((i-w.y)/w.yStep);if(S<=0||b<=0)continue;const N=S*c,T=new Uint8Array(N);for(let k=0;k<b;k++){const I=e[f++],F=e.subarray(f,f+N);f+=N;const U=new Uint8Array(N);mT(I,F,U,T,N,c),T.set(U);for(let H=0;H<S;H++){const ae=w.x+H*w.xStep,de=w.y+k*w.yStep;if(!(ae>=n||de>=i))for(let re=0;re<c;re++)d[(de*n+ae)*c+re]=U[H*c+re]}}}if(a===16){const p=new Uint16Array(d.buffer);if(bT)for(let w=0;w<p.length;w++)p[w]=_T(p[w]);return p}else return d}function _T(t){return(t&255)<<8|t>>8&255}const ST=new Uint16Array([255]),xT=new Uint8Array(ST.buffer),AT=xT[0]===255,ET=new Uint8Array(0);function Sy(t){const{data:e,width:n,height:i,channels:s,depth:a}=t,l=Math.ceil(a/8)*s,c=Math.ceil(a/8*s*n),d=new Uint8Array(i*c);let f=ET,p=0,w,S;for(let b=0;b<i;b++){switch(w=e.subarray(p+1,p+1+c),S=d.subarray(b*c,(b+1)*c),e[p]){case 0:Fb(w,S,c);break;case 1:qb(w,S,c,l);break;case 2:Hb(w,S,f,c);break;case 3:zb(w,S,f,c,l);break;case 4:Gb(w,S,f,c,l);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}f=S,p+=c+1}if(a===16){const b=new Uint16Array(d.buffer);if(AT)for(let N=0;N<b.length;N++)b[N]=TT(b[N]);return b}else return d}function TT(t){return(t&255)<<8|t>>8&255}const lh=Uint8Array.of(137,80,78,71,13,10,26,10);function xy(t){if(!NT(t.readBytes(lh.length)))throw new Error("wrong PNG signature")}function NT(t){if(t.length<lh.length)return!1;for(let e=0;e<lh.length;e++)if(t[e]!==lh[e])return!1;return!0}const CT="tEXt",RT=0,jb=new TextDecoder("latin1");function kT(t){if(LT(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const IT=/^[\u0000-\u00FF]*$/;function LT(t){if(!IT.test(t))throw new Error("invalid latin1 text")}function MT(t,e,n){const i=Vb(e);t[i]=PT(e,n-i.length-1)}function Vb(t){for(t.mark();t.readByte()!==RT;);const e=t.offset;t.reset();const n=jb.decode(t.readBytes(e-t.offset-1));return t.skip(1),kT(n),n}function PT(t,e){return jb.decode(t.readBytes(e))}const vs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},w0={UNKNOWN:-1,DEFLATE:0},Ay={UNKNOWN:-1,ADAPTIVE:0},_0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Gd={NONE:0,BACKGROUND:1,PREVIOUS:2},S0={SOURCE:0,OVER:1};class DT extends Hg{constructor(n,i={}){super(n);Cn(this,"_checkCrc");Cn(this,"_inflator");Cn(this,"_png");Cn(this,"_apng");Cn(this,"_end");Cn(this,"_hasPalette");Cn(this,"_palette");Cn(this,"_hasTransparency");Cn(this,"_transparency");Cn(this,"_compressionMethod");Cn(this,"_filterMethod");Cn(this,"_interlaceMethod");Cn(this,"_colorType");Cn(this,"_isAnimated");Cn(this,"_numberOfFrames");Cn(this,"_numberOfPlays");Cn(this,"_frames");Cn(this,"_writingDataChunks");const{checkCrc:s=!1}=i;this._checkCrc=s,this._inflator=new by,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=w0.UNKNOWN,this._filterMethod=Ay.UNKNOWN,this._interlaceMethod=_0.UNKNOWN,this._colorType=vs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(xy(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeChunk(n,i)}return this.decodeImage(),this._png}decodeApng(){for(xy(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(n,i)}return this.decodeApngImage(),this._apng}decodeChunk(n,i){const s=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case CT:MT(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?_y(this,n+4,i):this.skip(4)}decodeApngChunk(n,i){const s=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,i),this.offset=s+n;break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?_y(this,n+4,i):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=UT(this.readUint8());const i=this.readUint8();this._colorType=i;let s;switch(i){case vs.GREYSCALE:s=1;break;case vs.TRUECOLOUR:s=3;break;case vs.INDEXED_COLOUR:s=1;break;case vs.GREYSCALE_ALPHA:s=2;break;case vs.TRUECOLOUR_ALPHA:s=4;break;case vs.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==w0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const i=n/3;this._hasPalette=!0;const s=[];this._palette=s;for(let a=0;a<i;a++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const i=n,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let i=n,s=this.offset+this.byteOffset;if(s+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,s,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case vs.GREYSCALE:case vs.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let i=0;i<n/2;i++)this._transparency[i]=this.readUint16();break}case vs.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let i=0;for(;i<n;i++){const s=this.readByte();this._palette[i].push(s)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case vs.UNKNOWN:case vs.GREYSCALE_ALPHA:case vs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const i=Vb(this),s=this.readUint8();if(s!==w0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const a=this.readBytes(n-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:dT(a)}}decodepHYs(){const n=this.readUint32(),i=this.readUint32(),s=this.readByte();this._png.resolution={x:n,y:i,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const i={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(n);if(s){if(s.data=Sy({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)i.data=s.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(s,a,i),this.addFrameDataToCanvas(i,s)}this._apng.frames.push(i)}}return this._apng}disposeFrame(n,i,s){switch(n.disposeOp){case Gd.NONE:break;case Gd.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let l=0;l<this._png.width;l++){const c=(a*n.width+l)*this._png.channels;for(let d=0;d<this._png.channels;d++)s.data[c+d]=0}break;case Gd.PREVIOUS:s.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,i){const s=1<<this._png.depth,a=(l,c)=>{const d=((l+i.yOffset)*this._png.width+i.xOffset+c)*this._png.channels,f=(l*i.width+c)*this._png.channels;return{index:d,frameIndex:f}};switch(i.blendOp){case S0.SOURCE:for(let l=0;l<i.height;l++)for(let c=0;c<i.width;c++){const{index:d,frameIndex:f}=a(l,c);for(let p=0;p<this._png.channels;p++)n.data[d+p]=i.data[f+p]}break;case S0.OVER:for(let l=0;l<i.height;l++)for(let c=0;c<i.width;c++){const{index:d,frameIndex:f}=a(l,c);for(let p=0;p<this._png.channels;p++){const w=i.data[f+this._png.channels-1]/s,S=p%(this._png.channels-1)===0?1:i.data[f+p],b=Math.floor(w*S+(1-w)*n.data[d+p]);n.data[d+p]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==Ay.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===_0.NO_INTERLACE)this._png.data=Sy({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===_0.ADAM7)this._png.data=wT({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,i=this._frames.at(-1);i?i.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Gd.NONE,blendOp:S0.SOURCE,data:n}),this._inflator=new by,this._writingDataChunks=!1}}function UT(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Ey;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Ey||(Ey={}));function OT(t,e){return new DT(t,e).decode()}var Mt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function x0(){Mt.console&&typeof Mt.console.log=="function"&&Mt.console.log.apply(Mt.console,arguments)}var qn={log:x0,warn:function(t){Mt.console&&(typeof Mt.console.warn=="function"?Mt.console.warn.apply(Mt.console,arguments):x0.call(null,arguments))},error:function(t){Mt.console&&(typeof Mt.console.error=="function"?Mt.console.error.apply(Mt.console,arguments):x0(t))}};function A0(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){lu(i.response,e,n)},i.onerror=function(){qn.error("could not download file")},i.send()}function Ty(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function jd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var lu=Mt.saveAs||((typeof window>"u"?"undefined":Rn(window))!=="object"||window!==Mt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=Mt.URL||Mt.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?Ty(s.href)?A0(t,e,n):jd(s,s.target="_blank"):jd(s)):(s.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){jd(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Ty(t))A0(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){jd(i)})}else navigator.msSaveOrOpenBlob((function(s,a){return a===void 0?a={autoBom:!1}:Rn(a)!=="object"&&(qn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return A0(t,e,n);var s=t.type==="application/octet-stream",a=/constructor/i.test(Mt.HTMLElement)||Mt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&a)&&(typeof FileReader>"u"?"undefined":Rn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},c.readAsDataURL(t)}else{var d=Mt.URL||Mt.webkitURL,f=d.createObjectURL(t);i?i.location=f:location.href=f,i=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $b(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<n.length;i++){var s=n[i].re,a=n[i].process,l=s.exec(t);l&&(e=a(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),"#"+c+d+f}}var uh=Mt.atob.bind(Mt),Ny=Mt.btoa.bind(Mt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function E0(t,e){var n=t[0],i=t[1],s=t[2],a=t[3];n=gr(n,i,s,a,e[0],7,-680876936),a=gr(a,n,i,s,e[1],12,-389564586),s=gr(s,a,n,i,e[2],17,606105819),i=gr(i,s,a,n,e[3],22,-1044525330),n=gr(n,i,s,a,e[4],7,-176418897),a=gr(a,n,i,s,e[5],12,1200080426),s=gr(s,a,n,i,e[6],17,-1473231341),i=gr(i,s,a,n,e[7],22,-45705983),n=gr(n,i,s,a,e[8],7,1770035416),a=gr(a,n,i,s,e[9],12,-1958414417),s=gr(s,a,n,i,e[10],17,-42063),i=gr(i,s,a,n,e[11],22,-1990404162),n=gr(n,i,s,a,e[12],7,1804603682),a=gr(a,n,i,s,e[13],12,-40341101),s=gr(s,a,n,i,e[14],17,-1502002290),n=mr(n,i=gr(i,s,a,n,e[15],22,1236535329),s,a,e[1],5,-165796510),a=mr(a,n,i,s,e[6],9,-1069501632),s=mr(s,a,n,i,e[11],14,643717713),i=mr(i,s,a,n,e[0],20,-373897302),n=mr(n,i,s,a,e[5],5,-701558691),a=mr(a,n,i,s,e[10],9,38016083),s=mr(s,a,n,i,e[15],14,-660478335),i=mr(i,s,a,n,e[4],20,-405537848),n=mr(n,i,s,a,e[9],5,568446438),a=mr(a,n,i,s,e[14],9,-1019803690),s=mr(s,a,n,i,e[3],14,-187363961),i=mr(i,s,a,n,e[8],20,1163531501),n=mr(n,i,s,a,e[13],5,-1444681467),a=mr(a,n,i,s,e[2],9,-51403784),s=mr(s,a,n,i,e[7],14,1735328473),n=vr(n,i=mr(i,s,a,n,e[12],20,-1926607734),s,a,e[5],4,-378558),a=vr(a,n,i,s,e[8],11,-2022574463),s=vr(s,a,n,i,e[11],16,1839030562),i=vr(i,s,a,n,e[14],23,-35309556),n=vr(n,i,s,a,e[1],4,-1530992060),a=vr(a,n,i,s,e[4],11,1272893353),s=vr(s,a,n,i,e[7],16,-155497632),i=vr(i,s,a,n,e[10],23,-1094730640),n=vr(n,i,s,a,e[13],4,681279174),a=vr(a,n,i,s,e[0],11,-358537222),s=vr(s,a,n,i,e[3],16,-722521979),i=vr(i,s,a,n,e[6],23,76029189),n=vr(n,i,s,a,e[9],4,-640364487),a=vr(a,n,i,s,e[12],11,-421815835),s=vr(s,a,n,i,e[15],16,530742520),n=yr(n,i=vr(i,s,a,n,e[2],23,-995338651),s,a,e[0],6,-198630844),a=yr(a,n,i,s,e[7],10,1126891415),s=yr(s,a,n,i,e[14],15,-1416354905),i=yr(i,s,a,n,e[5],21,-57434055),n=yr(n,i,s,a,e[12],6,1700485571),a=yr(a,n,i,s,e[3],10,-1894986606),s=yr(s,a,n,i,e[10],15,-1051523),i=yr(i,s,a,n,e[1],21,-2054922799),n=yr(n,i,s,a,e[8],6,1873313359),a=yr(a,n,i,s,e[15],10,-30611744),s=yr(s,a,n,i,e[6],15,-1560198380),i=yr(i,s,a,n,e[13],21,1309151649),n=yr(n,i,s,a,e[4],6,-145523070),a=yr(a,n,i,s,e[11],10,-1120210379),s=yr(s,a,n,i,e[2],15,718787259),i=yr(i,s,a,n,e[9],21,-343485551),t[0]=El(n,t[0]),t[1]=El(i,t[1]),t[2]=El(s,t[2]),t[3]=El(a,t[3])}function Lh(t,e,n,i,s,a){return e=El(El(e,t),El(i,a)),El(e<<s|e>>>32-s,n)}function gr(t,e,n,i,s,a,l){return Lh(e&n|~e&i,t,e,s,a,l)}function mr(t,e,n,i,s,a,l){return Lh(e&i|n&~i,t,e,s,a,l)}function vr(t,e,n,i,s,a,l){return Lh(e^n^i,t,e,s,a,l)}function yr(t,e,n,i,s,a,l){return Lh(n^(e|~i),t,e,s,a,l)}function Jb(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)E0(i,BT(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(E0(i,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,E0(i,s),i}function BT(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Cy="0123456789abcdef".split("");function FT(t){for(var e="",n=0;n<4;n++)e+=Cy[t>>8*n+4&15]+Cy[t>>8*n&15];return e}function qT(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function rg(t){return Jb(t).map(qT).join("")}var HT=(function(t){for(var e=0;e<t.length;e++)t[e]=FT(t[e]);return t.join("")})(Jb("hello"))!="5d41402abc4b2a76b9719d911017c592";function El(t,e){if(HT){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function sg(t,e){var n,i,s,a;if(t!==n){for(var l=(s=t,a=1+(256/t.length|0),new Array(a+1).join(s)),c=[],d=0;d<256;d++)c[d]=d;var f=0;for(d=0;d<256;d++){var p=c[d];f=(f+p+l.charCodeAt(d))%256,c[d]=c[f],c[f]=p}n=t,i=c}else c=i;var w=e.length,S=0,b=0,N="";for(d=0;d<w;d++)b=(b+(p=c[S=(S+1)%256]))%256,c[S]=c[b],c[b]=p,l=c[(c[S]+c[b])%256],N+=String.fromCharCode(e.charCodeAt(d)^l);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ry={print:4,modify:8,copy:16,"annot-forms":32};function wc(t,e,n,i){this.v=1,this.r=2;var s=192;t.forEach(function(c){if(Ry.perm!==void 0)throw new Error("Invalid permission: "+c);s+=Ry[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^s)),this.encryptionKey=rg(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=sg(this.encryptionKey,this.padding)}function _c(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,i=0;i<n;i++){var s=t.charCodeAt(i);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[i]}return e}function ky(t){if(Rn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,i,s){if(s=s||!1,typeof n!="string"||typeof i!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[i,!!s],a},this.unsubscribe=function(n){for(var i in e)if(e[i][n])return delete e[i][n],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var a in e[n]){var l=e[n][a];try{l[0].apply(t,i)}catch(c){Mt.console&&qn.error("jsPDF PubSub Error",c.message,c)}l[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function yh(t){if(!(this instanceof yh))return new yh(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Wb(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function fu(t,e,n,i,s){if(!(this instanceof fu))return new fu(t,e,n,i,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Wb.call(this,i,s)}function Tc(t,e,n,i,s){if(!(this instanceof Tc))return new Tc(t,e,n,i,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Wb.call(this,i,s)}function ft(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],s=arguments[2],a=arguments[3],l=[],c=1,d=16,f="S",p=null;Rn(t=t||{})==="object"&&(n=t.orientation,i=t.unit||i,s=t.format||s,a=t.compress||t.compressPdf||a,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(d=t.floatPrecision),f=t.defaultPathOperation||"S"),l=t.filters||(a===!0?["FlateEncode"]:l),i=i||"mm",n=(""+(n||"P")).toLowerCase();var w=t.putOnlyUsedFonts||!1,S={},b={internal:{},__private__:{}};b.__private__.PubSub=ky;var N="1.3",T=b.__private__.getPdfVersion=function(){return N};b.__private__.setPdfVersion=function(A){N=A};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return k};var I=b.__private__.getPageFormat=function(A){return k[A]};s=s||"a4";var F="compat",U="advanced",H=F;function ae(){this.saveGraphicsState(),K(new ht(Dt,0,0,-Dt,0,Qs()*Dt).toString()+" cm"),this.setFontSize(this.getFontSize()/Dt),f="n",H=U}function de(){this.restoreGraphicsState(),f="S",H=F}var re=b.__private__.combineFontStyleAndFontWeight=function(A,P){if(A=="bold"&&P=="normal"||A=="bold"&&P==400||A=="normal"&&P=="italic"||A=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(A=P==400||P==="normal"?A==="italic"?"italic":"normal":P!=700&&P!=="bold"||A!=="normal"?(P==700?"bold":P)+""+A:"bold"),A};b.advancedAPI=function(A){var P=H===F;return P&&ae.call(this),typeof A!="function"||(A(this),P&&de.call(this)),this},b.compatAPI=function(A){var P=H===U;return P&&de.call(this),typeof A!="function"||(A(this),P&&ae.call(this)),this},b.isAdvancedAPI=function(){return H===U};var se,V=function(A){if(H!==U)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ge=b.roundToPrecision=b.__private__.roundToPrecision=function(A,P){var Q=e||P;if(isNaN(A)||isNaN(Q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(Q).replace(/0+$/,"")};se=b.hpf=b.__private__.hpf=typeof d=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(A,d)}:d==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(A,16)};var q=b.f2=b.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return ge(A,2)},W=b.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return ge(A,3)},ie=b.scale=b.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return H===F?A*Dt:H===U?A:void 0},te=function(A){return ie((function(P){return H===F?Qs()-P:H===U?P:void 0})(A))};b.__private__.setPrecision=b.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var Se,ee="00000000000000000000000000000000",ce=b.__private__.getFileId=function(){return ee},he=b.__private__.setFileId=function(A){return ee=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(wi=new wc(p.userPermissions,p.userPassword,p.ownerPassword,ee)),ee};b.setFileId=function(A){return he(A),this},b.getFileId=function(){return ce()};var le=b.__private__.convertDateToPDFDate=function(A){var P=A.getTimezoneOffset(),Q=P<0?"+":"-",fe=Math.floor(Math.abs(P/60)),be=Math.abs(P%60),Ue=[Q,Y(fe),"'",Y(be),"'"].join("");return["D:",A.getFullYear(),Y(A.getMonth()+1),Y(A.getDate()),Y(A.getHours()),Y(A.getMinutes()),Y(A.getSeconds()),Ue].join("")},ke=b.__private__.convertPDFDateToDate=function(A){var P=parseInt(A.substr(2,4),10),Q=parseInt(A.substr(6,2),10)-1,fe=parseInt(A.substr(8,2),10),be=parseInt(A.substr(10,2),10),Ue=parseInt(A.substr(12,2),10),He=parseInt(A.substr(14,2),10);return new Date(P,Q,fe,be,Ue,He,0)},$=b.__private__.setCreationDate=function(A){var P;if(A===void 0&&(A=new Date),A instanceof Date)P=le(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=A}return Se=P},M=b.__private__.getCreationDate=function(A){var P=Se;return A==="jsDate"&&(P=ke(Se)),P};b.setCreationDate=function(A){return $(A),this},b.getCreationDate=function(A){return M(A)};var G,Y=b.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ne=b.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},oe=0,ve=[],Te=[],Ce=0,De=[],Ge=[],Je=!1,We=Te;b.__private__.setCustomOutputDestination=function(A){Je=!0,We=A};var rt=function(A){Je||(We=A)};b.__private__.resetCustomOutputDestination=function(){Je=!1,We=Te};var K=b.__private__.out=function(A){return A=A.toString(),Ce+=A.length+1,We.push(A),We},$e=b.__private__.write=function(A){return K(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Vt=b.__private__.getArrayBuffer=function(A){for(var P=A.length,Q=new ArrayBuffer(P),fe=new Uint8Array(Q);P--;)fe[P]=A.charCodeAt(P);return Q},bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return bt};var ze=t.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(A){return ze=H===U?A/Dt:A,this};var gt,Ze=b.__private__.getFontSize=b.getFontSize=function(){return H===F?ze:ze*Dt},wt=t.R2L||!1;b.__private__.setR2L=b.setR2L=function(A){return wt=A,this},b.__private__.getR2L=b.getR2L=function(){return wt};var dt,Bt=b.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))gt=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');gt=A}else gt=parseInt(A,10)};b.__private__.getZoomMode=function(){return gt};var Kt,Pt=b.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');dt=A};b.__private__.getPageMode=function(){return dt};var Xt=b.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Kt=A};b.__private__.getLayoutMode=function(){return Kt},b.__private__.setDisplayMode=b.setDisplayMode=function(A,P,Q){return Bt(A),Xt(P),Pt(Q),this};var $t={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(A){if(Object.keys($t).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $t[A]},b.__private__.getDocumentProperties=function(){return $t},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(A){for(var P in $t)$t.hasOwnProperty(P)&&A[P]&&($t[P]=A[P]);return this},b.__private__.setDocumentProperty=function(A,P){if(Object.keys($t).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $t[A]=P};var st,Dt,lt,ti,Yt,_t={},kt={},Zt=[],mt={},kn={},Et={},It={},xn=null,Gt=0,ut=[],on=new ky(b),Qr=t.hotfixes||[],ji={},Ss={},Mr=[],ht=function A(P,Q,fe,be,Ue,He){if(!(this instanceof A))return new A(P,Q,fe,be,Ue,He);isNaN(P)&&(P=1),isNaN(Q)&&(Q=0),isNaN(fe)&&(fe=0),isNaN(be)&&(be=1),isNaN(Ue)&&(Ue=0),isNaN(He)&&(He=0),this._matrix=[P,Q,fe,be,Ue,He]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(se).join(A)},ht.prototype.multiply=function(A){var P=A.sx*this.sx+A.shy*this.shx,Q=A.sx*this.shy+A.shy*this.sy,fe=A.shx*this.sx+A.sy*this.shx,be=A.shx*this.shy+A.sy*this.sy,Ue=A.tx*this.sx+A.ty*this.shx+this.tx,He=A.tx*this.shy+A.ty*this.sy+this.ty;return new ht(P,Q,fe,be,Ue,He)},ht.prototype.decompose=function(){var A=this.sx,P=this.shy,Q=this.shx,fe=this.sy,be=this.tx,Ue=this.ty,He=Math.sqrt(A*A+P*P),et=(A/=He)*Q+(P/=He)*fe;Q-=A*et,fe-=P*et;var ot=Math.sqrt(Q*Q+fe*fe);return et/=ot,A*(fe/=ot)<P*(Q/=ot)&&(A=-A,P=-P,et=-et,He=-He),{scale:new ht(He,0,0,ot,0,0),translate:new ht(1,0,0,1,be,Ue),rotate:new ht(A,P,-P,A,0,0),skew:new ht(1,0,et,1,0,0)}},ht.prototype.toString=function(A){return this.join(" ")},ht.prototype.inversed=function(){var A=this.sx,P=this.shy,Q=this.shx,fe=this.sy,be=this.tx,Ue=this.ty,He=1/(A*fe-P*Q),et=fe*He,ot=-P*He,Nt=-Q*He,Ft=A*He;return new ht(et,ot,Nt,Ft,-et*be-Nt*Ue,-ot*be-Ft*Ue)},ht.prototype.applyToPoint=function(A){var P=A.x*this.sx+A.y*this.shx+this.tx,Q=A.x*this.shy+A.y*this.sy+this.ty;return new Ur(P,Q)},ht.prototype.applyToRectangle=function(A){var P=this.applyToPoint(A),Q=this.applyToPoint(new Ur(A.x+A.w,A.y+A.h));return new Ws(P.x,P.y,Q.x-P.x,Q.y-P.y)},ht.prototype.clone=function(){var A=this.sx,P=this.shy,Q=this.shx,fe=this.sy,be=this.tx,Ue=this.ty;return new ht(A,P,Q,fe,be,Ue)},b.Matrix=ht;var js=b.matrixMult=function(A,P){return P.multiply(A)},xs=new ht(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=xs;var wr=function(A,P){if(!kn[A]){var Q=(P instanceof fu?"Sh":"P")+(Object.keys(mt).length+1).toString(10);P.id=Q,kn[A]=Q,mt[Q]=P,on.publish("addPattern",P)}};b.ShadingPattern=fu,b.TilingPattern=Tc,b.addShadingPattern=function(A,P){return V("addShadingPattern()"),wr(A,P),this},b.beginTilingPattern=function(A){V("beginTilingPattern()"),oa(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},b.endTilingPattern=function(A,P){V("endTilingPattern()"),P.stream=Ge[G].join(`
`),wr(A,P),on.publish("endTilingPattern",P),Mr.pop().restore()};var _r,Hn=b.__private__.newObject=function(){var A=ui();return Ni(A,!0),A},ui=b.__private__.newObjectDeferred=function(){return oe++,ve[oe]=function(){return Ce},oe},Ni=function(A,P){return P=typeof P=="boolean"&&P,ve[A]=Ce,P&&K(A+" 0 obj"),A},ko=b.__private__.newAdditionalObject=function(){var A={objId:ui(),content:""};return De.push(A),A},er=ui(),An=ui(),Gn=b.__private__.decodeColorString=function(A){var P=A.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var Q=parseFloat(P[0]);P=[Q,Q,Q,"r"]}for(var fe="#",be=0;be<3;be++)fe+=("0"+Math.floor(255*parseFloat(P[be])).toString(16)).slice(-2);return fe},Vi=b.__private__.encodeColorString=function(A){var P;typeof A=="string"&&(A={ch1:A});var Q=A.ch1,fe=A.ch2,be=A.ch3,Ue=A.ch4,He=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Q=="string"&&Q.charAt(0)!=="#"){var et=new $b(Q);if(et.ok)Q=et.toHex();else if(!/^\d*\.?\d*$/.test(Q))throw new Error('Invalid color "'+Q+'" passed to jsPDF.encodeColorString.')}if(typeof Q=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Q)&&(Q="#"+Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]),typeof Q=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Q)){var ot=parseInt(Q.substr(1),16);Q=ot>>16&255,fe=ot>>8&255,be=255&ot}if(fe===void 0||Ue===void 0&&Q===fe&&fe===be)P=typeof Q=="string"?Q+" "+He[0]:A.precision===2?q(Q/255)+" "+He[0]:W(Q/255)+" "+He[0];else if(Ue===void 0||Rn(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return["1.","1.","1.",He[1]].join(" ");P=typeof Q=="string"?[Q,fe,be,He[1]].join(" "):A.precision===2?[q(Q/255),q(fe/255),q(be/255),He[1]].join(" "):[W(Q/255),W(fe/255),W(be/255),He[1]].join(" ")}else P=typeof Q=="string"?[Q,fe,be,Ue,He[2]].join(" "):A.precision===2?[q(Q),q(fe),q(be),q(Ue),He[2]].join(" "):[W(Q),W(fe),W(be),W(Ue),He[2]].join(" ");return P},Sr=b.__private__.getFilters=function(){return l},Pr=b.__private__.putStream=function(A){var P=(A=A||{}).data||"",Q=A.filters||Sr(),fe=A.alreadyAppliedFilters||[],be=A.addLength1||!1,Ue=P.length,He=A.objectId,et=function(_i){return _i};if(p!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(et=wi.encryptor(He,0));var ot={};Q===!0&&(Q=["FlateEncode"]);var Nt=A.additionalKeyValues||[],Ft=(ot=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(P,Q):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(ot.data.length!==0&&(Nt.push({key:"Length",value:ot.data.length}),be===!0&&Nt.push({key:"Length1",value:Ue})),Ft.length!=0)if(Ft.split("/").length-1==1)Nt.push({key:"Filter",value:Ft});else{Nt.push({key:"Filter",value:"["+Ft+"]"});for(var an=0;an<Nt.length;an+=1)if(Nt[an].key==="DecodeParms"){for(var jn=[],ii=0;ii<ot.reverseChain.split("/").length-1;ii+=1)jn.push("null");jn.push(Nt[an].value),Nt[an].value="["+jn.join(" ")+"]"}}K("<<");for(var In=0;In<Nt.length;In++)K("/"+Nt[In].key+" "+Nt[In].value);K(">>"),ot.data.length!==0&&(K("stream"),K(et(ot.data)),K("endstream"))},ea=b.__private__.putPage=function(A){var P=A.number,Q=A.data,fe=A.objId,be=A.contentsObjId;Ni(fe,!0),K("<</Type /Page"),K("/Parent "+A.rootDictionaryObjId+" 0 R"),K("/Resources "+A.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(se(A.mediaBox.bottomLeftX))+" "+parseFloat(se(A.mediaBox.bottomLeftY))+" "+se(A.mediaBox.topRightX)+" "+se(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&K("/CropBox ["+se(A.cropBox.bottomLeftX)+" "+se(A.cropBox.bottomLeftY)+" "+se(A.cropBox.topRightX)+" "+se(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&K("/BleedBox ["+se(A.bleedBox.bottomLeftX)+" "+se(A.bleedBox.bottomLeftY)+" "+se(A.bleedBox.topRightX)+" "+se(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&K("/TrimBox ["+se(A.trimBox.bottomLeftX)+" "+se(A.trimBox.bottomLeftY)+" "+se(A.trimBox.topRightX)+" "+se(A.trimBox.topRightY)+"]"),A.artBox!==null&&K("/ArtBox ["+se(A.artBox.bottomLeftX)+" "+se(A.artBox.bottomLeftY)+" "+se(A.artBox.topRightX)+" "+se(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&K("/UserUnit "+A.userUnit),on.publish("putPage",{objId:fe,pageContext:ut[P],pageNumber:P,page:Q}),K("/Contents "+be+" 0 R"),K(">>"),K("endobj");var Ue=Q.join(`
`);return H===U&&(Ue+=`
Q`),Ni(be,!0),Pr({data:Ue,filters:Sr(),objectId:be}),K("endobj"),fe},es=b.__private__.putPages=function(){var A,P,Q=[];for(A=1;A<=Gt;A++)ut[A].objId=ui(),ut[A].contentsObjId=ui();for(A=1;A<=Gt;A++)Q.push(ea({number:A,data:Ge[A],objId:ut[A].objId,contentsObjId:ut[A].contentsObjId,mediaBox:ut[A].mediaBox,cropBox:ut[A].cropBox,bleedBox:ut[A].bleedBox,trimBox:ut[A].trimBox,artBox:ut[A].artBox,userUnit:ut[A].userUnit,rootDictionaryObjId:er,resourceDictionaryObjId:An}));Ni(er,!0),K("<</Type /Pages");var fe="/Kids [";for(P=0;P<Gt;P++)fe+=Q[P]+" 0 R ";K(fe+"]"),K("/Count "+Gt),K(">>"),K("endobj"),on.publish("postPutPages")},ts=function(A){on.publish("putFont",{font:A,out:K,newObject:Hn,putStream:Pr}),A.isAlreadyPutted!==!0&&(A.objectNumber=Hn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+_c(A.postScriptName)),K("/Subtype /Type1"),typeof A.encoding=="string"&&K("/Encoding /"+A.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},Io=function(A){A.objectNumber=Hn();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[se(A.x),se(A.y),se(A.x+A.width),se(A.y+A.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var Q=A.pages[1].join(`
`);Pr({data:Q,additionalKeyValues:P,objectId:A.objectNumber}),K("endobj")},ns=function(A,P){P||(P=21);var Q=Hn(),fe=(function(He,et){var ot,Nt=[],Ft=1/(et-1);for(ot=0;ot<1;ot+=Ft)Nt.push(ot);if(Nt.push(1),He[0].offset!=0){var an={offset:0,color:He[0].color};He.unshift(an)}if(He[He.length-1].offset!=1){var jn={offset:1,color:He[He.length-1].color};He.push(jn)}for(var ii="",In=0,_i=0;_i<Nt.length;_i++){for(ot=Nt[_i];ot>He[In+1].offset;)In++;var fi=He[In].offset,Di=(ot-fi)/(He[In+1].offset-fi),eo=He[In].color,ls=He[In+1].color;ii+=ne(Math.round((1-Di)*eo[0]+Di*ls[0]).toString(16))+ne(Math.round((1-Di)*eo[1]+Di*ls[1]).toString(16))+ne(Math.round((1-Di)*eo[2]+Di*ls[2]).toString(16))}return ii.trim()})(A.colors,P),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+P+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pr({data:fe,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Q}),K("endobj"),A.objectNumber=Hn(),K("<< /ShadingType "+A.type),K("/ColorSpace /DeviceRGB");var Ue="/Coords ["+se(parseFloat(A.coords[0]))+" "+se(parseFloat(A.coords[1]))+" ";A.type===2?Ue+=se(parseFloat(A.coords[2]))+" "+se(parseFloat(A.coords[3])):Ue+=se(parseFloat(A.coords[2]))+" "+se(parseFloat(A.coords[3]))+" "+se(parseFloat(A.coords[4]))+" "+se(parseFloat(A.coords[5])),K(Ue+="]"),A.matrix&&K("/Matrix ["+A.matrix.toString()+"]"),K("/Function "+Q+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},is=function(A,P){var Q=ui(),fe=Hn();P.push({resourcesOid:Q,objectOid:fe}),A.objectNumber=fe;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+A.boundingBox.map(se).join(" ")+"]"}),be.push({key:"XStep",value:se(A.xStep)}),be.push({key:"YStep",value:se(A.yStep)}),be.push({key:"Resources",value:Q+" 0 R"}),A.matrix&&be.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Pr({data:A.stream,additionalKeyValues:be,objectId:A.objectNumber}),K("endobj")},ta=function(A){for(var P in A.objectNumber=Hn(),K("<<"),A)switch(P){case"opacity":K("/ca "+q(A[P]));break;case"stroke-opacity":K("/CA "+q(A[P]))}K(">>"),K("endobj")},As=function(A){Ni(A.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var P in K("/Font <<"),_t)_t.hasOwnProperty(P)&&(w===!1||w===!0&&S.hasOwnProperty(P))&&K("/"+P+" "+_t[P].objectNumber+" 0 R");K(">>")})(),(function(){if(Object.keys(mt).length>0){for(var P in K("/Shading <<"),mt)mt.hasOwnProperty(P)&&mt[P]instanceof fu&&mt[P].objectNumber>=0&&K("/"+P+" "+mt[P].objectNumber+" 0 R");on.publish("putShadingPatternDict"),K(">>")}})(),(function(P){if(Object.keys(mt).length>0){for(var Q in K("/Pattern <<"),mt)mt.hasOwnProperty(Q)&&mt[Q]instanceof b.TilingPattern&&mt[Q].objectNumber>=0&&mt[Q].objectNumber<P&&K("/"+Q+" "+mt[Q].objectNumber+" 0 R");on.publish("putTilingPatternDict"),K(">>")}})(A.objectOid),(function(){if(Object.keys(Et).length>0){var P;for(P in K("/ExtGState <<"),Et)Et.hasOwnProperty(P)&&Et[P].objectNumber>=0&&K("/"+P+" "+Et[P].objectNumber+" 0 R");on.publish("putGStateDict"),K(">>")}})(),(function(){for(var P in K("/XObject <<"),ji)ji.hasOwnProperty(P)&&ji[P].objectNumber>=0&&K("/"+P+" "+ji[P].objectNumber+" 0 R");on.publish("putXobjectDict"),K(">>")})(),K(">>"),K("endobj")},ni=function(A){kt[A.fontName]=kt[A.fontName]||{},kt[A.fontName][A.fontStyle]=A.id},Cl=function(A,P,Q,fe,be){var Ue={id:"F"+(Object.keys(_t).length+1).toString(10),postScriptName:A,fontName:P,fontStyle:Q,encoding:fe,isStandardFont:be||!1,metadata:{}};return on.publish("addFont",{font:Ue,instance:this}),_t[Ue.id]=Ue,ni(Ue),Ue.id},xr=b.__private__.pdfEscape=b.pdfEscape=function(A,P){return(function(Q,fe){var be,Ue,He,et,ot,Nt,Ft,an,jn;if(He=(fe=fe||{}).sourceEncoding||"Unicode",ot=fe.outputEncoding,(fe.autoencode||ot)&&_t[st].metadata&&_t[st].metadata[He]&&_t[st].metadata[He].encoding&&(et=_t[st].metadata[He].encoding,!ot&&_t[st].encoding&&(ot=_t[st].encoding),!ot&&et.codePages&&(ot=et.codePages[0]),typeof ot=="string"&&(ot=et[ot]),ot)){for(Ft=!1,Nt=[],be=0,Ue=Q.length;be<Ue;be++)(an=ot[Q.charCodeAt(be)])?Nt.push(String.fromCharCode(an)):Nt.push(Q[be]),Nt[be].charCodeAt(0)>>8&&(Ft=!0);Q=Nt.join("")}for(be=Q.length;Ft===void 0&&be!==0;)Q.charCodeAt(be-1)>>8&&(Ft=!0),be--;if(!Ft)return Q;for(Nt=fe.noBOM?[]:[254,255],be=0,Ue=Q.length;be<Ue;be++){if((jn=(an=Q.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+Q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Nt.push(jn),Nt.push(an-(jn<<8))}return String.fromCharCode.apply(void 0,Nt)})(A,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rs=b.__private__.beginPage=function(A){Ge[++Gt]=[],ut[Gt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},kl(Gt),rt(Ge[G])},Vs=function(A,P){var Q,fe,be;switch(n=P||n,typeof A=="string"&&(Q=I(A.toLowerCase()),Array.isArray(Q)&&(fe=Q[0],be=Q[1])),Array.isArray(A)&&(fe=A[0]*Dt,be=A[1]*Dt),isNaN(fe)&&(fe=s[0],be=s[1]),(fe>14400||be>14400)&&(qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),be=Math.min(14400,be)),s=[fe,be],n.substr(0,1)){case"l":be>fe&&(s=[be,fe]);break;case"p":fe>be&&(s=[be,fe])}rs(s),xt(ia),K(Tr),za!==0&&K(za+" J"),Ci!==0&&K(Ci+" j"),on.publish("addPage",{pageNumber:Gt})},Rl=function(A){A>0&&A<=Gt&&(Ge.splice(A,1),ut.splice(A,1),Gt--,G>Gt&&(G=Gt),this.setPage(G))},kl=function(A){A>0&&A<=Gt&&(G=A)},Il=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Ge.length-1},_u=function(A,P,Q){var fe,be=void 0;return Q=Q||{},A=A!==void 0?A:_t[st].fontName,P=P!==void 0?P:_t[st].fontStyle,fe=A.toLowerCase(),kt[fe]!==void 0&&kt[fe][P]!==void 0?be=kt[fe][P]:kt[A]!==void 0&&kt[A][P]!==void 0?be=kt[A][P]:Q.disableWarning===!1&&qn.warn("Unable to look up font label for font '"+A+"', '"+P+"'. Refer to getFontList() for available fonts."),be||Q.noFallback||(be=kt.times[P])==null&&(be=kt.times.normal),be},Ar=b.__private__.putInfo=function(){var A=Hn(),P=function(fe){return fe};for(var Q in p!==null&&(P=wi.encryptor(A,0)),K("<<"),K("/Producer ("+xr(P("jsPDF "+ft.version))+")"),$t)$t.hasOwnProperty(Q)&&$t[Q]&&K("/"+Q.substr(0,1).toUpperCase()+Q.substr(1)+" ("+xr(P($t[Q]))+")");K("/CreationDate ("+xr(P(Se))+")"),K(">>"),K("endobj")},$s=b.__private__.putCatalog=function(A){var P=(A=A||{}).rootDictionaryObjId||er;switch(Hn(),K("<<"),K("/Type /Catalog"),K("/Pages "+P+" 0 R"),gt||(gt="fullwidth"),gt){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Q=""+gt;Q.substr(Q.length-1)==="%"&&(gt=parseInt(gt)/100),typeof gt=="number"&&K("/OpenAction [3 0 R /XYZ null null "+q(gt)+"]")}switch(Kt||(Kt="continuous"),Kt){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}dt&&K("/PageMode /"+dt),on.publish("putCatalog"),K(">>"),K("endobj")},ss=b.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(oe+1)),K("/Root "+oe+" 0 R"),K("/Info "+(oe-1)+" 0 R"),p!==null&&K("/Encrypt "+wi.oid+" 0 R"),K("/ID [ <"+ee+"> <"+ee+"> ]"),K(">>")},pn=b.__private__.putHeader=function(){K("%PDF-"+N),K("%")},Ll=b.__private__.putXRef=function(){var A="0000000000";K("xref"),K("0 "+(oe+1)),K("0000000000 65535 f ");for(var P=1;P<=oe;P++)typeof ve[P]=="function"?K((A+ve[P]()).slice(-10)+" 00000 n "):ve[P]!==void 0?K((A+ve[P]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},Es=b.__private__.buildDocument=function(){var A;oe=0,Ce=0,Te=[],ve=[],De=[],er=ui(),An=ui(),rt(Te),on.publish("buildDocument"),pn(),es(),(function(){on.publish("putAdditionalObjects");for(var Q=0;Q<De.length;Q++){var fe=De[Q];Ni(fe.objId,!0),K(fe.content),K("endobj")}on.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var Q in _t)_t.hasOwnProperty(Q)&&(w===!1||w===!0&&S.hasOwnProperty(Q))&&ts(_t[Q])})(),(function(){var Q;for(Q in Et)Et.hasOwnProperty(Q)&&ta(Et[Q])})(),(function(){for(var Q in ji)ji.hasOwnProperty(Q)&&Io(ji[Q])})(),(function(Q){var fe;for(fe in mt)mt.hasOwnProperty(fe)&&(mt[fe]instanceof fu?ns(mt[fe]):mt[fe]instanceof Tc&&is(mt[fe],Q))})(A),on.publish("putResources"),A.forEach(As),As({resourcesOid:An,objectOid:Number.MAX_SAFE_INTEGER}),on.publish("postPutResources"),p!==null&&(wi.oid=Hn(),K("<<"),K("/Filter /Standard"),K("/V "+wi.v),K("/R "+wi.r),K("/U <"+wi.toHexString(wi.U)+">"),K("/O <"+wi.toHexString(wi.O)+">"),K("/P "+wi.P),K(">>"),K("endobj")),Ar(),$s();var P=Ce;return Ll(),ss(),K("startxref"),K(""+P),K("%%EOF"),rt(Ge[G]),Te.join(`
`)},Lo=b.__private__.getBlob=function(A){return new Blob([Vt(A)],{type:"application/pdf"})},Ml=b.output=b.__private__.output=(_r=function(A,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",A){case void 0:return Es();case"save":b.save(P.filename);break;case"arraybuffer":return Vt(Es());case"blob":return Lo(Es());case"bloburi":case"bloburl":if(Mt.URL!==void 0&&typeof Mt.URL.createObjectURL=="function")return Mt.URL&&Mt.URL.createObjectURL(Lo(Es()))||void 0;qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Q="",fe=Es();try{Q=Ny(fe)}catch{Q=Ny(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+P.filename+";base64,"+Q;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Mt)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(be=P.pdfObjectUrl,Ue="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",et=Mt.open();return et!==null&&et.document.write(He),et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Mt)==="[object Window]"){var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Nt=Mt.open();if(Nt!==null){Nt.document.write(ot);var Ft=this;Nt.document.documentElement.querySelector("#pdfViewer").onload=function(){Nt.document.title=P.filename,Nt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ft.output("bloburl"))}}return Nt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Mt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var an='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',jn=Mt.open();if(jn!==null&&(jn.document.write(an),jn.document.title=P.filename),jn||typeof safari>"u")return jn;break;case"datauri":case"dataurl":return Mt.document.location.href=this.output("datauristring",P);default:return null}},_r.foo=function(){try{return _r.apply(this,arguments)}catch(Q){var A=Q.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var P="Error in function "+A.split(`
`)[0].split("<")[0]+": "+Q.message;if(!Mt.console)throw new Error(P);Mt.console.error(P,Q),Mt.alert&&alert(P)}},_r.foo.bar=_r,_r.foo),tr=function(A){return Array.isArray(Qr)===!0&&Qr.indexOf(A)>-1};switch(i){case"pt":Dt=1;break;case"mm":Dt=72/25.4;break;case"cm":Dt=72/2.54;break;case"in":Dt=72;break;case"px":Dt=tr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Dt=12;break;case"ex":Dt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Dt=i}var wi=null;$(),he();var ci=b.__private__.getPageInfo=b.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ut[A].objId,pageNumber:A,pageContext:ut[A]}},qa=b.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in ut)if(ut[P].objId===A)break;return ci(P)},Su=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:ut[G].objId,pageNumber:G,pageContext:ut[G]}};b.addPage=function(){return Vs.apply(this,arguments),this},b.setPage=function(){return kl.apply(this,arguments),rt.call(this,Ge[G]),this},b.insertPage=function(A){return this.addPage(),this.movePage(G,A),this},b.movePage=function(A,P){var Q,fe;if(A>P){Q=Ge[A],fe=ut[A];for(var be=A;be>P;be--)Ge[be]=Ge[be-1],ut[be]=ut[be-1];Ge[P]=Q,ut[P]=fe,this.setPage(P)}else if(A<P){Q=Ge[A],fe=ut[A];for(var Ue=A;Ue<P;Ue++)Ge[Ue]=Ge[Ue+1],ut[Ue]=ut[Ue+1];Ge[P]=Q,ut[P]=fe,this.setPage(P)}return this},b.deletePage=function(){return Rl.apply(this,arguments),this},b.__private__.text=b.text=function(A,P,Q,fe,be){var Ue,He,et,ot,Nt,Ft,an,jn,ii,In=(fe=fe||{}).scope||this;if(typeof A=="number"&&typeof P=="number"&&(typeof Q=="string"||Array.isArray(Q))){var _i=Q;Q=P,P=A,A=_i}if(arguments[3]instanceof ht==0?(et=arguments[4],ot=arguments[5],Rn(an=arguments[3])==="object"&&an!==null||(typeof et=="string"&&(ot=et,et=null),typeof an=="string"&&(ot=an,an=null),typeof an=="number"&&(et=an,an=null),fe={flags:an,angle:et,align:ot})):(V("The transform parameter of text() with a Matrix value"),ii=be),isNaN(P)||isNaN(Q)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return In;var fi,Di="",eo=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:Js,ls=In.internal.scaleFactor;function to(gn){return gn=gn.split("	").join(Array(fe.TabLen||9).join(" ")),xr(gn,an)}function zl(gn){for(var ln,Ln=gn.concat(),si=[],Ds=Ln.length;Ds--;)typeof(ln=Ln.shift())=="string"?si.push(ln):Array.isArray(gn)&&(ln.length===1||ln[1]===void 0&&ln[2]===void 0)?si.push(ln[0]):si.push([ln[0],ln[1],ln[2]]);return si}function ja(gn,ln){var Ln;if(typeof gn=="string")Ln=ln(gn)[0];else if(Array.isArray(gn)){for(var si,Ds,ds=gn.concat(),ca=[],Vl=ds.length;Vl--;)typeof(si=ds.shift())=="string"?ca.push(ln(si)[0]):Array.isArray(si)&&typeof si[0]=="string"&&(Ds=ln(si[0],si[1],si[2]),ca.push([Ds[0],Ds[1],Ds[2]]));Ln=ca}return Ln}var Cs=!1,us=!0;if(typeof A=="string")Cs=!0;else if(Array.isArray(A)){var la=A.concat();He=[];for(var no,Ri=la.length;Ri--;)(typeof(no=la.shift())!="string"||Array.isArray(no)&&typeof no[0]!="string")&&(us=!1);Cs=us}if(Cs===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Po=ze/In.internal.scaleFactor,Do=Po*(eo-1);switch(fe.baseline){case"bottom":Q-=Do;break;case"top":Q+=Po-Do;break;case"hanging":Q+=Po-2*Do;break;case"middle":Q+=Po/2-Do}if((Ft=fe.maxWidth||0)>0&&(typeof A=="string"?A=In.splitTextToSize(A,Ft):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(gn,ln){return gn.concat(In.splitTextToSize(ln,Ft))},[]))),Ue={text:A,x:P,y:Q,options:fe,mutex:{pdfEscape:xr,activeFontKey:st,fonts:_t,activeFontSize:ze}},on.publish("preProcessText",Ue),A=Ue.text,et=(fe=Ue.options).angle,ii instanceof ht==0&&et&&typeof et=="number"){et*=Math.PI/180,fe.rotationDirection===0&&(et=-et),H===U&&(et=-et);var Va=Math.cos(et),Rs=Math.sin(et);ii=new ht(Va,Rs,-Rs,Va,0,0)}else et&&et instanceof ht&&(ii=et);H!==U||ii||(ii=xs),(Nt=fe.charSpace||Dr)!==void 0&&(Di+=se(ie(Nt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(jn=fe.horizontalScale)!==void 0&&(Di+=se(100*jn)+` Tz
`),fe.lang;var ir=-1,io=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,$a=In.internal.getCurrentPageInfo().pageContext;switch(io){case 0:case!1:case"fill":ir=0;break;case 1:case!0:case"stroke":ir=1;break;case 2:case"fillThenStroke":ir=2;break;case 3:case"invisible":ir=3;break;case 4:case"fillAndAddForClipping":ir=4;break;case 5:case"strokeAndAddPathForClipping":ir=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ir=6;break;case 7:case"addToPathForClipping":ir=7}var Gl=$a.usedRenderingMode!==void 0?$a.usedRenderingMode:-1;ir!==-1?Di+=ir+` Tr
`:Gl!==-1&&(Di+=`0 Tr
`),ir!==-1&&($a.usedRenderingMode=ir),ot=fe.align||"left";var Nr,cs=ze*eo,ro=In.internal.pageSize.getWidth(),jl=_t[st];Nt=fe.charSpace||Dr,Ft=fe.maxWidth||0,an=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var fs=[],Uo=function(gn){return In.getStringUnitWidth(gn,{font:jl,charSpace:Nt,fontSize:ze,doKerning:!1})*ze/ls};if(Object.prototype.toString.call(A)==="[object Array]"){var dr;He=zl(A),ot!=="left"&&(Nr=He.map(Uo));var rr,ks=0;if(ot==="right"){P-=Nr[0],A=[],Ri=He.length;for(var Is=0;Is<Ri;Is++)Is===0?(rr=Er(P),dr=Pi(Q)):(rr=ie(ks-Nr[Is]),dr=-cs),A.push([He[Is],rr,dr]),ks=Nr[Is]}else if(ot==="center"){P-=Nr[0]/2,A=[],Ri=He.length;for(var so=0;so<Ri;so++)so===0?(rr=Er(P),dr=Pi(Q)):(rr=ie((ks-Nr[so])/2),dr=-cs),A.push([He[so],rr,dr]),ks=Nr[so]}else if(ot==="left"){A=[],Ri=He.length;for(var Ja=0;Ja<Ri;Ja++)A.push(He[Ja])}else if(ot==="justify"&&jl.encoding==="Identity-H"){A=[],Ri=He.length,Ft=Ft!==0?Ft:ro;for(var Wa=0,ri=0;ri<Ri;ri++)if(dr=ri===0?Pi(Q):-cs,rr=ri===0?Er(P):Wa,ri<Ri-1){var Iu=ie((Ft-Nr[ri])/(He[ri].split(" ").length-1)),Ls=He[ri].split(" ");A.push([Ls[0]+" ",rr,dr]),Wa=0;for(var Ms=1;Ms<Ls.length;Ms++){var Ui=(Uo(Ls[Ms-1]+" "+Ls[Ms])-Uo(Ls[Ms]))*ls+Iu;Ms==Ls.length-1?A.push([Ls[Ms],Ui,0]):A.push([Ls[Ms]+" ",Ui,0]),Wa-=Ui}}else A.push([He[ri],rr,dr]);A.push(["",Wa,0])}else{if(ot!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Ri=He.length,Ft=Ft!==0?Ft:ro,ri=0;ri<Ri;ri++){dr=ri===0?Pi(Q):-cs,rr=ri===0?Er(P):0;var oo=He[ri].split(" ").length-1,Ya=oo>0?(Ft-Nr[ri])/oo:0;ri<Ri-1?fs.push(se(ie(Ya))):fs.push(0),A.push([He[ri],rr,dr])}}}(typeof fe.R2L=="boolean"?fe.R2L:wt)===!0&&(A=ja(A,function(gn,ln,Ln){return[gn.split("").reverse().join(""),ln,Ln]})),Ue={text:A,x:P,y:Q,options:fe,mutex:{pdfEscape:xr,activeFontKey:st,fonts:_t,activeFontSize:ze}},on.publish("postProcessText",Ue),A=Ue.text,fi=Ue.mutex.isHex||!1;var Ka=_t[st].encoding;Ka!=="WinAnsiEncoding"&&Ka!=="StandardEncoding"||(A=ja(A,function(gn,ln,Ln){return[to(gn),ln,Ln]})),He=zl(A),A=[];for(var ao,lo,Ps,ua=Array.isArray(He[0])?1:0,Cr="",uo=function(gn,ln,Ln){var si="";return Ln instanceof ht?(Ln=typeof fe.angle=="number"?js(Ln,new ht(1,0,0,1,gn,ln)):js(new ht(1,0,0,1,gn,ln),Ln),H===U&&(Ln=js(new ht(1,0,0,-1,0,0),Ln)),si=Ln.join(" ")+` Tm
`):si=se(gn)+" "+se(ln)+` Td
`,si},$i=0;$i<He.length;$i++){switch(Cr="",ua){case 1:Ps=(fi?"<":"(")+He[$i][0]+(fi?">":")"),ao=parseFloat(He[$i][1]),lo=parseFloat(He[$i][2]);break;case 0:Ps=(fi?"<":"(")+He[$i]+(fi?">":")"),ao=Er(P),lo=Pi(Q)}fs!==void 0&&fs[$i]!==void 0&&(Cr=fs[$i]+` Tw
`),$i===0?A.push(Cr+uo(ao,lo,ii)+Ps):ua===0?A.push(Cr+Ps):ua===1&&A.push(Cr+uo(ao,lo,ii)+Ps)}A=ua===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Or=`BT
/`;return Or+=st+" "+ze+` Tf
`,Or+=se(ze*eo)+` TL
`,Or+=Ts+`
`,Or+=Di,Or+=A,K(Or+="ET"),S[st]=!0,In};var Pl=b.__private__.clip=b.clip=function(A){return K(A==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Pl("evenodd")},b.__private__.discardPath=b.discardPath=function(){return K("n"),this};var nr=b.__private__.isValidStyle=function(A){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(P=!0),P};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(A){return nr(A)&&(f=A),this};var Dl=b.__private__.getStyle=b.getStyle=function(A){var P=f;switch(A){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=A}return P},Ul=b.close=function(){return K("h"),this};b.stroke=function(){return K("S"),this},b.fill=function(A){return os("f",A),this},b.fillEvenOdd=function(A){return os("f*",A),this},b.fillStroke=function(A){return os("B",A),this},b.fillStrokeEvenOdd=function(A){return os("B*",A),this};var os=function(A,P){Rn(P)==="object"?Au(P,A):K(A)},na=function(A){A===null||H===U&&A===void 0||(A=Dl(A),K(A))};function xu(A,P,Q,fe,be){var Ue=new Tc(P||this.boundingBox,Q||this.xStep,fe||this.yStep,this.gState,be||this.matrix);Ue.stream=this.stream;var He=A+"$$"+this.cloneIndex+++"$$";return wr(He,Ue),Ue}var Au=function(A,P){var Q=kn[A.key],fe=mt[Q];if(fe instanceof fu)K("q"),K(Ol(P)),fe.gState&&b.setGState(fe.gState),K(A.matrix.toString()+" cm"),K("/"+Q+" sh"),K("Q");else if(fe instanceof Tc){var be=new ht(1,0,0,-1,0,Qs());A.matrix&&(be=be.multiply(A.matrix||xs),Q=xu.call(fe,A.key,A.boundingBox,A.xStep,A.yStep,be).id),K("q"),K("/Pattern cs"),K("/"+Q+" scn"),fe.gState&&b.setGState(fe.gState),K(P),K("Q")}},Ol=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Bl=b.moveTo=function(A,P){return K(se(ie(A))+" "+se(te(P))+" m"),this},Eu=b.lineTo=function(A,P){return K(se(ie(A))+" "+se(te(P))+" l"),this},fr=b.curveTo=function(A,P,Q,fe,be,Ue){return K([se(ie(A)),se(te(P)),se(ie(Q)),se(te(fe)),se(ie(be)),se(te(Ue)),"c"].join(" ")),this};b.__private__.line=b.line=function(A,P,Q,fe,be){if(isNaN(A)||isNaN(P)||isNaN(Q)||isNaN(fe)||!nr(be))throw new Error("Invalid arguments passed to jsPDF.line");return H===F?this.lines([[Q-A,fe-P]],A,P,[1,1],be||"S"):this.lines([[Q-A,fe-P]],A,P,[1,1]).stroke()},b.__private__.lines=b.lines=function(A,P,Q,fe,be,Ue){var He,et,ot,Nt,Ft,an,jn,ii,In,_i,fi,Di;if(typeof A=="number"&&(Di=Q,Q=P,P=A,A=Di),fe=fe||[1,1],Ue=Ue||!1,isNaN(P)||isNaN(Q)||!Array.isArray(A)||!Array.isArray(fe)||!nr(be)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bl(P,Q),He=fe[0],et=fe[1],Nt=A.length,_i=P,fi=Q,ot=0;ot<Nt;ot++)(Ft=A[ot]).length===2?(_i=Ft[0]*He+_i,fi=Ft[1]*et+fi,Eu(_i,fi)):(an=Ft[0]*He+_i,jn=Ft[1]*et+fi,ii=Ft[2]*He+_i,In=Ft[3]*et+fi,_i=Ft[4]*He+_i,fi=Ft[5]*et+fi,fr(an,jn,ii,In,_i,fi));return Ue&&Ul(),na(be),this},b.path=function(A){for(var P=0;P<A.length;P++){var Q=A[P],fe=Q.c;switch(Q.op){case"m":Bl(fe[0],fe[1]);break;case"l":Eu(fe[0],fe[1]);break;case"c":fr.apply(this,fe);break;case"h":Ul()}}return this},b.__private__.rect=b.rect=function(A,P,Q,fe,be){if(isNaN(A)||isNaN(P)||isNaN(Q)||isNaN(fe)||!nr(be))throw new Error("Invalid arguments passed to jsPDF.rect");return H===F&&(fe=-fe),K([se(ie(A)),se(te(P)),se(ie(Q)),se(ie(fe)),"re"].join(" ")),na(be),this},b.__private__.triangle=b.triangle=function(A,P,Q,fe,be,Ue,He){if(isNaN(A)||isNaN(P)||isNaN(Q)||isNaN(fe)||isNaN(be)||isNaN(Ue)||!nr(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Q-A,fe-P],[be-Q,Ue-fe],[A-be,P-Ue]],A,P,[1,1],He,!0),this},b.__private__.roundedRect=b.roundedRect=function(A,P,Q,fe,be,Ue,He){if(isNaN(A)||isNaN(P)||isNaN(Q)||isNaN(fe)||isNaN(be)||isNaN(Ue)||!nr(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var et=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*Q),Ue=Math.min(Ue,.5*fe),this.lines([[Q-2*be,0],[be*et,0,be,Ue-Ue*et,be,Ue],[0,fe-2*Ue],[0,Ue*et,-be*et,Ue,-be,Ue],[2*be-Q,0],[-be*et,0,-be,-Ue*et,-be,-Ue],[0,2*Ue-fe],[0,-Ue*et,be*et,-Ue,be,-Ue]],A+be,P,[1,1],He,!0),this},b.__private__.ellipse=b.ellipse=function(A,P,Q,fe,be){if(isNaN(A)||isNaN(P)||isNaN(Q)||isNaN(fe)||!nr(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*Q,He=4/3*(Math.SQRT2-1)*fe;return Bl(A+Q,P),fr(A+Q,P-He,A+Ue,P-fe,A,P-fe),fr(A-Ue,P-fe,A-Q,P-He,A-Q,P),fr(A-Q,P+He,A-Ue,P+fe,A,P+fe),fr(A+Ue,P+fe,A+Q,P+He,A+Q,P),na(be),this},b.__private__.circle=b.circle=function(A,P,Q,fe){if(isNaN(A)||isNaN(P)||isNaN(Q)||!nr(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,P,Q,Q,fe)},b.setFont=function(A,P,Q){return Q&&(P=re(P,Q)),st=_u(A,P,{disableWarning:!1}),this};var as=b.__private__.getFont=b.getFont=function(){return _t[_u.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var A,P,Q={};for(A in kt)if(kt.hasOwnProperty(A))for(P in Q[A]=[],kt[A])kt[A].hasOwnProperty(P)&&Q[A].push(P);return Q},b.addFont=function(A,P,Q,fe,be){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(Q=re(Q,fe)),Cl.call(this,A,P,Q,be=be||"Identity-H")};var Js,ia=t.lineWidth||.200025,Mo=b.__private__.getLineWidth=b.getLineWidth=function(){return ia},xt=b.__private__.setLineWidth=b.setLineWidth=function(A){return ia=A,K(se(ie(A))+" w"),this};b.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(A,P){if(A=A||[],P=P||0,isNaN(P)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(Q){return se(ie(Q))}).join(" "),P=se(ie(P)),K("["+A+"] "+P+" d"),this};var Tu=b.__private__.getLineHeight=b.getLineHeight=function(){return ze*Js};b.__private__.getLineHeight=b.getLineHeight=function(){return ze*Js};var Fl=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Js=A),this},Nu=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Js};Fl(t.lineHeight);var Er=b.__private__.getHorizontalCoordinate=function(A){return ie(A)},Pi=b.__private__.getVerticalCoordinate=function(A){return H===U?A:ut[G].mediaBox.topRightY-ut[G].mediaBox.bottomLeftY-ie(A)},ql=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(A){return se(Er(A))},ra=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(A){return se(Pi(A))},Tr=t.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Gn(Tr)},b.__private__.setStrokeColor=b.setDrawColor=function(A,P,Q,fe){return Tr=Vi({ch1:A,ch2:P,ch3:Q,ch4:fe,pdfColorType:"draw",precision:2}),K(Tr),this};var sa=t.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Gn(sa)},b.__private__.setFillColor=b.setFillColor=function(A,P,Q,fe){return sa=Vi({ch1:A,ch2:P,ch3:Q,ch4:fe,pdfColorType:"fill",precision:2}),K(sa),this};var Ts=t.textColor||"0 g",Cu=b.__private__.getTextColor=b.getTextColor=function(){return Gn(Ts)};b.__private__.setTextColor=b.setTextColor=function(A,P,Q,fe){return Ts=Vi({ch1:A,ch2:P,ch3:Q,ch4:fe,pdfColorType:"text",precision:3}),this};var Dr=t.charSpace,Ha=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Dr||0)};b.__private__.setCharSpace=b.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Dr=A,this};var za=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(A){var P=b.CapJoinStyles[A];if(P===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return za=P,K(P+" J"),this};var Ci=0;b.__private__.setLineJoin=b.setLineJoin=function(A){var P=b.CapJoinStyles[A];if(P===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ci=P,K(P+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(se(ie(A))+" M"),this},b.GState=yh,b.setGState=function(A){(A=typeof A=="string"?Et[It[A]]:Ns(null,A)).equals(xn)||(K("/"+A.id+" gs"),xn=A)};var Ns=function(A,P){if(!A||!It[A]){var Q=!1;for(var fe in Et)if(Et.hasOwnProperty(fe)&&Et[fe].equals(P)){Q=!0;break}if(Q)P=Et[fe];else{var be="GS"+(Object.keys(Et).length+1).toString(10);Et[be]=P,P.id=be}return A&&(It[A]=P.id),on.publish("addGState",P),P}};b.addGState=function(A,P){return Ns(A,P),this},b.saveGraphicsState=function(){return K("q"),Zt.push({key:st,size:ze,color:Ts}),this},b.restoreGraphicsState=function(){K("Q");var A=Zt.pop();return st=A.key,ze=A.size,Ts=A.color,xn=null,this},b.setCurrentTransformationMatrix=function(A){return K(A.toString()+" cm"),this},b.comment=function(A){return K("#"+A),this};var Ur=function(A,P){var Q=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Q},set:function(Ue){isNaN(Ue)||(Q=parseFloat(Ue))}});var fe=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Ue){isNaN(Ue)||(fe=parseFloat(Ue))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Ue){be=Ue.toString()}}),this},Ws=function(A,P,Q,fe){Ur.call(this,A,P),this.type="rect";var be=Q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(He){isNaN(He)||(be=parseFloat(He))}});var Ue=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(He){isNaN(He)||(Ue=parseFloat(He))}}),this},Ga=function(){this.page=Gt,this.currentPage=G,this.pages=Ge.slice(0),this.pagesContext=ut.slice(0),this.x=lt,this.y=ti,this.matrix=Yt,this.width=Ks(G),this.height=Hl(G),this.outputDestination=We,this.id="",this.objectNumber=-1};Ga.prototype.restore=function(){Gt=this.page,G=this.currentPage,ut=this.pagesContext,Ge=this.pages,lt=this.x,ti=this.y,Yt=this.matrix,aa(G,this.width),Xs(G,this.height),We=this.outputDestination};var oa=function(A,P,Q,fe,be){Mr.push(new Ga),Gt=G=0,Ge=[],lt=A,ti=P,Yt=be,rs([Q,fe])};for(var Ys in b.beginFormObject=function(A,P,Q,fe,be){return oa(A,P,Q,fe,be),this},b.endFormObject=function(A){return(function(P){if(Ss[P])Mr.pop().restore();else{var Q=new Ga,fe="Xo"+(Object.keys(ji).length+1).toString(10);Q.id=fe,Ss[P]=fe,ji[fe]=Q,on.publish("addFormObject",Q),Mr.pop().restore()}})(A),this},b.doFormObject=function(A,P){var Q=ji[Ss[A]];return K("q"),K(P.toString()+" cm"),K("/"+Q.id+" Do"),K("Q"),this},b.getFormObject=function(A){var P=ji[Ss[A]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},b.save=function(A,P){return A=A||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(lu(Lo(Es()),A),typeof lu.unload=="function"&&Mt.setTimeout&&setTimeout(lu.unload,911),this):new Promise(function(Q,fe){try{var be=lu(Lo(Es()),A);typeof lu.unload=="function"&&Mt.setTimeout&&setTimeout(lu.unload,911),Q(be)}catch(Ue){fe(Ue.message)}})},ft.API)ft.API.hasOwnProperty(Ys)&&(Ys==="events"&&ft.API.events.length?(function(A,P){var Q,fe,be;for(be=P.length-1;be!==-1;be--)Q=P[be][0],fe=P[be][1],A.subscribe.apply(A,[Q].concat(typeof fe=="function"?[fe]:fe))})(on,ft.API.events):b[Ys]=ft.API[Ys]);function Ks(A){return ut[A].mediaBox.topRightX-ut[A].mediaBox.bottomLeftX}function aa(A,P){ut[A].mediaBox.topRightX=P+ut[A].mediaBox.bottomLeftX}function Hl(A){return ut[A].mediaBox.topRightY-ut[A].mediaBox.bottomLeftY}function Xs(A,P){ut[A].mediaBox.topRightY=P+ut[A].mediaBox.bottomLeftY}var Zs=b.getPageWidth=function(A){return Ks(A=A||G)/Dt},Ru=b.setPageWidth=function(A,P){aa(A,P*Dt)},Qs=b.getPageHeight=function(A){return Hl(A=A||G)/Dt},ku=b.setPageHeight=function(A,P){Xs(A,P*Dt)};return b.internal={pdfEscape:xr,getStyle:Dl,getFont:as,getFontSize:Ze,getCharSpace:Ha,getTextColor:Cu,getLineHeight:Tu,getLineHeightFactor:Nu,getLineWidth:Mo,write:$e,getHorizontalCoordinate:Er,getVerticalCoordinate:Pi,getCoordinateString:ql,getVerticalCoordinateString:ra,collections:{},newObject:Hn,newAdditionalObject:ko,newObjectDeferred:ui,newObjectDeferredBegin:Ni,getFilters:Sr,putStream:Pr,events:on,scaleFactor:Dt,pageSize:{getWidth:function(){return Zs(G)},setWidth:function(A){Ru(G,A)},getHeight:function(){return Qs(G)},setHeight:function(A){ku(G,A)}},encryptionOptions:p,encryption:wi,getEncryptor:function(A){return p!==null?wi.encryptor(A,0):function(P){return P}},output:Ml,getNumberOfPages:Il,get pages(){return Ge},out:K,f2:q,f3:W,getPageInfo:ci,getPageInfoByObjId:qa,getCurrentPageInfo:Su,getPDFVersion:T,Point:Ur,Rectangle:Ws,Matrix:ht,hasHotfix:tr},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Zs(G)},set:function(A){Ru(G,A)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Qs(G)},set:function(A){ku(G,A)},enumerable:!0,configurable:!0}),(function(A){for(var P=0,Q=bt.length;P<Q;P++){var fe=Cl.call(this,A[P][0],A[P][1],A[P][2],bt[P][3],!0);w===!1&&(S[fe]=!0);var be=A[P][0].split("-");ni({id:fe,fontName:be[0],fontStyle:be[1]||""})}on.publish("addFonts",{fonts:_t,dictionary:kt})}).call(b,bt),st="F1",Vs(s,n),on.publish("initialized"),b}wc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},wc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},wc.prototype.processOwnerPassword=function(t,e){return sg(rg(e).substr(0,5),t)},wc.prototype.encryptor=function(t,e){var n=rg(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return sg(n,i)}},yh.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Rn(t)!==Rn(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return i===0},ft.API={events:[]},ft.version="3.0.4";var yi=ft.API,zg=1,bu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},zt=function(t){return t.toFixed(2)},Sl=function(t){return t.toFixed(5)};yi.__acroform__={};var Zr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Iy=function(t){return t*zg},Xo=function(t){var e=new Kb,n=it.internal.getHeight(t)||0,i=it.internal.getWidth(t)||0;return e.BBox=[0,0,Number(zt(i)),Number(zt(n))],e},zT=yi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},GT=yi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},jT=yi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ai=yi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jT(t,e-1)},Ei=yi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zT(t,e-1)},Ti=yi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return GT(t,e-1)},VT=yi.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,s=t[0],a=t[1],l=t[2],c=t[3],d={};return d.lowerLeft_X=n(s)||0,d.lowerLeft_Y=i(a+c)||0,d.upperRight_X=n(s+l)||0,d.upperRight_Y=i(a)||0,[Number(zt(d.lowerLeft_X)),Number(zt(d.lowerLeft_Y)),Number(zt(d.upperRight_X)),Number(zt(d.upperRight_Y))]},$T=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,i=og(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+zt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Xo(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},og=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(q){return q.split(`
`)}):s.map(function(q){return[q]});var a=n,l=it.internal.getHeight(t)||0;l=l<0?-l:l;var c=it.internal.getWidth(t)||0;c=c<0?-c:c;var d=function(q,W,ie){if(q+1<s.length){var te=W+" "+s[q+1][0];return Vd(te,t,ie).width<=c-4}return!1};a++;e:for(;a>0;){e="",a--;var f,p,w=Vd("3",t,a).height,S=t.multiline?l-a:(l-w)/2,b=S+=2,N=0,T=0,k=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Vd(e,t,a=12).width+", FieldWidth:"+c+`
`;break}for(var I="",F=0,U=0;U<s.length;U++)if(s.hasOwnProperty(U)){var H=!1;if(s[U].length!==1&&k!==s[U].length-1){if((w+2)*(F+2)+2>l)continue e;I+=s[U][k],H=!0,T=U,U--}else{I=(I+=s[U][k]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var ae=parseInt(U),de=d(ae,I,a),re=U>=s.length-1;if(de&&!re){I+=" ",k=0;continue}if(de||re){if(re)T=ae;else if(t.multiline&&(w+2)*(F+2)+2>l)continue e}else{if(!t.multiline||(w+2)*(F+2)+2>l)continue e;T=ae}}for(var se="",V=N;V<=T;V++){var ge=s[V];if(t.multiline){if(V===T){se+=ge[k]+" ",k=(k+1)%ge.length;continue}if(V===N){se+=ge[ge.length-1]+" ";continue}}se+=ge[0]+" "}switch(se=se.substr(se.length-1)==" "?se.substr(0,se.length-1):se,p=Vd(se,t,a).width,t.textAlign){case"right":f=c-p-2;break;case"center":f=(c-p)/2;break;default:f=2}e+=zt(f)+" "+zt(b)+` Td
`,e+="("+bu(se)+`) Tj
`,e+=-zt(f)+` 0 Td
`,b=-(a+2),p=0,N=H?T:T+1,F++,I=""}break}return i.text=e,i.fontSize=a,i},Vd=function(t,e,n){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},JT={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},WT=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},YT=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(No.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(JT)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");zg=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Xb,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];a.objId=void 0,a.hasAnnotation&&WT(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(i,s){var a=!i;for(var l in i||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(l)){var c=i[l],d=[],f=c.Rect;if(c.Rect&&(c.Rect=VT(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=it.createDefaultAppearanceStream(c),Rn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=$T(c);d.push({key:"AP",value:"<</N "+p+">>"}),s.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var w="";for(var S in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(S)){var b=c.appearanceStreamContent[S];if(w+="/"+S+" ",w+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var l in b)if(b.hasOwnProperty(l)){var N=b[l];typeof N=="function"&&(N=N.call(s,c)),w+="/"+l+" "+N+" ",s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N)}}else typeof(N=b)=="function"&&(N=N.call(s,c)),w+="/"+l+" "+N,s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N);w+=">>"}d.push({key:"AP",value:`<<
`+w+">>"})}s.internal.putStream({additionalKeyValues:d,objectId:c.objId}),s.internal.out("endobj")}a&&(function(T,k){for(var I in T)if(T.hasOwnProperty(I)){var F=I,U=T[I];k.internal.newObjectDeferredBegin(U.objId,!0),Rn(U)==="object"&&typeof U.putStream=="function"&&U.putStream(),delete T[F]}})(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Yb=yi.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(l){return l};if(Array.isArray(t)){for(var s="[",a=0;a<t.length;a++)switch(a!==0&&(s+=" "),Rn(t[a])){case"boolean":case"number":case"object":s+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(i=n.internal.getEncryptor(e)),s+="("+bu(i(t[a].toString()))+")"):s+=t[a].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},T0=function(t,e,n){var i=function(s){return s};return e!==void 0&&n&&(i=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+bu(i(t))+")"},Zo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Zo.prototype.toString=function(){return this.objId+" 0 R"},Zo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Zo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var i=e[n],s=this[i];s&&(Array.isArray(s)?t.push({key:i,value:Yb(s,this.objId,this.scope)}):s instanceof Zo?(s.scope=this.scope,t.push({key:i,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:i,value:s}))}return t};var Kb=function(){Zo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Zr(Kb,Zo);var Xb=function(){Zo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+bu(n(t))+")"}},set:function(n){t=n}})};Zr(Xb,Zo);var No=function t(){Zo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');e=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ai(e,3)},set:function(I){I?this.F=Ei(e,3):this.F=Ti(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');n=I}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(I){i=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(I){i[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(I){i[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(I){i[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(I){i[3]=I}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof bh)return;a="FieldObject"+t.FieldNum++}var I=function(F){return F};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+bu(I(a))+")"},set:function(I){a=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(I){a=I}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(I){l=I}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(I){c=I}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(I){d=I}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/zg:f},set:function(I){f=I}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(I){p=I}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof bh||this instanceof gu))return T0(w,this.objId,this.scope)},set:function(I){I=I.toString(),w=I}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof Zi==0?T0(S,this.objId,this.scope):S},set:function(I){I=I.toString(),S=this instanceof Zi==0?I.substr(0,1)==="("?dc(I.substr(1,I.length-2)):dc(I):I}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zi==1?dc(S.substr(1,S.length-1)):S},set:function(I){I=I.toString(),S=this instanceof Zi==1?"/"+I:I}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Zi==0?T0(b,this.objId,this.scope):b},set:function(I){I=I.toString(),b=this instanceof Zi==0?I.substr(0,1)==="("?dc(I.substr(1,I.length-2)):dc(I):I}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zi==1?dc(b.substr(1,b.length-1)):b},set:function(I){I=I.toString(),b=this instanceof Zi==1?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(I){I=!!I,T=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(I){N=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,1)},set:function(I){I?this.Ff=Ei(this.Ff,1):this.Ff=Ti(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,2)},set:function(I){I?this.Ff=Ei(this.Ff,2):this.Ff=Ti(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,3)},set:function(I){I?this.Ff=Ei(this.Ff,3):this.Ff=Ti(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');k=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(k){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};Zr(No,Zo);var kc=function(){No.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Yb(e,this.objId,this.scope)},set:function(n){var i,s;s=[],typeof(i=n)=="string"&&(s=(function(a,l,c){c||(c=1);for(var d,f=[];d=l.exec(a);)f.push(d[c]);return f})(i,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,18)},set:function(n){n?this.Ff=Ei(this.Ff,18):this.Ff=Ti(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ei(this.Ff,19):this.Ff=Ti(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,20)},set:function(n){n?(this.Ff=Ei(this.Ff,20),e.sort()):this.Ff=Ti(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,22)},set:function(n){n?this.Ff=Ei(this.Ff,22):this.Ff=Ti(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,23)},set:function(n){n?this.Ff=Ei(this.Ff,23):this.Ff=Ti(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,27)},set:function(n){n?this.Ff=Ei(this.Ff,27):this.Ff=Ti(this.Ff,27)}}),this.hasAppearanceStream=!1};Zr(kc,No);var Ic=function(){kc.call(this),this.fontName="helvetica",this.combo=!1};Zr(Ic,kc);var Lc=function(){Ic.call(this),this.combo=!0};Zr(Lc,Ic);var ch=function(){Lc.call(this),this.edit=!0};Zr(ch,Lc);var Zi=function(){No.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,15)},set:function(n){n?this.Ff=Ei(this.Ff,15):this.Ff=Ti(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,16)},set:function(n){n?this.Ff=Ei(this.Ff,16):this.Ff=Ti(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,17)},set:function(n){n?this.Ff=Ei(this.Ff,17):this.Ff=Ti(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,26)},set:function(n){n?this.Ff=Ei(this.Ff,26):this.Ff=Ti(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,s=[];for(i in s.push("<<"),e)s.push("/"+i+" ("+bu(n(e[i]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){Rn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Zr(Zi,No);var fh=function(){Zi.call(this),this.pushButton=!0};Zr(fh,Zi);var Mc=function(){Zi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Zr(Mc,Zi);var bh=function(){var t,e;No.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),i)l.push("/"+a+" ("+bu(s(i[a]))+")");return l.push(">>"),l.join(`
`)},set:function(s){Rn(s)==="object"&&(i=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(s){typeof s=="string"&&(i.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=it.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Zr(bh,No),Mc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Mc.prototype.createOption=function(t){var e=new bh;return e.Parent=this,e.optionName=t,this.Kids.push(e),KT.call(this.scope,e),e};var dh=function(){Zi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=it.CheckBox.createAppearanceStream()};Zr(dh,Zi);var gu=function(){No.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,13)},set:function(e){e?this.Ff=Ei(this.Ff,13):this.Ff=Ti(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,21)},set:function(e){e?this.Ff=Ei(this.Ff,21):this.Ff=Ti(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,23)},set:function(e){e?this.Ff=Ei(this.Ff,23):this.Ff=Ti(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,24)},set:function(e){e?this.Ff=Ei(this.Ff,24):this.Ff=Ti(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,25)},set:function(e){e?this.Ff=Ei(this.Ff,25):this.Ff=Ti(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,26)},set:function(e){e?this.Ff=Ei(this.Ff,26):this.Ff=Ti(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Zr(gu,No);var hh=function(){gu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,14)},set:function(t){t?this.Ff=Ei(this.Ff,14):this.Ff=Ti(this.Ff,14)}}),this.password=!0};Zr(hh,gu);var it={CheckBox:{createAppearanceStream:function(){return{N:{On:it.CheckBox.YesNormal},D:{On:it.CheckBox.YesPushDown,Off:it.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Xo(t);e.scope=t.scope;var n=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),a=og(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+zt(it.internal.getWidth(t))+" "+zt(it.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+zt(a.fontSize)+" Tf "+s),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Xo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=[],a=it.internal.getHeight(t),l=it.internal.getWidth(t),c=og(t,t.caption);return s.push("1 g"),s.push("0 0 "+zt(l)+" "+zt(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+zt(l-1)+" "+zt(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+zt(c.fontSize)+" Tf "+i),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Xo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+zt(it.internal.getWidth(t))+" "+zt(it.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Circle.YesNormal,e.D[t]=it.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Xo(t);e.scope=t.scope;var n=[],i=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var s=it.internal.Bezier_C,a=Number((i*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Sl(it.internal.getWidth(t)/2)+" "+Sl(it.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Xo(t);e.scope=t.scope;var n=[],i=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),a=Number((s*it.internal.Bezier_C).toFixed(5)),l=Number((i*it.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Sl(it.internal.getWidth(t)/2)+" "+Sl(it.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Sl(it.internal.getWidth(t)/2)+" "+Sl(it.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),n.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),n.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),n.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Xo(t);e.scope=t.scope;var n=[],i=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),a=Number((s*it.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Sl(it.internal.getWidth(t)/2)+" "+Sl(it.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Cross.YesNormal,e.D[t]=it.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Xo(t);e.scope=t.scope;var n=[],i=it.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+zt(it.internal.getWidth(t)-2)+" "+zt(it.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(zt(i.x1.x)+" "+zt(i.x1.y)+" m"),n.push(zt(i.x2.x)+" "+zt(i.x2.y)+" l"),n.push(zt(i.x4.x)+" "+zt(i.x4.y)+" m"),n.push(zt(i.x3.x)+" "+zt(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Xo(t);e.scope=t.scope;var n=it.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+zt(it.internal.getWidth(t))+" "+zt(it.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+zt(it.internal.getWidth(t)-2)+" "+zt(it.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(zt(n.x1.x)+" "+zt(n.x1.y)+" m"),i.push(zt(n.x2.x)+" "+zt(n.x2.y)+" l"),i.push(zt(n.x4.x)+" "+zt(n.x4.y)+" m"),i.push(zt(n.x3.x)+" "+zt(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Xo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+zt(it.internal.getWidth(t))+" "+zt(it.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};it.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=it.internal.getWidth(t),n=it.internal.getHeight(t),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},it.internal.getWidth=function(t){var e=0;return Rn(t)==="object"&&(e=Iy(t.Rect[2])),e},it.internal.getHeight=function(t){var e=0;return Rn(t)==="object"&&(e=Iy(t.Rect[3])),e};var KT=yi.addField=function(t){if(YT(this,t),!(t instanceof No))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};yi.AcroFormChoiceField=kc,yi.AcroFormListBox=Ic,yi.AcroFormComboBox=Lc,yi.AcroFormEditBox=ch,yi.AcroFormButton=Zi,yi.AcroFormPushButton=fh,yi.AcroFormRadioButton=Mc,yi.AcroFormCheckBox=dh,yi.AcroFormTextField=gu,yi.AcroFormPasswordField=hh,yi.AcroFormAppearance=it,yi.AcroForm={ChoiceField:kc,ListBox:Ic,ComboBox:Lc,EditBox:ch,Button:Zi,PushButton:fh,RadioButton:Mc,CheckBox:dh,TextField:gu,PasswordField:hh,Appearance:it},ft.AcroForm={ChoiceField:kc,ListBox:Ic,ComboBox:Lc,EditBox:ch,Button:Zi,PushButton:fh,RadioButton:Mc,CheckBox:dh,TextField:gu,PasswordField:hh,Appearance:it};ft.AcroForm;function Zb(t){return t.reduce(function(e,n,i){return e[n]=i,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(q,W){var ie,te,Se,ee,ce,he=n;if((W=W||n)==="RGBA"||q.data!==void 0&&q.data instanceof Uint8ClampedArray&&"height"in q&&"width"in q)return"RGBA";if(de(q))for(ce in i)for(Se=i[ce],ie=0;ie<Se.length;ie+=1){for(ee=!0,te=0;te<Se[ie].length;te+=1)if(Se[ie][te]!==void 0&&Se[ie][te]!==q[te]){ee=!1;break}if(ee===!0){he=ce;break}}else for(ce in i)for(Se=i[ce],ie=0;ie<Se.length;ie+=1){for(ee=!0,te=0;te<Se[ie].length;te+=1)if(Se[ie][te]!==void 0&&Se[ie][te]!==q.charCodeAt(te)){ee=!1;break}if(ee===!0){he=ce;break}}return he===n&&W!==n&&(he=W),he},a=function q(W){for(var ie=this.internal.write,te=this.internal.putStream,Se=(0,this.internal.getFilters)();Se.indexOf("FlateEncode")!==-1;)Se.splice(Se.indexOf("FlateEncode"),1);W.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:W.width}),ee.push({key:"Height",value:W.height}),W.colorSpace===I.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(W.palette.length/3-1)+" "+("sMask"in W&&W.sMask!==void 0?W.objectId+2:W.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+W.colorSpace}),W.colorSpace===I.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:W.bitsPerComponent}),"decodeParameters"in W&&W.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+W.decodeParameters+">>"}),"transparency"in W&&Array.isArray(W.transparency)&&W.transparency.length>0){for(var ce="",he=0,le=W.transparency.length;he<le;he++)ce+=W.transparency[he]+" "+W.transparency[he]+" ";ee.push({key:"Mask",value:"["+ce+"]"})}W.sMask!==void 0&&ee.push({key:"SMask",value:W.objectId+1+" 0 R"});var ke=W.filter!==void 0?["/"+W.filter]:void 0;if(te({data:W.data,additionalKeyValues:ee,alreadyAppliedFilters:ke,objectId:W.objectId}),ie("endobj"),"sMask"in W&&W.sMask!==void 0){var $,M=($=W.sMaskBitsPerComponent)!==null&&$!==void 0?$:W.bitsPerComponent,G={width:W.width,height:W.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:W.sMask};"filter"in W&&(G.decodeParameters="/Predictor ".concat(W.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(W.width),G.filter=W.filter),q.call(this,G)}if(W.colorSpace===I.INDEXED){var Y=this.internal.newObject();te({data:se(new Uint8Array(W.palette)),objectId:Y}),ie("endobj")}},l=function(){var q=this.internal.collections[e+"images"];for(var W in q)a.call(this,q[W])},c=function(){var q,W=this.internal.collections[e+"images"],ie=this.internal.write;for(var te in W)ie("/I"+(q=W[te]).index,q.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},f=function(){var q=this.internal.collections[e+"images"];return d.call(this),q},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(q){return typeof t["process"+q.toUpperCase()]=="function"},S=function(q){return Rn(q)==="object"&&q.nodeType===1},b=function(q,W){if(q.nodeName==="IMG"&&q.hasAttribute("src")){var ie=""+q.getAttribute("src");if(ie.indexOf("data:image/")===0)return uh(unescape(ie).split("base64,").pop());var te=t.loadFile(ie,!0);if(te!==void 0)return te}if(q.nodeName==="CANVAS"){if(q.width===0||q.height===0)throw new Error("Given canvas must have data. Canvas width: "+q.width+", height: "+q.height);var Se;switch(W){case"PNG":Se="image/png";break;case"WEBP":Se="image/webp";break;default:Se="image/jpeg"}return uh(q.toDataURL(Se,1).split("base64,").pop())}},N=function(q){var W=this.internal.collections[e+"images"];if(W){for(var ie in W)if(q===W[ie].alias)return W[ie]}},T=function(q,W,ie){return q||W||(q=-96,W=-96),q<0&&(q=-1*ie.width*72/q/this.internal.scaleFactor),W<0&&(W=-1*ie.height*72/W/this.internal.scaleFactor),q===0&&(q=W*ie.width/ie.height),W===0&&(W=q*ie.height/ie.width),[q,W]},k=function(q,W,ie,te,Se,ee){var ce=T.call(this,ie,te,Se),he=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,ke=f.call(this);if(ie=ce[0],te=ce[1],ke[Se.index]=Se,ee){ee*=Math.PI/180;var $=Math.cos(ee),M=Math.sin(ee),G=function(ne){return ne.toFixed(4)},Y=[G($),G(M),G(-1*M),G($),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,he(q),le(W+te),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([he(ie),"0","0",he(te),"0","0","cm"].join(" "))):this.internal.write([he(ie),"0","0",he(te),he(q),le(W+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Se.index+" Do"),this.internal.write("Q")},I=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var F=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},U=t.__addimage__.sHashCode=function(q){var W,ie,te=0;if(typeof q=="string")for(ie=q.length,W=0;W<ie;W++)te=(te<<5)-te+q.charCodeAt(W),te|=0;else if(de(q))for(ie=q.byteLength/2,W=0;W<ie;W++)te=(te<<5)-te+q[W],te|=0;return te},H=t.__addimage__.validateStringAsBase64=function(q){(q=q||"").toString().trim();var W=!0;return q.length===0&&(W=!1),q.length%4!=0&&(W=!1),/^[A-Za-z0-9+/]+$/.test(q.substr(0,q.length-2))===!1&&(W=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(q.substr(-2))===!1&&(W=!1),W},ae=t.__addimage__.extractImageFromDataUrl=function(q){if(q==null||!(q=q.trim()).startsWith("data:"))return null;var W=q.indexOf(",");return W<0?null:q.substring(0,W).trim().endsWith("base64")?q.substring(W+1):null};t.__addimage__.isArrayBuffer=function(q){return q instanceof ArrayBuffer};var de=t.__addimage__.isArrayBufferView=function(q){return q instanceof Int8Array||q instanceof Uint8Array||q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array},re=t.__addimage__.binaryStringToUint8Array=function(q){for(var W=q.length,ie=new Uint8Array(W),te=0;te<W;te++)ie[te]=q.charCodeAt(te);return ie},se=t.__addimage__.arrayBufferToBinaryString=function(q){for(var W="",ie=de(q)?q:new Uint8Array(q),te=0;te<ie.length;te+=8192)W+=String.fromCharCode.apply(null,ie.subarray(te,te+8192));return W};t.addImage=function(){var q,W,ie,te,Se,ee,ce,he,le;if(typeof arguments[1]=="number"?(W=n,ie=arguments[1],te=arguments[2],Se=arguments[3],ee=arguments[4],ce=arguments[5],he=arguments[6],le=arguments[7]):(W=arguments[1],ie=arguments[2],te=arguments[3],Se=arguments[4],ee=arguments[5],ce=arguments[6],he=arguments[7],le=arguments[8]),Rn(q=arguments[0])==="object"&&!S(q)&&"imageData"in q){var ke=q;q=ke.imageData,W=ke.format||W||n,ie=ke.x||ie||0,te=ke.y||te||0,Se=ke.w||ke.width||Se,ee=ke.h||ke.height||ee,ce=ke.alias||ce,he=ke.compression||he,le=ke.rotation||ke.angle||le}var $=this.internal.getFilters();if(he===void 0&&$.indexOf("FlateEncode")!==-1&&(he="SLOW"),isNaN(ie)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var M=V.call(this,q,W,ce,he);return k.call(this,ie,te,Se,ee,M,le),this};var V=function(q,W,ie,te){var Se,ee,ce;if(typeof q=="string"&&s(q)===n){q=unescape(q);var he=ge(q,!1);(he!==""||(he=t.loadFile(q,!0))!==void 0)&&(q=he)}if(S(q)&&(q=b(q,W)),W=s(q,W),!w(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(((ce=ie)==null||ce.length===0)&&(ie=(function(le){return typeof le=="string"||de(le)?U(le):de(le.data)?U(le.data):null})(q)),(Se=N.call(this,ie))||(q instanceof Uint8Array||W==="RGBA"||(ee=q,q=re(q)),Se=this["process"+W.toUpperCase()](q,p.call(this),ie,(function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:F.NONE})(te),ee)),!Se)throw new Error("An unknown error occurred whilst processing the image.");return Se},ge=t.__addimage__.convertBase64ToBinaryString=function(q,W){W=typeof W!="boolean"||W;var ie,te="";if(typeof q=="string"){var Se;ie=(Se=ae(q))!==null&&Se!==void 0?Se:q;try{te=uh(ie)}catch(ee){if(W)throw H(ie)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};t.getImageProperties=function(q){var W,ie,te="";if(S(q)&&(q=b(q)),typeof q=="string"&&s(q)===n&&((te=ge(q,!1))===""&&(te=t.loadFile(q)||""),q=te),ie=s(q),!w(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if(q instanceof Uint8Array||(q=re(q)),!(W=this["process"+ie.toUpperCase()](q)))throw new Error("An unknown error occurred whilst processing the image");return W.fileType=ie,W}})(ft.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ft.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var i,s,a,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,p=!1,w=0;w<f.length&&!p;w++)switch((i=f[w]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var S=0;S<f.length;S++){i=f[S];var b=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(T.objId),F=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+l(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+b(I(i.contents))+")",a+=" /Popup "+k.objId+" 0 R",a+=" /P "+d.objId+" 0 R",a+=" /T ("+b(I(F))+") >>",T.content=a;var U=T.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+l(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+U,i.open&&(a+=" /Open true"),a+=" >>",k.content=a,this.internal.write(T.objId,"0 R",k.objId,"0 R");break;case"freetext":s="/Rect ["+l(i.bounds.x)+" "+c(i.bounds.y)+" "+l(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var H=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+b(N(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var ae=this.annotations._nameMap[i.options.name];i.options.pageNumber=ae.page,i.options.top=ae.y}else i.options.top||(i.options.top=0);if(s="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+b(N(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;default:var de=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+de+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},t.link=function(n,i,s,a,l){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(n),y:f(i),w:d(n+s),h:f(i+a)},options:l,type:"link"})},t.textWithLink=function(n,i,s,a){var l,c,d=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var p=this.splitTextToSize(n,c).length;l=Math.ceil(f*p)}else c=d,l=f;return this.text(n,i,s,a),s+=.2*f,a.align==="center"&&(i-=d/2),a.align==="right"&&(i-=d),this.link(i,s-f,c,l,a),d},t.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}})(ft.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(T){return e[T.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},c=t.__arabicParser__.isArabicEndLetter=function(T){return l(T)&&a(T)&&e[T.charCodeAt(0)].length<=2},d=t.__arabicParser__.isArabicAlfLetter=function(T){return l(T)&&s.indexOf(T.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return l(T)&&a(T)&&e[T.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(T){return l(T)&&a(T)&&e[T.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(T){return l(T)&&a(T)&&e[T.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(T){return l(T)&&a(T)&&e[T.charCodeAt(0)].length==4},w=t.__arabicParser__.resolveLigatures=function(T){var k=0,I=n,F="",U=0;for(k=0;k<T.length;k+=1)I[T.charCodeAt(k)]!==void 0?(U++,typeof(I=I[T.charCodeAt(k)])=="number"&&(F+=String.fromCharCode(I),I=n,U=0),k===T.length-1&&(I=n,F+=T.charAt(k-(U-1)),k-=U-1,U=0)):(I=n,F+=T.charAt(k-U),k-=U,U=0);return F};t.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&i[T.charCodeAt(0)]!==void 0};var S=t.__arabicParser__.getCorrectForm=function(T,k,I){return l(T)?a(T)===!1?-1:!f(T)||!l(k)&&!l(I)||!l(I)&&c(k)||c(T)&&!l(k)||c(T)&&d(k)||c(T)&&c(k)?0:p(T)&&l(k)&&!c(k)&&l(I)&&f(I)?3:c(T)||!l(I)?1:2:-1},b=function(T){var k=0,I=0,F=0,U="",H="",ae="",de=(T=T||"").split("\\s+"),re=[];for(k=0;k<de.length;k+=1){for(re.push(""),I=0;I<de[k].length;I+=1)U=de[k][I],H=de[k][I-1],ae=de[k][I+1],l(U)?(F=S(U,H,ae),re[k]+=F!==-1?String.fromCharCode(e[U.charCodeAt(0)][F]):U):re[k]+=U;re[k]=w(re[k])}return re.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var T,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(k)){var F=0;for(I=[],F=0;F<k.length;F+=1)Array.isArray(k[F])?I.push([b(k[F][0]),k[F][1],k[F][2]]):I.push([b(k[F])]);T=I}else T=b(k);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};t.events.push(["preProcessText",N])})(ft.API),ft.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,i){var s;if((n=n||"2d")!=="2d")return null;for(s in i)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=i[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(ft.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(T){d=T}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(T){f=T}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(T){p=T}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(T){w=T}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(T){S=T}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(T){b=T}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(T){N=T}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(d){return i.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},t.getTextDimensions=function(d,f){i.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),w=f.font||this.getFont(),S=f.scaleFactor||this.internal.scaleFactor,b=0,N=0,T=0,k=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var I=f.maxWidth;I>0?typeof d=="string"?d=this.splitTextToSize(d,I):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(U,H){return U.concat(k.splitTextToSize(H,I))},[])):d=Array.isArray(d)?d:[d];for(var F=0;F<d.length;F++)b<(T=this.getStringUnitWidth(d[F],{font:w})*p)&&(b=T);return b!==0&&(N=d.length),{w:b/=S,h:Math.max((N*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/S,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var d;d=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,S=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===d.lineNumber?(d.x=(f.x||0)+(f.width||0),d.y=f.y||0):f.y+f.height+d.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=w.top,b&&S&&(this.printHeaderRow(d.lineNumber,!0),d.y+=S[0].height)):d.y=f.y+f.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,n===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-p,d.y+p,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+p,{align:"center",baseline:"top",maxWidth:d.width-p-p}):this.text(d.text,d.x+p,d.y+p,{align:"left",baseline:"top",maxWidth:d.width-p-p})),this.internal.__cell__.lastCell=d,this};t.table=function(d,f,p,w,S){if(i.call(this),!p)throw new Error("No data for PDF table.");var b,N,T,k,I=[],F=[],U=[],H={},ae={},de=[],re=[],se=(S=S||{}).autoSize||!1,V=S.printHeaders!==!1,ge=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,q=S.margins||Object.assign({width:this.getPageWidth()},e),W=typeof S.padding=="number"?S.padding:3,ie=S.headerBackgroundColor||"#c8c8c8",te=S.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=q,this.internal.__cell__.table_font_size=ge,this.internal.__cell__.padding=W,this.internal.__cell__.headerBackgroundColor=ie,this.internal.__cell__.headerTextColor=te,this.setFontSize(ge),w==null)F=I=Object.keys(p[0]),U=I.map(function(){return"left"});else if(Array.isArray(w)&&Rn(w[0])==="object")for(I=w.map(function(ke){return ke.name}),F=w.map(function(ke){return ke.prompt||ke.name||""}),U=w.map(function(ke){return ke.align||"left"}),b=0;b<w.length;b+=1)ae[w[b].name]=.7499990551181103*w[b].width;else Array.isArray(w)&&typeof w[0]=="string"&&(F=I=w,U=I.map(function(){return"left"}));if(se||Array.isArray(w)&&typeof w[0]=="string")for(b=0;b<I.length;b+=1){for(H[k=I[b]]=p.map(function(ke){return ke[k]}),this.setFont(void 0,"bold"),de.push(this.getTextDimensions(F[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=H[k],this.setFont(void 0,"normal"),T=0;T<N.length;T+=1)de.push(this.getTextDimensions(N[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ae[k]=Math.max.apply(null,de)+W+W,de=[]}if(V){var Se={};for(b=0;b<I.length;b+=1)Se[I[b]]={},Se[I[b]].text=F[b],Se[I[b]].align=U[b];var ee=c.call(this,Se,ae);re=I.map(function(ke){return new a(d,f,ae[ke],ee,Se[ke].text,void 0,Se[ke].align)}),this.setTableHeaderRow(re),this.printHeaderRow(1,!1)}var ce=w.reduce(function(ke,$){return ke[$.name]=$.align,ke},{});for(b=0;b<p.length;b+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:b,data:p[b]},this);var he=c.call(this,p[b],ae);for(T=0;T<I.length;T+=1){var le=p[b][I[T]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:b,col:T,data:le},this),l.call(this,new a(d,f,ae[I[T]],he,le,b+2,ce[I[T]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=f,this};var c=function(d,f){var p=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(d).map(function(b){var N=d[b];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,f[b]-p-p)},this).map(function(b){return this.getLineHeightFactor()*b.length*w/S+p+p},this).reduce(function(b,N){return Math.max(b,N)},0)};t.setTableHeaderRow=function(d){i.call(this),this.internal.__cell__.tableHeaderRow=d},t.printHeaderRow=function(d,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){p=this.internal.__cell__.tableHeaderRow[b].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,S.push(p)),p.lineNumber=d;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(N)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),n=!1}})(ft.API);var Qb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ew=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ag=Zb(ew),tw=[100,200,300,400,500,600,700,800,900],XT=Zb(tw);function N0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return Qb[a=a||"normal"]?a:"normal"})(t.style),i=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),s=(function(a){return typeof ag[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:n,weight:i,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,i].join(" ")}}}function Ly(t,e,n,i){var s;for(s=n;s>=0&&s<e.length;s+=i)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=i)if(t[e[s]])return t[e[s]]}var ZT={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},My={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Py(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Dy(t){return t.trimLeft()}function QT(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function e4(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var $d,Uy,Oy,hc,Jd,By,Fy,qy,C0=["times"];function Hy(t,e,n,i,s){var a=4,l=Gy;switch(s){case ft.API.image_compression.FAST:a=1,l=zy;break;case ft.API.image_compression.MEDIUM:a=6,l=jy;break;case ft.API.image_compression.SLOW:a=9,l=Vy}t=(function(d,f,p,w){for(var S,b=d.length/f,N=new Uint8Array(d.length+b),T=[t4,zy,Gy,jy,Vy],k=0;k<b;k+=1){var I=k*f,F=d.subarray(I,I+f);if(w)N.set(w(F,p,S),I+k);else{for(var U=T.length,H=[],ae=0;ae<U;ae+=1)H[ae]=T[ae](F,p,S);var de=i4(H.concat());N.set(H[de],I+k)}S=F}return N})(t,e,Math.ceil(n*i/8),l);var c=eg(t,{level:a});return ft.API.__addimage__.arrayBufferToBinaryString(c)}function t4(t){var e=Array.apply([],t);return e.unshift(0),e}function zy(t,e){var n=t.length,i=[];i[0]=1;for(var s=0;s<n;s+=1){var a=t[s-e]||0;i[s+1]=t[s]-a+256&255}return i}function Gy(t,e,n){var i=t.length,s=[];s[0]=2;for(var a=0;a<i;a+=1){var l=n&&n[a]||0;s[a+1]=t[a]-l+256&255}return s}function jy(t,e,n){var i=t.length,s=[];s[0]=3;for(var a=0;a<i;a+=1){var l=t[a-e]||0,c=n&&n[a]||0;s[a+1]=t[a]+256-(l+c>>>1)&255}return s}function Vy(t,e,n){var i=t.length,s=[];s[0]=4;for(var a=0;a<i;a+=1){var l=n4(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);s[a+1]=t[a]-l+256&255}return s}function n4(t,e,n){if(t===e&&e===n)return t;var i=Math.abs(e-n),s=Math.abs(t-n),a=Math.abs(t+e-n-n);return i<=s&&i<=a?t:s<=a?e:n}function i4(t){var e=t.map(function(n){return n.reduce(function(i,s){return i+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function R0(t,e,n){var i=e*n,s=Math.floor(i/8),a=16-(i-8*s+n),l=(1<<n)-1;return nw(t,s)>>a&l}function $y(t,e,n,i){var s=n*i,a=Math.floor(s/8),l=16-(s-8*a+i),c=(1<<i)-1,d=(e&c)<<l;(function(f,p,w){if(p+1<f.byteLength)f.setUint16(p,w,!1);else{var S=w>>8&255;f.setUint8(p,S)}})(t,a,nw(t,a)&~(c<<l)&65535|d)}function nw(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function r4(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,s=t[e++],a=s>>7,l=1<<1+(7&s);t[e++],t[e++];var c=null,d=null;a&&(c=e,d=l,e+=3*l);var f=!0,p=[],w=0,S=null,b=0,N=null;for(this.width=n,this.height=i;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var T=t[e++];w=t[e++]|t[e++]<<8,S=t[e++],1&T||(S=null),b=T>>2&7,e++;break;case 254:for(;;){if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,F=t[e++]|t[e++]<<8,U=t[e++]|t[e++]<<8,H=t[e++],ae=H>>6&1,de=1<<1+(7&H),re=c,se=d,V=!1;H>>7&&(V=!0,re=e,se=de,e+=3*de);var ge=e;for(e++;;){var q;if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}p.push({x:k,y:I,width:F,height:U,has_local_palette:V,palette_offset:re,palette_size:se,data_offset:ge,data_length:e-ge,transparent_index:S,interlaced:!!ae,delay:w,disposal:b});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return N},this.frameInfo=function(W){if(W<0||W>=p.length)throw new Error("Frame index out of range.");return p[W]},this.decodeAndBlitFrameBGRA=function(W,ie){var te=this.frameInfo(W),Se=te.width*te.height,ee=new Uint8Array(Se);Jy(t,te.data_offset,ee,Se);var ce=te.palette_offset,he=te.transparent_index;he===null&&(he=256);var le=te.width,ke=n-le,$=le,M=4*(te.y*n+te.x),G=4*((te.y+te.height)*n+te.x),Y=M,ne=4*ke;te.interlaced===!0&&(ne+=4*n*7);for(var oe=8,ve=0,Te=ee.length;ve<Te;++ve){var Ce=ee[ve];if($===0&&($=le,(Y+=ne)>=G&&(ne=4*ke+4*n*(oe-1),Y=M+(le+ke)*(oe<<1),oe>>=1)),Ce===he)Y+=4;else{var De=t[ce+3*Ce],Ge=t[ce+3*Ce+1],Je=t[ce+3*Ce+2];ie[Y++]=Je,ie[Y++]=Ge,ie[Y++]=De,ie[Y++]=255}--$}},this.decodeAndBlitFrameRGBA=function(W,ie){var te=this.frameInfo(W),Se=te.width*te.height,ee=new Uint8Array(Se);Jy(t,te.data_offset,ee,Se);var ce=te.palette_offset,he=te.transparent_index;he===null&&(he=256);var le=te.width,ke=n-le,$=le,M=4*(te.y*n+te.x),G=4*((te.y+te.height)*n+te.x),Y=M,ne=4*ke;te.interlaced===!0&&(ne+=4*n*7);for(var oe=8,ve=0,Te=ee.length;ve<Te;++ve){var Ce=ee[ve];if($===0&&($=le,(Y+=ne)>=G&&(ne=4*ke+4*n*(oe-1),Y=M+(le+ke)*(oe<<1),oe>>=1)),Ce===he)Y+=4;else{var De=t[ce+3*Ce],Ge=t[ce+3*Ce+1],Je=t[ce+3*Ce+2];ie[Y++]=De,ie[Y++]=Ge,ie[Y++]=Je,ie[Y++]=255}--$}}}function Jy(t,e,n,i){for(var s=t[e++],a=1<<s,l=a+1,c=l+1,d=s+1,f=(1<<d)-1,p=0,w=0,S=0,b=t[e++],N=new Int32Array(4096),T=null;;){for(;p<16&&b!==0;)w|=t[e++]<<p,p+=8,b===1?b=t[e++]:--b;if(p<d)break;var k=w&f;if(w>>=d,p-=d,k!==a){if(k===l)break;for(var I=k<c?k:T,F=0,U=I;U>a;)U=N[U]>>8,++F;var H=U;if(S+F+(I!==k?1:0)>i)return void qn.log("Warning, gif stream longer than expected.");n[S++]=H;var ae=S+=F;for(I!==k&&(n[S++]=H),U=I;F--;)U=N[U],n[--ae]=255&U,U>>=8;T!==null&&c<4096&&(N[c++]=T<<8|H,c>=f+1&&d<12&&(++d,f=f<<1|1)),T=k}else c=l+1,f=(1<<(d=s+1))-1,T=null}return S!==i&&qn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function k0(t){var e,n,i,s,a,l=Math.floor,c=new Array(64),d=new Array(64),f=new Array(64),p=new Array(64),w=new Array(65535),S=new Array(65535),b=new Array(64),N=new Array(64),T=[],k=0,I=7,F=new Array(64),U=new Array(64),H=new Array(64),ae=new Array(256),de=new Array(2048),re=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],se=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],ge=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(M,G){for(var Y=0,ne=0,oe=new Array,ve=1;ve<=16;ve++){for(var Te=1;Te<=M[ve];Te++)oe[G[ne]]=[],oe[G[ne]][0]=Y,oe[G[ne]][1]=ve,ne++,Y++;Y*=2}return oe}function ce(M){for(var G=M[0],Y=M[1]-1;Y>=0;)G&1<<Y&&(k|=1<<I),Y--,--I<0&&(k==255?(he(255),he(0)):he(k),I=7,k=0)}function he(M){T.push(M)}function le(M){he(M>>8&255),he(255&M)}function ke(M,G,Y,ne,oe){for(var ve,Te=oe[0],Ce=oe[240],De=(function(ze,gt){var Ze,wt,dt,Bt,Kt,Pt,Xt,$t,st,Dt,lt=0;for(st=0;st<8;++st){Ze=ze[lt],wt=ze[lt+1],dt=ze[lt+2],Bt=ze[lt+3],Kt=ze[lt+4],Pt=ze[lt+5],Xt=ze[lt+6];var ti=Ze+($t=ze[lt+7]),Yt=Ze-$t,_t=wt+Xt,kt=wt-Xt,Zt=dt+Pt,mt=dt-Pt,kn=Bt+Kt,Et=Bt-Kt,It=ti+kn,xn=ti-kn,Gt=_t+Zt,ut=_t-Zt;ze[lt]=It+Gt,ze[lt+4]=It-Gt;var on=.707106781*(ut+xn);ze[lt+2]=xn+on,ze[lt+6]=xn-on;var Qr=.382683433*((It=Et+mt)-(ut=kt+Yt)),ji=.5411961*It+Qr,Ss=1.306562965*ut+Qr,Mr=.707106781*(Gt=mt+kt),ht=Yt+Mr,js=Yt-Mr;ze[lt+5]=js+ji,ze[lt+3]=js-ji,ze[lt+1]=ht+Ss,ze[lt+7]=ht-Ss,lt+=8}for(lt=0,st=0;st<8;++st){Ze=ze[lt],wt=ze[lt+8],dt=ze[lt+16],Bt=ze[lt+24],Kt=ze[lt+32],Pt=ze[lt+40],Xt=ze[lt+48];var xs=Ze+($t=ze[lt+56]),wr=Ze-$t,_r=wt+Xt,Hn=wt-Xt,ui=dt+Pt,Ni=dt-Pt,ko=Bt+Kt,er=Bt-Kt,An=xs+ko,Gn=xs-ko,Vi=_r+ui,Sr=_r-ui;ze[lt]=An+Vi,ze[lt+32]=An-Vi;var Pr=.707106781*(Sr+Gn);ze[lt+16]=Gn+Pr,ze[lt+48]=Gn-Pr;var ea=.382683433*((An=er+Ni)-(Sr=Hn+wr)),es=.5411961*An+ea,ts=1.306562965*Sr+ea,Io=.707106781*(Vi=Ni+Hn),ns=wr+Io,is=wr-Io;ze[lt+40]=is+es,ze[lt+24]=is-es,ze[lt+8]=ns+ts,ze[lt+56]=ns-ts,lt++}for(st=0;st<64;++st)Dt=ze[st]*gt[st],b[st]=Dt>0?Dt+.5|0:Dt-.5|0;return b})(M,G),Ge=0;Ge<64;++Ge)N[re[Ge]]=De[Ge];var Je=N[0]-Y;Y=N[0],Je==0?ce(ne[0]):(ce(ne[S[ve=32767+Je]]),ce(w[ve]));for(var We=63;We>0&&N[We]==0;)We--;if(We==0)return ce(Te),Y;for(var rt,K=1;K<=We;){for(var $e=K;N[K]==0&&K<=We;)++K;var Vt=K-$e;if(Vt>=16){rt=Vt>>4;for(var bt=1;bt<=rt;++bt)ce(Ce);Vt&=15}ve=32767+N[K],ce(oe[(Vt<<4)+S[ve]]),ce(w[ve]),K++}return We!=63&&ce(Te),Y}function $(M){M=Math.min(Math.max(M,1),100),a!=M&&((function(G){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var oe=l((Y[ne]*G+50)/100);oe=Math.min(Math.max(oe,1),255),c[re[ne]]=oe}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Te=0;Te<64;Te++){var Ce=l((ve[Te]*G+50)/100);Ce=Math.min(Math.max(Ce,1),255),d[re[Te]]=Ce}for(var De=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ge=0,Je=0;Je<8;Je++)for(var We=0;We<8;We++)f[Ge]=1/(c[re[Ge]]*De[Je]*De[We]*8),p[Ge]=1/(d[re[Ge]]*De[Je]*De[We]*8),Ge++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),a=M)}this.encode=function(M,G){G&&$(G),T=new Array,k=0,I=7,le(65496),le(65504),le(16),he(74),he(70),he(73),he(70),he(0),he(1),he(1),he(0),le(1),le(1),he(0),he(0),(function(){le(65499),le(132),he(0);for(var wt=0;wt<64;wt++)he(c[wt]);he(1);for(var dt=0;dt<64;dt++)he(d[dt])})(),(function(wt,dt){le(65472),le(17),he(8),le(dt),le(wt),he(3),he(1),he(17),he(0),he(2),he(17),he(1),he(3),he(17),he(1)})(M.width,M.height),(function(){le(65476),le(418),he(0);for(var wt=0;wt<16;wt++)he(se[wt+1]);for(var dt=0;dt<=11;dt++)he(V[dt]);he(16);for(var Bt=0;Bt<16;Bt++)he(ge[Bt+1]);for(var Kt=0;Kt<=161;Kt++)he(q[Kt]);he(1);for(var Pt=0;Pt<16;Pt++)he(W[Pt+1]);for(var Xt=0;Xt<=11;Xt++)he(ie[Xt]);he(17);for(var $t=0;$t<16;$t++)he(te[$t+1]);for(var st=0;st<=161;st++)he(Se[st])})(),le(65498),le(12),he(3),he(1),he(0),he(2),he(17),he(3),he(17),he(0),he(63),he(0);var Y=0,ne=0,oe=0;k=0,I=7,this.encode.displayName="_encode_";for(var ve,Te,Ce,De,Ge,Je,We,rt,K,$e=M.data,Vt=M.width,bt=M.height,ze=4*Vt,gt=0;gt<bt;){for(ve=0;ve<ze;){for(Ge=ze*gt+ve,We=-1,rt=0,K=0;K<64;K++)Je=Ge+(rt=K>>3)*ze+(We=4*(7&K)),gt+rt>=bt&&(Je-=ze*(gt+1+rt-bt)),ve+We>=ze&&(Je-=ve+We-ze+4),Te=$e[Je++],Ce=$e[Je++],De=$e[Je++],F[K]=(de[Te]+de[Ce+256|0]+de[De+512|0]>>16)-128,U[K]=(de[Te+768|0]+de[Ce+1024|0]+de[De+1280|0]>>16)-128,H[K]=(de[Te+1280|0]+de[Ce+1536|0]+de[De+1792|0]>>16)-128;Y=ke(F,f,Y,e,i),ne=ke(U,p,ne,n,s),oe=ke(H,p,oe,n,s),ve+=32}gt+=8}if(I>=0){var Ze=[];Ze[1]=I+1,Ze[0]=(1<<I+1)-1,ce(Ze)}return le(65497),new Uint8Array(T)},t=t||50,(function(){for(var M=String.fromCharCode,G=0;G<256;G++)ae[G]=M(G)})(),e=ee(se,V),n=ee(W,ie),i=ee(ge,q),s=ee(te,Se),(function(){for(var M=1,G=2,Y=1;Y<=15;Y++){for(var ne=M;ne<G;ne++)S[32767+ne]=Y,w[32767+ne]=[],w[32767+ne][1]=Y,w[32767+ne][0]=ne;for(var oe=-(G-1);oe<=-M;oe++)S[32767+oe]=Y,w[32767+oe]=[],w[32767+oe][1]=Y,w[32767+oe][0]=G-1+oe;M<<=1,G<<=1}})(),(function(){for(var M=0;M<256;M++)de[M]=19595*M,de[M+256|0]=38470*M,de[M+512|0]=7471*M+32768,de[M+768|0]=-11059*M,de[M+1024|0]=-21709*M,de[M+1280|0]=32768*M+8421375,de[M+1536|0]=-27439*M,de[M+1792|0]=-5329*M})(),$(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function bo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Wy(t){function e(V){if(!V)throw Error("assert :P")}function n(V,ge,q){for(var W=0;4>W;W++)if(V[ge+W]!=q.charCodeAt(W))return!0;return!1}function i(V,ge,q,W,ie){for(var te=0;te<ie;te++)V[ge+te]=q[W+te]}function s(V,ge,q,W){for(var ie=0;ie<W;ie++)V[ge+ie]=q}function a(V){return new Int32Array(V)}function l(V,ge){for(var q=[],W=0;W<V;W++)q.push(new ge);return q}function c(V,ge){var q=[];return(function W(ie,te,Se){for(var ee=Se[te],ce=0;ce<ee&&(ie.push(Se.length>te+1?[]:new ge),!(Se.length<te+1));ce++)W(ie[ce],te+1,Se)})(q,0,V),q}var d=function(){var V=this;function ge(m,_){for(var E=1<<_-1>>>0;m&E;)E>>>=1;return E?(m&E-1)+E:m}function q(m,_,E,C,D){e(!(C%E));do m[_+(C-=E)]=D;while(0<C)}function W(m,_,E,C,D){if(e(2328>=D),512>=D)var O=a(512);else if((O=a(D))==null)return 0;return(function(B,j,J,Z,pe,Ae){var X,ye,_e=j,Me=1<<J,xe=a(16),Le=a(16);for(e(pe!=0),e(Z!=null),e(B!=null),e(0<J),ye=0;ye<pe;++ye){if(15<Z[ye])return 0;++xe[Z[ye]]}if(xe[0]==pe)return 0;for(Le[1]=0,X=1;15>X;++X){if(xe[X]>1<<X)return 0;Le[X+1]=Le[X]+xe[X]}for(ye=0;ye<pe;++ye)X=Z[ye],0<Z[ye]&&(Ae[Le[X]++]=ye);if(Le[15]==1)return(Z=new ie).g=0,Z.value=Ae[0],q(B,_e,1,Me,Z),Me;var Oe,je=-1,qe=Me-1,nt=0,Ke=1,Lt=1,Qe=1<<J;for(ye=0,X=1,pe=2;X<=J;++X,pe<<=1){if(Ke+=Lt<<=1,0>(Lt-=xe[X]))return 0;for(;0<xe[X];--xe[X])(Z=new ie).g=X,Z.value=Ae[ye++],q(B,_e+nt,pe,Qe,Z),nt=ge(nt,X)}for(X=J+1,pe=2;15>=X;++X,pe<<=1){if(Ke+=Lt<<=1,0>(Lt-=xe[X]))return 0;for(;0<xe[X];--xe[X]){if(Z=new ie,(nt&qe)!=je){for(_e+=Qe,Oe=1<<(je=X)-J;15>je&&!(0>=(Oe-=xe[je]));)++je,Oe<<=1;Me+=Qe=1<<(Oe=je-J),B[j+(je=nt&qe)].g=Oe+J,B[j+je].value=_e-j-je}Z.g=X-J,Z.value=Ae[ye++],q(B,_e+(nt>>J),pe,Qe,Z),nt=ge(nt,X)}}return Ke!=2*Le[15]-1?0:Me})(m,_,E,C,D,O)}function ie(){this.value=this.g=0}function te(){this.value=this.g=0}function Se(){this.G=l(5,ie),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Uo,te)}function ee(m,_,E,C){e(m!=null),e(_!=null),e(2147483648>C),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=_,m.pa=E,m.Jd=_,m.Yc=E+C,m.Zc=4<=C?E+C-4+1:E,Te(m)}function ce(m,_){for(var E=0;0<_--;)E|=De(m,128)<<_;return E}function he(m,_){var E=ce(m,_);return Ce(m)?-E:E}function le(m,_,E,C){var D,O=0;for(e(m!=null),e(_!=null),e(4294967288>C),m.Sb=C,m.Ra=0,m.u=0,m.h=0,4<C&&(C=4),D=0;D<C;++D)O+=_[E+D]<<8*D;m.Ra=O,m.bb=C,m.oa=_,m.pa=E}function ke(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<ks-8>>>0,++m.bb,m.u-=8;ne(m)&&(m.h=1,m.u=0)}function $(m,_){if(e(0<=_),!m.h&&_<=rr){var E=Y(m)&dr[_];return m.u+=_,ke(m),E}return m.h=1,m.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(m){return m.Ra>>>(m.u&ks-1)>>>0}function ne(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>ks}function oe(m,_){m.u=_,m.h=ne(m)}function ve(m){m.u>=Is&&(e(m.u>=Is),ke(m))}function Te(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Ce(m){return ce(m,1)}function De(m,_){var E=m.Ca;0>m.b&&Te(m);var C=m.b,D=E*_>>>8,O=(m.I>>>C>D)+0;for(O?(E-=D,m.I-=D+1<<C>>>0):E=D+1,C=E,D=0;256<=C;)D+=8,C>>=8;return C=7^D+so[C],m.b-=C,m.Ca=(E<<C)-1,O}function Ge(m,_,E){m[_+0]=E>>24&255,m[_+1]=E>>16&255,m[_+2]=E>>8&255,m[_+3]=255&E}function Je(m,_){return m[_+0]|m[_+1]<<8}function We(m,_){return Je(m,_)|m[_+2]<<16}function rt(m,_){return Je(m,_)|Je(m,_+2)<<16}function K(m,_){var E=1<<_;return e(m!=null),e(0<_),m.X=a(E),m.X==null?0:(m.Mb=32-_,m.Xa=_,1)}function $e(m,_){e(m!=null),e(_!=null),e(m.Xa==_.Xa),i(_.X,0,m.X,0,1<<_.Xa)}function Vt(){this.X=[],this.Xa=this.Mb=0}function bt(m,_,E,C){e(E!=null),e(C!=null);var D=E[0],O=C[0];return D==0&&(D=(m*O+_/2)/_),O==0&&(O=(_*D+m/2)/m),0>=D||0>=O?0:(E[0]=D,C[0]=O,1)}function ze(m,_){return m+(1<<_)-1>>>_}function gt(m,_){return((4278255360&m)+(4278255360&_)>>>0&4278255360)+((16711935&m)+(16711935&_)>>>0&16711935)>>>0}function Ze(m,_){V[_]=function(E,C,D,O,B,j,J){var Z;for(Z=0;Z<B;++Z){var pe=V[m](j[J+Z-1],D,O+Z);j[J+Z]=gt(E[C+Z],pe)}}}function wt(){this.ud=this.hd=this.jd=0}function dt(m,_){return((4278124286&(m^_))>>>1)+(m&_)>>>0}function Bt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Kt(m,_){return Bt(m+(m-_+.5>>1))}function Pt(m,_,E){return Math.abs(_-E)-Math.abs(m-E)}function Xt(m,_,E,C,D,O,B){for(C=O[B-1],E=0;E<D;++E)O[B+E]=C=gt(m[_+E],C)}function $t(m,_,E,C,D){var O;for(O=0;O<E;++O){var B=m[_+O],j=B>>8&255,J=16711935&(J=(J=16711935&B)+((j<<16)+j));C[D+O]=(4278255360&B)+J>>>0}}function st(m,_){_.jd=255&m,_.hd=m>>8&255,_.ud=m>>16&255}function Dt(m,_,E,C,D,O){var B;for(B=0;B<C;++B){var j=_[E+B],J=j>>>8,Z=j,pe=255&(pe=(pe=j>>>16)+((m.jd<<24>>24)*(J<<24>>24)>>>5));Z=255&(Z=(Z+=(m.hd<<24>>24)*(J<<24>>24)>>>5)+((m.ud<<24>>24)*(pe<<24>>24)>>>5)),D[O+B]=(4278255360&j)+(pe<<16)+Z}}function lt(m,_,E,C,D){V[_]=function(O,B,j,J,Z,pe,Ae,X,ye){for(J=Ae;J<X;++J)for(Ae=0;Ae<ye;++Ae)Z[pe++]=D(j[C(O[B++])])},V[m]=function(O,B,j,J,Z,pe,Ae){var X=8>>O.b,ye=O.Ea,_e=O.K[0],Me=O.w;if(8>X)for(O=(1<<O.b)-1,Me=(1<<X)-1;B<j;++B){var xe,Le=0;for(xe=0;xe<ye;++xe)xe&O||(Le=C(J[Z++])),pe[Ae++]=D(_e[Le&Me]),Le>>=X}else V["VP8LMapColor"+E](J,Z,_e,Me,pe,Ae,B,j,ye)}}function ti(m,_,E,C,D){for(E=_+E;_<E;){var O=m[_++];C[D++]=O>>16&255,C[D++]=O>>8&255,C[D++]=255&O}}function Yt(m,_,E,C,D){for(E=_+E;_<E;){var O=m[_++];C[D++]=O>>16&255,C[D++]=O>>8&255,C[D++]=255&O,C[D++]=O>>24&255}}function _t(m,_,E,C,D){for(E=_+E;_<E;){var O=(B=m[_++])>>16&240|B>>12&15,B=240&B|B>>28&15;C[D++]=O,C[D++]=B}}function kt(m,_,E,C,D){for(E=_+E;_<E;){var O=(B=m[_++])>>16&248|B>>13&7,B=B>>5&224|B>>3&31;C[D++]=O,C[D++]=B}}function Zt(m,_,E,C,D){for(E=_+E;_<E;){var O=m[_++];C[D++]=255&O,C[D++]=O>>8&255,C[D++]=O>>16&255}}function mt(m,_,E,C,D,O){if(O==0)for(E=_+E;_<E;)Ge(C,((O=m[_++])[0]>>24|O[1]>>8&65280|O[2]<<8&16711680|O[3]<<24)>>>0),D+=32;else i(C,D,m,_,E)}function kn(m,_){V[_][0]=V[m+"0"],V[_][1]=V[m+"1"],V[_][2]=V[m+"2"],V[_][3]=V[m+"3"],V[_][4]=V[m+"4"],V[_][5]=V[m+"5"],V[_][6]=V[m+"6"],V[_][7]=V[m+"7"],V[_][8]=V[m+"8"],V[_][9]=V[m+"9"],V[_][10]=V[m+"10"],V[_][11]=V[m+"11"],V[_][12]=V[m+"12"],V[_][13]=V[m+"13"],V[_][14]=V[m+"0"],V[_][15]=V[m+"0"]}function Et(m){return m==Xl||m==Uu||m==Za||m==Ou}function It(){this.eb=[],this.size=this.A=this.fb=0}function xn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new It,this.f.kb=new xn,this.sd=null}function ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function on(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qr(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function ji(m,_){var E=m.T,C=_.ba.f.RGBA,D=C.eb,O=C.fb+m.ka*C.A,B=Fi[_.ba.S],j=m.y,J=m.O,Z=m.f,pe=m.N,Ae=m.ea,X=m.W,ye=_.cc,_e=_.dc,Me=_.Mc,xe=_.Nc,Le=m.ka,Oe=m.ka+m.T,je=m.U,qe=je+1>>1;for(Le==0?B(j,J,null,null,Z,pe,Ae,X,Z,pe,Ae,X,D,O,null,null,je):(B(_.ec,_.fc,j,J,ye,_e,Me,xe,Z,pe,Ae,X,D,O-C.A,D,O,je),++E);Le+2<Oe;Le+=2)ye=Z,_e=pe,Me=Ae,xe=X,pe+=m.Rc,X+=m.Rc,O+=2*C.A,B(j,(J+=2*m.fa)-m.fa,j,J,ye,_e,Me,xe,Z,pe,Ae,X,D,O-C.A,D,O,je);return J+=m.fa,m.j+Oe<m.o?(i(_.ec,_.fc,j,J,je),i(_.cc,_.dc,Z,pe,qe),i(_.Mc,_.Nc,Ae,X,qe),E--):1&Oe||B(j,J,null,null,Z,pe,Ae,X,Z,pe,Ae,X,D,O+C.A,null,null,je),E}function Ss(m,_,E){var C=m.F,D=[m.J];if(C!=null){var O=m.U,B=_.ba.S,j=B==Kl||B==Za;_=_.ba.f.RGBA;var J=[0],Z=m.ka;J[0]=m.T,m.Kb&&(Z==0?--J[0]:(--Z,D[0]-=m.width),m.j+m.ka+m.T==m.o&&(J[0]=m.o-m.j-Z));var pe=_.eb;Z=_.fb+Z*_.A,m=$l(C,D[0],m.width,O,J,pe,Z+(j?0:3),_.A),e(E==J),m&&Et(B)&&fa(pe,Z,j,O,J,_.A)}return 0}function Mr(m){var _=m.ma,E=_.ba.S,C=11>E,D=E==Wi||E==Fr||E==Kl||E==Xa||E==12||Et(E);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!ro(_.Oa,m,D?11:12))return 0;if(D&&Et(E)&&zl(),m.da)alert("todo:use_scaling");else{if(C){if(_.Ib=Qr,m.Kb){if(E=m.U+1>>1,_.memory=a(m.U+2*E),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+m.U,_.Mc=_.cc,_.Nc=_.dc+E,_.Ib=ji,zl()}}else alert("todo:EmitYUV");D&&(_.Jb=Ss,C&&ls())}if(C&&!Go){for(m=0;256>m;++m)qi[m]=89858*(m-128)+tl>>Vr,jh[m]=-22014*(m-128)+tl,Zf[m]=-45773*(m-128),zu[m]=113618*(m-128)+tl>>Vr;for(m=ga;m<zo;++m)_=76283*(m-16)+tl>>Vr,Vh[m-ga]=Ar(_,255),$h[m-ga]=Ar(_+8>>4,15);Go=1}return 1}function ht(m){var _=m.ma,E=m.U,C=m.T;return e(!(1&m.ka)),0>=E||0>=C?0:(E=_.Ib(m,_),_.Jb!=null&&_.Jb(m,_,E),_.Dc+=E,1)}function js(m){m.ma.memory=null}function xs(m,_,E,C){return $(m,8)!=47?0:(_[0]=$(m,14)+1,E[0]=$(m,14)+1,C[0]=$(m,1),$(m,3)!=0?0:!m.h)}function wr(m,_){if(4>m)return m+1;var E=m-2>>1;return(2+(1&m)<<E)+$(_,E)+1}function _r(m,_){return 120<_?_-120:1<=(E=((E=Hr[_-1])>>4)*m+(8-(15&E)))?E:1;var E}function Hn(m,_,E){var C=Y(E),D=m[_+=255&C].g-8;return 0<D&&(oe(E,E.u+8),C=Y(E),_+=m[_].value,_+=C&(1<<D)-1),oe(E,E.u+m[_].g),m[_].value}function ui(m,_,E){return E.g+=m.g,E.value+=m.value<<_>>>0,e(8>=E.g),m.g}function Ni(m,_,E){var C=m.xc;return e((_=C==0?0:m.vc[m.md*(E>>C)+(_>>C)])<m.Wb),m.Ya[_]}function ko(m,_,E,C){var D=m.ab,O=m.c*_,B=m.C;_=B+_;var j=E,J=C;for(C=m.Ta,E=m.Ua;0<D--;){var Z=m.gc[D],pe=B,Ae=_,X=j,ye=J,_e=(J=C,j=E,Z.Ea);switch(e(pe<Ae),e(Ae<=Z.nc),Z.hc){case 2:ri(X,ye,(Ae-pe)*_e,J,j);break;case 0:var Me=pe,xe=Ae,Le=J,Oe=j,je=(Qe=Z).Ea;Me==0&&(Ja(X,ye,null,null,1,Le,Oe),Xt(X,ye+1,0,0,je-1,Le,Oe+1),ye+=je,Oe+=je,++Me);for(var qe=1<<Qe.b,nt=qe-1,Ke=ze(je,Qe.b),Lt=Qe.K,Qe=Qe.w+(Me>>Qe.b)*Ke;Me<xe;){var Qt=Lt,Bn=Qe,qt=1;for(Wa(X,ye,Le,Oe-je,1,Le,Oe);qt<je;){var Xe=(qt&~nt)+qe;Xe>je&&(Xe=je),(0,oo[Qt[Bn++]>>8&15])(X,ye+ +qt,Le,Oe+qt-je,Xe-qt,Le,Oe+qt),qt=Xe}ye+=je,Oe+=je,++Me&nt||(Qe+=Ke)}Ae!=Z.nc&&i(J,j-_e,J,j+(Ae-pe-1)*_e,_e);break;case 1:for(_e=X,xe=ye,je=(X=Z.Ea)-(Oe=X&~(Le=(ye=1<<Z.b)-1)),Me=ze(X,Z.b),qe=Z.K,Z=Z.w+(pe>>Z.b)*Me;pe<Ae;){for(nt=qe,Ke=Z,Lt=new wt,Qe=xe+Oe,Qt=xe+X;xe<Qe;)st(nt[Ke++],Lt),Ya(Lt,_e,xe,ye,J,j),xe+=ye,j+=ye;xe<Qt&&(st(nt[Ke++],Lt),Ya(Lt,_e,xe,je,J,j),xe+=je,j+=je),++pe&Le||(Z+=Me)}break;case 3:if(X==J&&ye==j&&0<Z.b){for(xe=J,X=_e=j+(Ae-pe)*_e-(Oe=(Ae-pe)*ze(Z.Ea,Z.b)),ye=J,Le=j,Me=[],Oe=(je=Oe)-1;0<=Oe;--Oe)Me[Oe]=ye[Le+Oe];for(Oe=je-1;0<=Oe;--Oe)xe[X+Oe]=Me[Oe];Iu(Z,pe,Ae,J,_e,J,j)}else Iu(Z,pe,Ae,X,ye,J,j)}j=C,J=E}J!=E&&i(C,E,j,J,O)}function er(m,_){var E=m.V,C=m.Ba+m.c*m.C,D=_-m.C;if(e(_<=m.l.o),e(16>=D),0<D){var O=m.l,B=m.Ta,j=m.Ua,J=O.width;if(ko(m,D,E,C),D=j=[j],e((E=m.C)<(C=_)),e(O.v<O.va),C>O.o&&(C=O.o),E<O.j){var Z=O.j-E;E=O.j,D[0]+=Z*J}if(E>=C?E=0:(D[0]+=4*O.v,O.ka=E-O.j,O.U=O.va-O.v,O.T=C-E,E=1),E){if(j=j[0],11>(E=m.ca).S){var pe=E.f.RGBA,Ae=(C=E.S,D=O.U,O=O.T,Z=pe.eb,pe.A),X=O;for(pe=pe.fb+m.Ma*pe.A;0<X--;){var ye=B,_e=j,Me=D,xe=Z,Le=pe;switch(C){case Pu:Ka(ye,_e,Me,xe,Le);break;case Wi:ao(ye,_e,Me,xe,Le);break;case Xl:ao(ye,_e,Me,xe,Le),fa(xe,Le,0,Me,1,0);break;case Du:ua(ye,_e,Me,xe,Le);break;case Fr:mt(ye,_e,Me,xe,Le,1);break;case Uu:mt(ye,_e,Me,xe,Le,1),fa(xe,Le,0,Me,1,0);break;case Kl:mt(ye,_e,Me,xe,Le,0);break;case Za:mt(ye,_e,Me,xe,Le,0),fa(xe,Le,1,Me,1,0);break;case Xa:lo(ye,_e,Me,xe,Le);break;case Ou:lo(ye,_e,Me,xe,Le),Br(xe,Le,Me,1,0);break;case Oo:Ps(ye,_e,Me,xe,Le);break;default:e(0)}j+=J,pe+=Ae}m.Ma+=O}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=E.height)}}m.C=_,e(m.C<=m.i)}function An(m){var _;if(0<m.ua)return 0;for(_=0;_<m.Wb;++_){var E=m.Ya[_].G,C=m.Ya[_].H;if(0<E[1][C[1]+0].g||0<E[2][C[2]+0].g||0<E[3][C[3]+0].g)return 0}return 1}function Gn(m,_,E,C,D,O){if(m.Z!=0){var B=m.qd,j=m.rd;for(e(fo[m.Z]!=null);_<E;++_)fo[m.Z](B,j,C,D,C,D,O),B=C,j=D,D+=O;m.qd=B,m.rd=j}}function Vi(m,_){var E=m.l.ma,C=E.Z==0||E.Z==1?m.l.j:m.C;if(C=m.C<C?C:m.C,e(_<=m.l.o),_>C){var D=m.l.width,O=E.ca,B=E.tb+D*C,j=m.V,J=m.Ba+m.c*C,Z=m.gc;e(m.ab==1),e(Z[0].hc==3),Ms(Z[0],C,_,j,J,O,B),Gn(E,C,_,O,B,D)}m.C=m.Ma=_}function Sr(m,_,E,C,D,O,B){var j=m.$/C,J=m.$%C,Z=m.m,pe=m.s,Ae=E+m.$,X=Ae;D=E+C*D;var ye=E+C*O,_e=280+pe.ua,Me=m.Pb?j:16777216,xe=0<pe.ua?pe.Wa:null,Le=pe.wc,Oe=Ae<ye?Ni(pe,J,j):null;e(m.C<O),e(ye<=D);var je=!1;e:for(;;){for(;je||Ae<ye;){var qe=0;if(j>=Me){var nt=Ae-E;e((Me=m).Pb),Me.wd=Me.m,Me.xd=nt,0<Me.s.ua&&$e(Me.s.Wa,Me.s.vb),Me=j+Bo}if(J&Le||(Oe=Ni(pe,J,j)),e(Oe!=null),Oe.Qb&&(_[Ae]=Oe.qb,je=!0),!je)if(ve(Z),Oe.jc){qe=Z,nt=_;var Ke=Ae,Lt=Oe.pd[Y(qe)&Uo-1];e(Oe.jc),256>Lt.g?(oe(qe,qe.u+Lt.g),nt[Ke]=Lt.value,qe=0):(oe(qe,qe.u+Lt.g-256),e(256<=Lt.value),qe=Lt.value),qe==0&&(je=!0)}else qe=Hn(Oe.G[0],Oe.H[0],Z);if(Z.h)break;if(je||256>qe){if(!je)if(Oe.nd)_[Ae]=(Oe.qb|qe<<8)>>>0;else{if(ve(Z),je=Hn(Oe.G[1],Oe.H[1],Z),ve(Z),nt=Hn(Oe.G[2],Oe.H[2],Z),Ke=Hn(Oe.G[3],Oe.H[3],Z),Z.h)break;_[Ae]=(Ke<<24|je<<16|qe<<8|nt)>>>0}if(je=!1,++Ae,++J>=C&&(J=0,++j,B!=null&&j<=O&&!(j%16)&&B(m,j),xe!=null))for(;X<Ae;)qe=_[X++],xe.X[(506832829*qe&4294967295)>>>xe.Mb]=qe}else if(280>qe){if(qe=wr(qe-256,Z),nt=Hn(Oe.G[4],Oe.H[4],Z),ve(Z),nt=_r(C,nt=wr(nt,Z)),Z.h)break;if(Ae-E<nt||D-Ae<qe)break e;for(Ke=0;Ke<qe;++Ke)_[Ae+Ke]=_[Ae+Ke-nt];for(Ae+=qe,J+=qe;J>=C;)J-=C,++j,B!=null&&j<=O&&!(j%16)&&B(m,j);if(e(Ae<=D),J&Le&&(Oe=Ni(pe,J,j)),xe!=null)for(;X<Ae;)qe=_[X++],xe.X[(506832829*qe&4294967295)>>>xe.Mb]=qe}else{if(!(qe<_e))break e;for(je=qe-280,e(xe!=null);X<Ae;)qe=_[X++],xe.X[(506832829*qe&4294967295)>>>xe.Mb]=qe;qe=Ae,e(!(je>>>(nt=xe).Xa)),_[qe]=nt.X[je],je=!0}je||e(Z.h==ne(Z))}if(m.Pb&&Z.h&&Ae<D)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&$e(m.s.vb,m.s.Wa);else{if(Z.h)break e;B!=null&&B(m,j>O?O:j),m.a=0,m.$=Ae-E}return 1}return m.a=3,0}function Pr(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var _=m.Wa;_!=null&&(_.X=null),m.vb=null,e(m!=null)}function ea(){var m=new Nt;return m==null?null:(m.a=0,m.xb=$c,kn("Predictor","VP8LPredictors"),kn("Predictor","VP8LPredictors_C"),kn("PredictorAdd","VP8LPredictorsAdd"),kn("PredictorAdd","VP8LPredictorsAdd_C"),ri=$t,Ya=Dt,Ka=ti,ao=Yt,lo=_t,Ps=kt,ua=Zt,V.VP8LMapColor32b=Ls,V.VP8LMapColor8b=Ui,m)}function es(m,_,E,C,D){var O=1,B=[m],j=[_],J=C.m,Z=C.s,pe=null,Ae=0;e:for(;;){if(E)for(;O&&$(J,1);){var X=B,ye=j,_e=C,Me=1,xe=_e.m,Le=_e.gc[_e.ab],Oe=$(xe,2);if(_e.Oc&1<<Oe)O=0;else{switch(_e.Oc|=1<<Oe,Le.hc=Oe,Le.Ea=X[0],Le.nc=ye[0],Le.K=[null],++_e.ab,e(4>=_e.ab),Oe){case 0:case 1:Le.b=$(xe,3)+2,Me=es(ze(Le.Ea,Le.b),ze(Le.nc,Le.b),0,_e,Le.K),Le.K=Le.K[0];break;case 3:var je,qe=$(xe,8)+1,nt=16<qe?0:4<qe?1:2<qe?2:3;if(X[0]=ze(Le.Ea,nt),Le.b=nt,je=Me=es(qe,1,0,_e,Le.K)){var Ke,Lt=qe,Qe=Le,Qt=1<<(8>>Qe.b),Bn=a(Qt);if(Bn==null)je=0;else{var qt=Qe.K[0],Xe=Qe.w;for(Bn[0]=Qe.K[0][0],Ke=1;Ke<1*Lt;++Ke)Bn[Ke]=gt(qt[Xe+Ke],Bn[Ke-1]);for(;Ke<4*Qt;++Ke)Bn[Ke]=0;Qe.K[0]=null,Qe.K[0]=Bn,je=1}}Me=je;break;case 2:break;default:e(0)}O=Me}}if(B=B[0],j=j[0],O&&$(J,1)&&!(O=1<=(Ae=$(J,4))&&11>=Ae)){C.a=3;break e}var Ve;if(Ve=O)t:{var Vn,At,jt,wn=C,Si=B,Hi=j,Mn=Ae,di=E,Yi=wn.m,hi=wn.s,Wt=[null],fn=1,$n=0,mn=zr[Mn];n:for(;;){if(di&&$(Yi,1)){var xi=$(Yi,3)+2,Jn=ze(Si,xi),dn=ze(Hi,xi),ai=Jn*dn;if(!es(Jn,dn,0,wn,Wt))break n;for(Wt=Wt[0],hi.xc=xi,Vn=0;Vn<ai;++Vn){var _n=Wt[Vn]>>8&65535;Wt[Vn]=_n,_n>=fn&&(fn=_n+1)}}if(Yi.h)break n;for(At=0;5>At;++At){var pi=ha[At];!At&&0<Mn&&(pi+=1<<Mn),$n<pi&&($n=pi)}var gi=l(fn*mn,ie),En=fn,un=l(En,Se);if(un==null)var Ki=null;else e(65536>=En),Ki=un;var Xn=a($n);if(Ki==null||Xn==null||gi==null){wn.a=1;break n}var pt=gi;for(Vn=jt=0;Vn<fn;++Vn){var vt=Ki[Vn],hn=vt.G,hr=vt.H,$r=0,or=1,mi=0;for(At=0;5>At;++At){pi=ha[At],hn[At]=pt,hr[At]=jt,!At&&0<Mn&&(pi+=1<<Mn);r:{var jo,Vo=pi,ju=wn,Pn=Xn,Wc=pt,Yc=jt,Vu=0,ho=ju.m,Jh=$(ho,1);if(s(Pn,0,0,Vo),Jh){var Kc=$(ho,1)+1,Xc=$(ho,1),$u=$(ho,Xc==0?1:8);Pn[$u]=1,Kc==2&&(Pn[$u=$(ho,8)]=1);var ki=1}else{var Zn=a(19),tu=$(ho,4)+4;if(19<tu){ju.a=3;var $o=0;break r}for(jo=0;jo<tu;++jo)Zn[Zl[jo]]=$(ho,3);var il=void 0,ma=void 0,Os=ju,Ju=Zn,rl=Vo,Wu=Pn,Yu=0,po=Os.m,Zc=8,Qc=l(128,ie);i:for(;W(Qc,0,7,Ju,19);){if($(po,1)){var Qf=2+2*$(po,3);if((il=2+$(po,Qf))>rl)break i}else il=rl;for(ma=0;ma<rl&&il--;){ve(po);var ef=Qc[0+(127&Y(po))];oe(po,po.u+ef.g);var Jo=ef.value;if(16>Jo)Wu[ma++]=Jo,Jo!=0&&(Zc=Jo);else{var ed=Jo==16,td=Jo-16,nd=Qa[td],tf=$(po,qr[td])+nd;if(ma+tf>rl)break i;for(var id=ed?Zc:0;0<tf--;)Wu[ma++]=id}}Yu=1;break i}Yu||(Os.a=3),ki=Yu}(ki=ki&&!ho.h)&&(Vu=W(Wc,Yc,8,Pn,Vo)),ki&&Vu!=0?$o=Vu:(ju.a=3,$o=0)}if($o==0)break n;if(or&&Bu[At]==1&&(or=pt[jt].g==0),$r+=pt[jt].g,jt+=$o,3>=At){var va,Ku=Xn[0];for(va=1;va<pi;++va)Xn[va]>Ku&&(Ku=Xn[va]);mi+=Ku}}if(vt.nd=or,vt.Qb=0,or&&(vt.qb=(hn[3][hr[3]+0].value<<24|hn[1][hr[1]+0].value<<16|hn[2][hr[2]+0].value)>>>0,$r==0&&256>hn[0][hr[0]+0].value&&(vt.Qb=1,vt.qb+=hn[0][hr[0]+0].value<<8)),vt.jc=!vt.Qb&&6>mi,vt.jc){var nu,Bs=vt;for(nu=0;nu<Uo;++nu){var go=nu,mo=Bs.pd[go],Xu=Bs.G[0][Bs.H[0]+go];256<=Xu.value?(mo.g=Xu.g+256,mo.value=Xu.value):(mo.g=0,mo.value=0,go>>=ui(Xu,8,mo),go>>=ui(Bs.G[1][Bs.H[1]+go],16,mo),go>>=ui(Bs.G[2][Bs.H[2]+go],0,mo),ui(Bs.G[3][Bs.H[3]+go],24,mo))}}}hi.vc=Wt,hi.Wb=fn,hi.Ya=Ki,hi.yc=gi,Ve=1;break t}Ve=0}if(!(O=Ve)){C.a=3;break e}if(0<Ae){if(Z.ua=1<<Ae,!K(Z.Wa,Ae)){C.a=1,O=0;break e}}else Z.ua=0;var Zu=C,ya=B,rd=j,sl=Zu.s,ol=sl.xc;if(Zu.c=ya,Zu.i=rd,sl.md=ze(ya,ol),sl.wc=ol==0?-1:(1<<ol)-1,E){C.xb=Fo;break e}if((pe=a(B*j))==null){C.a=1,O=0;break e}O=(O=Sr(C,pe,0,B,j,j,null))&&!J.h;break e}return O?(D!=null?D[0]=pe:(e(pe==null),e(E)),C.$=0,E||Pr(Z)):Pr(Z),O}function ts(m,_){var E=m.c*m.i,C=E+_+16*_;return e(m.c<=_),m.V=a(C),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+E+_,1)}function Io(m,_){var E=m.C,C=_-E,D=m.V,O=m.Ba+m.c*E;for(e(_<=m.l.o);0<C;){var B=16<C?16:C,j=m.l.ma,J=m.l.width,Z=J*B,pe=j.ca,Ae=j.tb+J*E,X=m.Ta,ye=m.Ua;ko(m,B,D,O),Rr(X,ye,pe,Ae,Z),Gn(j,E,E+B,pe,Ae,J),C-=B,D+=B*m.c,E+=B}e(E==_),m.C=m.Ma=_}function ns(){this.ub=this.yd=this.td=this.Rb=0}function is(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ta(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function As(){this.Yb=(function(){var m=[];return(function _(E,C,D){for(var O=D[C],B=0;B<O&&(E.push(D.length>C+1?[]:0),!(D.length<C+1));B++)_(E[B],C+1,D)})(m,0,[3,11]),m})()}function ni(){this.jb=a(3),this.Wc=c([4,8],As),this.Xc=c([4,17],As)}function Cl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function xr(){this.ld=this.La=this.dd=this.tc=0}function rs(){this.Na=this.la=0}function Vs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Rl(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function kl(){this.uc=this.M=this.Nb=0,this.wa=Array(new xr),this.Y=0,this.ya=Array(new Rl),this.aa=0,this.l=new $s}function Il(){this.y=a(16),this.f=a(8),this.ea=a(8)}function _u(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new ns,this.Kc=new is,this.ed=new Cl,this.Qa=new ta,this.Ic=this.$c=this.Aa=0,this.D=new kl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,M),this.ia=0,this.pb=l(4,Vs),this.Pa=new ni,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Il),this.Hd=0,this.rb=Array(new rs),this.sb=0,this.wa=Array(new xr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Rl),this.L=this.aa=0,this.gd=c([4,2],xr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ar(m,_){return 0>m?0:m>_?_:m}function $s(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ss(){var m=new _u;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,kr||(kr=Lo)),m}function pn(m,_,E){return m.a==0&&(m.a=_,m.sc=E,m.cb=0),0}function Ll(m,_,E){return 3<=E&&m[_+0]==157&&m[_+1]==1&&m[_+2]==42}function Es(m,_){if(m==null)return 0;if(m.a=0,m.sc="OK",_==null)return pn(m,2,"null VP8Io passed to VP8GetHeaders()");var E=_.data,C=_.w,D=_.ha;if(4>D)return pn(m,7,"Truncated header.");var O=E[C+0]|E[C+1]<<8|E[C+2]<<16,B=m.Od;if(B.Rb=!(1&O),B.td=O>>1&7,B.yd=O>>4&1,B.ub=O>>5,3<B.td)return pn(m,3,"Incorrect keyframe parameters.");if(!B.yd)return pn(m,4,"Frame not displayable.");C+=3,D-=3;var j=m.Kc;if(B.Rb){if(7>D)return pn(m,7,"cannot parse picture header");if(!Ll(E,C,D))return pn(m,3,"Bad code word");j.c=16383&(E[C+4]<<8|E[C+3]),j.Td=E[C+4]>>6,j.i=16383&(E[C+6]<<8|E[C+5]),j.Ud=E[C+6]>>6,C+=7,D-=7,m.za=j.c+15>>4,m.Ub=j.i+15>>4,_.width=j.c,_.height=j.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,s((O=m.Pa).jb,0,255,O.jb.length),e((O=m.Qa)!=null),O.Cb=0,O.Bb=0,O.Fb=1,s(O.Zb,0,0,O.Zb.length),s(O.Lb,0,0,O.Lb)}if(B.ub>D)return pn(m,7,"bad partition length");ee(O=m.m,E,C,B.ub),C+=B.ub,D-=B.ub,B.Rb&&(j.Ld=Ce(O),j.Kd=Ce(O)),j=m.Qa;var J,Z=m.Pa;if(e(O!=null),e(j!=null),j.Cb=Ce(O),j.Cb){if(j.Bb=Ce(O),Ce(O)){for(j.Fb=Ce(O),J=0;4>J;++J)j.Zb[J]=Ce(O)?he(O,7):0;for(J=0;4>J;++J)j.Lb[J]=Ce(O)?he(O,6):0}if(j.Bb)for(J=0;3>J;++J)Z.jb[J]=Ce(O)?ce(O,8):255}else j.Bb=0;if(O.Ka)return pn(m,3,"cannot parse segment header");if((j=m.ed).zd=Ce(O),j.Tb=ce(O,6),j.wb=ce(O,3),j.Pc=Ce(O),j.Pc&&Ce(O)){for(Z=0;4>Z;++Z)Ce(O)&&(j.vd[Z]=he(O,6));for(Z=0;4>Z;++Z)Ce(O)&&(j.od[Z]=he(O,6))}if(m.L=j.Tb==0?0:j.zd?1:2,O.Ka)return pn(m,3,"cannot parse filter header");var pe=D;if(D=J=C,C=J+pe,j=pe,m.Xb=(1<<ce(m.m,2))-1,pe<3*(Z=m.Xb))E=7;else{for(J+=3*Z,j-=3*Z,pe=0;pe<Z;++pe){var Ae=E[D+0]|E[D+1]<<8|E[D+2]<<16;Ae>j&&(Ae=j),ee(m.Jc[+pe],E,J,Ae),J+=Ae,j-=Ae,D+=3}ee(m.Jc[+Z],E,J,j),E=J<C?0:5}if(E!=0)return pn(m,E,"cannot parse partitions");for(E=ce(J=m.m,7),D=Ce(J)?he(J,4):0,C=Ce(J)?he(J,4):0,j=Ce(J)?he(J,4):0,Z=Ce(J)?he(J,4):0,J=Ce(J)?he(J,4):0,pe=m.Qa,Ae=0;4>Ae;++Ae){if(pe.Cb){var X=pe.Zb[Ae];pe.Fb||(X+=E)}else{if(0<Ae){m.pb[Ae]=m.pb[0];continue}X=E}var ye=m.pb[Ae];ye.Sc[0]=Gr[Ar(X+D,127)],ye.Sc[1]=jr[Ar(X+0,127)],ye.Eb[0]=2*Gr[Ar(X+C,127)],ye.Eb[1]=101581*jr[Ar(X+j,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=Gr[Ar(X+Z,117)],ye.Qc[1]=jr[Ar(X+J,127)],ye.lc=X+J}if(!B.Rb)return pn(m,4,"Not a key frame.");for(Ce(O),B=m.Pa,E=0;4>E;++E){for(D=0;8>D;++D)for(C=0;3>C;++C)for(j=0;11>j;++j)Z=De(O,On[E][D][C][j])?ce(O,8):Xf[E][D][C][j],B.Wc[E][D].Yb[C][j]=Z;for(D=0;17>D;++D)B.Xc[E][D]=B.Wc[E][en[D]]}return m.kc=Ce(O),m.kc&&(m.Bd=ce(O,8)),m.cb=1}function Lo(m,_,E,C,D,O,B){var j=_[D].Yb[E];for(E=0;16>D;++D){if(!De(m,j[E+0]))return D;for(;!De(m,j[E+1]);)if(j=_[++D].Yb[0],E=0,D==16)return 16;var J=_[D+1].Yb;if(De(m,j[E+2])){var Z=m,pe=0;if(De(Z,(X=j)[(Ae=E)+3]))if(De(Z,X[Ae+6])){for(j=0,Ae=2*(pe=De(Z,X[Ae+8]))+(X=De(Z,X[Ae+9+pe])),pe=0,X=Kf[Ae];X[j];++j)pe+=pe+De(Z,X[j]);pe+=3+(8<<Ae)}else De(Z,X[Ae+7])?(pe=7+2*De(Z,165),pe+=De(Z,145)):pe=5+De(Z,159);else pe=De(Z,X[Ae+4])?3+De(Z,X[Ae+5]):2;j=J[2]}else pe=1,j=J[1];J=B+Vc[D],0>(Z=m).b&&Te(Z);var Ae,X=Z.b,ye=(Ae=Z.Ca>>1)-(Z.I>>X)>>31;--Z.b,Z.Ca+=ye,Z.Ca|=1,Z.I-=(Ae+1&ye)<<X,O[J]=((pe^ye)-ye)*C[(0<D)+0]}return 16}function Ml(m){var _=m.rb[m.sb-1];_.la=0,_.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function tr(m,_,E,C,D){D=m[_+E+32*C]+(D>>3),m[_+E+32*C]=-256&D?0>D?0:255:D}function wi(m,_,E,C,D,O){tr(m,_,0,E,C+D),tr(m,_,1,E,C+O),tr(m,_,2,E,C-O),tr(m,_,3,E,C-D)}function ci(m){return(20091*m>>16)+m}function qa(m,_,E,C){var D,O=0,B=a(16);for(D=0;4>D;++D){var j=m[_+0]+m[_+8],J=m[_+0]-m[_+8],Z=(35468*m[_+4]>>16)-ci(m[_+12]),pe=ci(m[_+4])+(35468*m[_+12]>>16);B[O+0]=j+pe,B[O+1]=J+Z,B[O+2]=J-Z,B[O+3]=j-pe,O+=4,_++}for(D=O=0;4>D;++D)j=(m=B[O+0]+4)+B[O+8],J=m-B[O+8],Z=(35468*B[O+4]>>16)-ci(B[O+12]),tr(E,C,0,0,j+(pe=ci(B[O+4])+(35468*B[O+12]>>16))),tr(E,C,1,0,J+Z),tr(E,C,2,0,J-Z),tr(E,C,3,0,j-pe),O++,C+=32}function Su(m,_,E,C){var D=m[_+0]+4,O=35468*m[_+4]>>16,B=ci(m[_+4]),j=35468*m[_+1]>>16;wi(E,C,0,D+B,m=ci(m[_+1]),j),wi(E,C,1,D+O,m,j),wi(E,C,2,D-O,m,j),wi(E,C,3,D-B,m,j)}function Pl(m,_,E,C,D){qa(m,_,E,C),D&&qa(m,_+16,E,C+4)}function nr(m,_,E,C){uo(m,_+0,E,C,1),uo(m,_+32,E,C+128,1)}function Dl(m,_,E,C){var D;for(m=m[_+0]+4,D=0;4>D;++D)for(_=0;4>_;++_)tr(E,C,_,D,m)}function Ul(m,_,E,C){m[_+0]&&gn(m,_+0,E,C),m[_+16]&&gn(m,_+16,E,C+4),m[_+32]&&gn(m,_+32,E,C+128),m[_+48]&&gn(m,_+48,E,C+128+4)}function os(m,_,E,C){var D,O=a(16);for(D=0;4>D;++D){var B=m[_+0+D]+m[_+12+D],j=m[_+4+D]+m[_+8+D],J=m[_+4+D]-m[_+8+D],Z=m[_+0+D]-m[_+12+D];O[0+D]=B+j,O[8+D]=B-j,O[4+D]=Z+J,O[12+D]=Z-J}for(D=0;4>D;++D)B=(m=O[0+4*D]+3)+O[3+4*D],j=O[1+4*D]+O[2+4*D],J=O[1+4*D]-O[2+4*D],Z=m-O[3+4*D],E[C+0]=B+j>>3,E[C+16]=Z+J>>3,E[C+32]=B-j>>3,E[C+48]=Z-J>>3,C+=64}function na(m,_,E){var C,D=_-32,O=Ji,B=255-m[D-1];for(C=0;C<E;++C){var j,J=O,Z=B+m[_-1];for(j=0;j<E;++j)m[_+j]=J[Z+m[D+j]];_+=32}}function xu(m,_){na(m,_,4)}function Au(m,_){na(m,_,8)}function Ol(m,_){na(m,_,16)}function Bl(m,_){var E;for(E=0;16>E;++E)i(m,_+32*E,m,_-32,16)}function Eu(m,_){var E;for(E=16;0<E;--E)s(m,_,m[_-1],16),_+=32}function fr(m,_,E){var C;for(C=0;16>C;++C)s(_,E+32*C,m,16)}function as(m,_){var E,C=16;for(E=0;16>E;++E)C+=m[_-1+32*E]+m[_+E-32];fr(C>>5,m,_)}function Js(m,_){var E,C=8;for(E=0;16>E;++E)C+=m[_-1+32*E];fr(C>>4,m,_)}function ia(m,_){var E,C=8;for(E=0;16>E;++E)C+=m[_+E-32];fr(C>>4,m,_)}function Mo(m,_){fr(128,m,_)}function xt(m,_,E){return m+2*_+E+2>>2}function Tu(m,_){var E,C=_-32;for(C=new Uint8Array([xt(m[C-1],m[C+0],m[C+1]),xt(m[C+0],m[C+1],m[C+2]),xt(m[C+1],m[C+2],m[C+3]),xt(m[C+2],m[C+3],m[C+4])]),E=0;4>E;++E)i(m,_+32*E,C,0,C.length)}function Fl(m,_){var E=m[_-1],C=m[_-1+32],D=m[_-1+64],O=m[_-1+96];Ge(m,_+0,16843009*xt(m[_-1-32],E,C)),Ge(m,_+32,16843009*xt(E,C,D)),Ge(m,_+64,16843009*xt(C,D,O)),Ge(m,_+96,16843009*xt(D,O,O))}function Nu(m,_){var E,C=4;for(E=0;4>E;++E)C+=m[_+E-32]+m[_-1+32*E];for(C>>=3,E=0;4>E;++E)s(m,_+32*E,C,4)}function Er(m,_){var E=m[_-1+0],C=m[_-1+32],D=m[_-1+64],O=m[_-1-32],B=m[_+0-32],j=m[_+1-32],J=m[_+2-32],Z=m[_+3-32];m[_+0+96]=xt(C,D,m[_-1+96]),m[_+1+96]=m[_+0+64]=xt(E,C,D),m[_+2+96]=m[_+1+64]=m[_+0+32]=xt(O,E,C),m[_+3+96]=m[_+2+64]=m[_+1+32]=m[_+0+0]=xt(B,O,E),m[_+3+64]=m[_+2+32]=m[_+1+0]=xt(j,B,O),m[_+3+32]=m[_+2+0]=xt(J,j,B),m[_+3+0]=xt(Z,J,j)}function Pi(m,_){var E=m[_+1-32],C=m[_+2-32],D=m[_+3-32],O=m[_+4-32],B=m[_+5-32],j=m[_+6-32],J=m[_+7-32];m[_+0+0]=xt(m[_+0-32],E,C),m[_+1+0]=m[_+0+32]=xt(E,C,D),m[_+2+0]=m[_+1+32]=m[_+0+64]=xt(C,D,O),m[_+3+0]=m[_+2+32]=m[_+1+64]=m[_+0+96]=xt(D,O,B),m[_+3+32]=m[_+2+64]=m[_+1+96]=xt(O,B,j),m[_+3+64]=m[_+2+96]=xt(B,j,J),m[_+3+96]=xt(j,J,J)}function ql(m,_){var E=m[_-1+0],C=m[_-1+32],D=m[_-1+64],O=m[_-1-32],B=m[_+0-32],j=m[_+1-32],J=m[_+2-32],Z=m[_+3-32];m[_+0+0]=m[_+1+64]=O+B+1>>1,m[_+1+0]=m[_+2+64]=B+j+1>>1,m[_+2+0]=m[_+3+64]=j+J+1>>1,m[_+3+0]=J+Z+1>>1,m[_+0+96]=xt(D,C,E),m[_+0+64]=xt(C,E,O),m[_+0+32]=m[_+1+96]=xt(E,O,B),m[_+1+32]=m[_+2+96]=xt(O,B,j),m[_+2+32]=m[_+3+96]=xt(B,j,J),m[_+3+32]=xt(j,J,Z)}function ra(m,_){var E=m[_+0-32],C=m[_+1-32],D=m[_+2-32],O=m[_+3-32],B=m[_+4-32],j=m[_+5-32],J=m[_+6-32],Z=m[_+7-32];m[_+0+0]=E+C+1>>1,m[_+1+0]=m[_+0+64]=C+D+1>>1,m[_+2+0]=m[_+1+64]=D+O+1>>1,m[_+3+0]=m[_+2+64]=O+B+1>>1,m[_+0+32]=xt(E,C,D),m[_+1+32]=m[_+0+96]=xt(C,D,O),m[_+2+32]=m[_+1+96]=xt(D,O,B),m[_+3+32]=m[_+2+96]=xt(O,B,j),m[_+3+64]=xt(B,j,J),m[_+3+96]=xt(j,J,Z)}function Tr(m,_){var E=m[_-1+0],C=m[_-1+32],D=m[_-1+64],O=m[_-1+96];m[_+0+0]=E+C+1>>1,m[_+2+0]=m[_+0+32]=C+D+1>>1,m[_+2+32]=m[_+0+64]=D+O+1>>1,m[_+1+0]=xt(E,C,D),m[_+3+0]=m[_+1+32]=xt(C,D,O),m[_+3+32]=m[_+1+64]=xt(D,O,O),m[_+3+64]=m[_+2+64]=m[_+0+96]=m[_+1+96]=m[_+2+96]=m[_+3+96]=O}function sa(m,_){var E=m[_-1+0],C=m[_-1+32],D=m[_-1+64],O=m[_-1+96],B=m[_-1-32],j=m[_+0-32],J=m[_+1-32],Z=m[_+2-32];m[_+0+0]=m[_+2+32]=E+B+1>>1,m[_+0+32]=m[_+2+64]=C+E+1>>1,m[_+0+64]=m[_+2+96]=D+C+1>>1,m[_+0+96]=O+D+1>>1,m[_+3+0]=xt(j,J,Z),m[_+2+0]=xt(B,j,J),m[_+1+0]=m[_+3+32]=xt(E,B,j),m[_+1+32]=m[_+3+64]=xt(C,E,B),m[_+1+64]=m[_+3+96]=xt(D,C,E),m[_+1+96]=xt(O,D,C)}function Ts(m,_){var E;for(E=0;8>E;++E)i(m,_+32*E,m,_-32,8)}function Cu(m,_){var E;for(E=0;8>E;++E)s(m,_,m[_-1],8),_+=32}function Dr(m,_,E){var C;for(C=0;8>C;++C)s(_,E+32*C,m,8)}function Ha(m,_){var E,C=8;for(E=0;8>E;++E)C+=m[_+E-32]+m[_-1+32*E];Dr(C>>4,m,_)}function za(m,_){var E,C=4;for(E=0;8>E;++E)C+=m[_+E-32];Dr(C>>3,m,_)}function Ci(m,_){var E,C=4;for(E=0;8>E;++E)C+=m[_-1+32*E];Dr(C>>3,m,_)}function Ns(m,_){Dr(128,m,_)}function Ur(m,_,E){var C=m[_-E],D=m[_+0],O=3*(D-C)+co[1020+m[_-2*E]-m[_+E]],B=Yl[112+(O+4>>3)];m[_-E]=Ji[255+C+Yl[112+(O+3>>3)]],m[_+0]=Ji[255+D-B]}function Ws(m,_,E,C){var D=m[_+0],O=m[_+E];return Oi[255+m[_-2*E]-m[_-E]]>C||Oi[255+O-D]>C}function Ga(m,_,E,C){return 4*Oi[255+m[_-E]-m[_+0]]+Oi[255+m[_-2*E]-m[_+E]]<=C}function oa(m,_,E,C,D){var O=m[_-3*E],B=m[_-2*E],j=m[_-E],J=m[_+0],Z=m[_+E],pe=m[_+2*E],Ae=m[_+3*E];return 4*Oi[255+j-J]+Oi[255+B-Z]>C?0:Oi[255+m[_-4*E]-O]<=D&&Oi[255+O-B]<=D&&Oi[255+B-j]<=D&&Oi[255+Ae-pe]<=D&&Oi[255+pe-Z]<=D&&Oi[255+Z-J]<=D}function Ys(m,_,E,C){var D=2*C+1;for(C=0;16>C;++C)Ga(m,_+C,E,D)&&Ur(m,_+C,E)}function Ks(m,_,E,C){var D=2*C+1;for(C=0;16>C;++C)Ga(m,_+C*E,1,D)&&Ur(m,_+C*E,1)}function aa(m,_,E,C){var D;for(D=3;0<D;--D)Ys(m,_+=4*E,E,C)}function Hl(m,_,E,C){var D;for(D=3;0<D;--D)Ks(m,_+=4,E,C)}function Xs(m,_,E,C,D,O,B,j){for(O=2*O+1;0<D--;){if(oa(m,_,E,O,B))if(Ws(m,_,E,j))Ur(m,_,E);else{var J=m,Z=_,pe=E,Ae=J[Z-2*pe],X=J[Z-pe],ye=J[Z+0],_e=J[Z+pe],Me=J[Z+2*pe],xe=27*(Oe=co[1020+3*(ye-X)+co[1020+Ae-_e]])+63>>7,Le=18*Oe+63>>7,Oe=9*Oe+63>>7;J[Z-3*pe]=Ji[255+J[Z-3*pe]+Oe],J[Z-2*pe]=Ji[255+Ae+Le],J[Z-pe]=Ji[255+X+xe],J[Z+0]=Ji[255+ye-xe],J[Z+pe]=Ji[255+_e-Le],J[Z+2*pe]=Ji[255+Me-Oe]}_+=C}}function Zs(m,_,E,C,D,O,B,j){for(O=2*O+1;0<D--;){if(oa(m,_,E,O,B))if(Ws(m,_,E,j))Ur(m,_,E);else{var J=m,Z=_,pe=E,Ae=J[Z-pe],X=J[Z+0],ye=J[Z+pe],_e=Yl[112+(4+(Me=3*(X-Ae))>>3)],Me=Yl[112+(Me+3>>3)],xe=_e+1>>1;J[Z-2*pe]=Ji[255+J[Z-2*pe]+xe],J[Z-pe]=Ji[255+Ae+Me],J[Z+0]=Ji[255+X-_e],J[Z+pe]=Ji[255+ye-xe]}_+=C}}function Ru(m,_,E,C,D,O){Xs(m,_,E,1,16,C,D,O)}function Qs(m,_,E,C,D,O){Xs(m,_,1,E,16,C,D,O)}function ku(m,_,E,C,D,O){var B;for(B=3;0<B;--B)Zs(m,_+=4*E,E,1,16,C,D,O)}function A(m,_,E,C,D,O){var B;for(B=3;0<B;--B)Zs(m,_+=4,1,E,16,C,D,O)}function P(m,_,E,C,D,O,B,j){Xs(m,_,D,1,8,O,B,j),Xs(E,C,D,1,8,O,B,j)}function Q(m,_,E,C,D,O,B,j){Xs(m,_,1,D,8,O,B,j),Xs(E,C,1,D,8,O,B,j)}function fe(m,_,E,C,D,O,B,j){Zs(m,_+4*D,D,1,8,O,B,j),Zs(E,C+4*D,D,1,8,O,B,j)}function be(m,_,E,C,D,O,B,j){Zs(m,_+4,1,D,8,O,B,j),Zs(E,C+4,1,D,8,O,B,j)}function Ue(){this.ba=new Gt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new on,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function He(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function et(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ot(){this.ua=0,this.Wa=new Vt,this.vb=new Vt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Se,this.yc=new ie}function Nt(){this.xb=this.a=0,this.l=new $s,this.ca=new Gt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ot,this.ab=0,this.gc=l(4,et),this.Oc=0}function Ft(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $s,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function an(m,_,E,C,D,O,B){for(m=m==null?0:m[_+0],_=0;_<B;++_)D[O+_]=m+E[C+_]&255,m=D[O+_]}function jn(m,_,E,C,D,O,B){var j;if(m==null)an(null,null,E,C,D,O,B);else for(j=0;j<B;++j)D[O+j]=m[_+j]+E[C+j]&255}function ii(m,_,E,C,D,O,B){if(m==null)an(null,null,E,C,D,O,B);else{var j,J=m[_+0],Z=J,pe=J;for(j=0;j<B;++j)Z=pe+(J=m[_+j])-Z,pe=E[C+j]+(-256&Z?0>Z?0:255:Z)&255,Z=J,D[O+j]=pe}}function In(m,_,E,C){var D=_.width,O=_.o;if(e(m!=null&&_!=null),0>E||0>=C||E+C>O)return null;if(!m.Cc){if(m.ga==null){var B;if(m.ga=new Ft,(B=m.ga==null)||(B=_.width*_.o,e(m.Gb.length==0),m.Gb=a(B),m.Uc=0,m.Gb==null?B=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,B=1),B=!B),!B){B=m.ga;var j=m.Fa,J=m.P,Z=m.qc,pe=m.mb,Ae=m.nb,X=J+1,ye=Z-1,_e=B.l;if(e(j!=null&&pe!=null&&_!=null),fo[0]=null,fo[1]=an,fo[2]=jn,fo[3]=ii,B.ca=pe,B.tb=Ae,B.c=_.width,B.i=_.height,e(0<B.c&&0<B.i),1>=Z)_=0;else if(B.$a=3&j[J+0],B.Z=j[J+0]>>2&3,B.Lc=j[J+0]>>4&3,J=j[J+0]>>6&3,0>B.$a||1<B.$a||4<=B.Z||1<B.Lc||J)_=0;else if(_e.put=ht,_e.ac=Mr,_e.bc=js,_e.ma=B,_e.width=_.width,_e.height=_.height,_e.Da=_.Da,_e.v=_.v,_e.va=_.va,_e.j=_.j,_e.o=_.o,B.$a)e:{e(B.$a==1),_=ea();t:for(;;){if(_==null){_=0;break e}if(e(B!=null),B.mc=_,_.c=B.c,_.i=B.i,_.l=B.l,_.l.ma=B,_.l.width=B.c,_.l.height=B.i,_.a=0,le(_.m,j,X,ye),!es(B.c,B.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&An(_.s)?(B.ic=1,j=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(j),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(B.ic=0,_=ts(_,B.c)),!_))break t;_=1;break e}B.mc=null,_=0}else _=ye>=B.c*B.i;B=!_}if(B)return null;m.ga.Lc!=1?m.Ga=0:C=O-E}e(m.ga!=null),e(E+C<=O);e:{if(_=(j=m.ga).c,O=j.l.o,j.$a==0){if(X=m.rc,ye=m.Vc,_e=m.Fa,J=m.P+1+E*_,Z=m.mb,pe=m.nb+E*_,e(J<=m.P+m.qc),j.Z!=0)for(e(fo[j.Z]!=null),B=0;B<C;++B)fo[j.Z](X,ye,_e,J,Z,pe,_),X=Z,ye=pe,pe+=_,J+=_;else for(B=0;B<C;++B)i(Z,pe,_e,J,_),X=Z,ye=pe,pe+=_,J+=_;m.rc=X,m.Vc=ye}else{if(e(j.mc!=null),_=E+C,e((B=j.mc)!=null),e(_<=B.i),B.C>=_)_=1;else if(j.ic||ls(),j.ic){j=B.V,X=B.Ba,ye=B.c;var Me=B.i,xe=(_e=1,J=B.$/ye,Z=B.$%ye,pe=B.m,Ae=B.s,B.$),Le=ye*Me,Oe=ye*_,je=Ae.wc,qe=xe<Oe?Ni(Ae,Z,J):null;e(xe<=Le),e(_<=Me),e(An(Ae));t:for(;;){for(;!pe.h&&xe<Oe;){if(Z&je||(qe=Ni(Ae,Z,J)),e(qe!=null),ve(pe),256>(Me=Hn(qe.G[0],qe.H[0],pe)))j[X+xe]=Me,++xe,++Z>=ye&&(Z=0,++J<=_&&!(J%16)&&Vi(B,J));else{if(!(280>Me)){_e=0;break t}Me=wr(Me-256,pe);var nt,Ke=Hn(qe.G[4],qe.H[4],pe);if(ve(pe),!(xe>=(Ke=_r(ye,Ke=wr(Ke,pe)))&&Le-xe>=Me)){_e=0;break t}for(nt=0;nt<Me;++nt)j[X+xe+nt]=j[X+xe+nt-Ke];for(xe+=Me,Z+=Me;Z>=ye;)Z-=ye,++J<=_&&!(J%16)&&Vi(B,J);xe<Oe&&Z&je&&(qe=Ni(Ae,Z,J))}e(pe.h==ne(pe))}Vi(B,J>_?_:J);break t}!_e||pe.h&&xe<Le?(_e=0,B.a=pe.h?5:3):B.$=xe,_=_e}else _=Sr(B,B.V,B.Ba,B.c,B.i,_,Io);if(!_){C=0;break e}}E+C>=O&&(m.Cc=1),C=1}if(!C)return null;if(m.Cc&&((C=m.ga)!=null&&(C.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+E*D}function _i(m,_,E,C,D,O){for(;0<D--;){var B,j=m,J=_+(E?1:0),Z=m,pe=_+(E?0:3);for(B=0;B<C;++B){var Ae=Z[pe+4*B];Ae!=255&&(Ae*=32897,j[J+4*B+0]=j[J+4*B+0]*Ae>>23,j[J+4*B+1]=j[J+4*B+1]*Ae>>23,j[J+4*B+2]=j[J+4*B+2]*Ae>>23)}_+=O}}function fi(m,_,E,C,D){for(;0<C--;){var O;for(O=0;O<E;++O){var B=m[_+2*O+0],j=15&(Z=m[_+2*O+1]),J=4369*j,Z=(240&Z|Z>>4)*J>>16;m[_+2*O+0]=(240&B|B>>4)*J>>16&240|(15&B|B<<4)*J>>16>>4&15,m[_+2*O+1]=240&Z|j}_+=D}}function Di(m,_,E,C,D,O,B,j){var J,Z,pe=255;for(Z=0;Z<D;++Z){for(J=0;J<C;++J){var Ae=m[_+J];O[B+4*J]=Ae,pe&=Ae}_+=E,B+=j}return pe!=255}function eo(m,_,E,C,D){var O;for(O=0;O<D;++O)E[C+O]=m[_+O]>>8}function ls(){fa=_i,Br=fi,$l=Di,Rr=eo}function to(m,_,E){V[m]=function(C,D,O,B,j,J,Z,pe,Ae,X,ye,_e,Me,xe,Le,Oe,je){var qe,nt=je-1>>1,Ke=j[J+0]|Z[pe+0]<<16,Lt=Ae[X+0]|ye[_e+0]<<16;e(C!=null);var Qe=3*Ke+Lt+131074>>2;for(_(C[D+0],255&Qe,Qe>>16,Me,xe),O!=null&&(Qe=3*Lt+Ke+131074>>2,_(O[B+0],255&Qe,Qe>>16,Le,Oe)),qe=1;qe<=nt;++qe){var Qt=j[J+qe]|Z[pe+qe]<<16,Bn=Ae[X+qe]|ye[_e+qe]<<16,qt=Ke+Qt+Lt+Bn+524296,Xe=qt+2*(Qt+Lt)>>3;Qe=Xe+Ke>>1,Ke=(qt=qt+2*(Ke+Bn)>>3)+Qt>>1,_(C[D+2*qe-1],255&Qe,Qe>>16,Me,xe+(2*qe-1)*E),_(C[D+2*qe-0],255&Ke,Ke>>16,Me,xe+(2*qe-0)*E),O!=null&&(Qe=qt+Lt>>1,Ke=Xe+Bn>>1,_(O[B+2*qe-1],255&Qe,Qe>>16,Le,Oe+(2*qe-1)*E),_(O[B+2*qe+0],255&Ke,Ke>>16,Le,Oe+(2*qe+0)*E)),Ke=Qt,Lt=Bn}1&je||(Qe=3*Ke+Lt+131074>>2,_(C[D+je-1],255&Qe,Qe>>16,Me,xe+(je-1)*E),O!=null&&(Qe=3*Lt+Ke+131074>>2,_(O[B+je-1],255&Qe,Qe>>16,Le,Oe+(je-1)*E)))}}function zl(){Fi[Pu]=pa,Fi[Wi]=el,Fi[Du]=Jc,Fi[Fr]=qu,Fi[Kl]=qo,Fi[Xa]=Us,Fi[Oo]=Ho,Fi[Xl]=el,Fi[Uu]=qu,Fi[Za]=qo,Fi[Ou]=Us}function ja(m){return m&-16384?0>m?0:255:m>>Hu}function Cs(m,_){return ja((19077*m>>8)+(26149*_>>8)-14234)}function us(m,_,E){return ja((19077*m>>8)-(6419*_>>8)-(13320*E>>8)+8708)}function la(m,_){return ja((19077*m>>8)+(33050*_>>8)-17685)}function no(m,_,E,C,D){C[D+0]=Cs(m,E),C[D+1]=us(m,_,E),C[D+2]=la(m,_)}function Ri(m,_,E,C,D){C[D+0]=la(m,_),C[D+1]=us(m,_,E),C[D+2]=Cs(m,E)}function Po(m,_,E,C,D){var O=us(m,_,E);_=O<<3&224|la(m,_)>>3,C[D+0]=248&Cs(m,E)|O>>5,C[D+1]=_}function Do(m,_,E,C,D){var O=240&la(m,_)|15;C[D+0]=240&Cs(m,E)|us(m,_,E)>>4,C[D+1]=O}function Va(m,_,E,C,D){C[D+0]=255,no(m,_,E,C,D+1)}function Rs(m,_,E,C,D){Ri(m,_,E,C,D),C[D+3]=255}function ir(m,_,E,C,D){no(m,_,E,C,D),C[D+3]=255}function io(m,_,E){V[m]=function(C,D,O,B,j,J,Z,pe,Ae){for(var X=pe+(-2&Ae)*E;pe!=X;)_(C[D+0],O[B+0],j[J+0],Z,pe),_(C[D+1],O[B+0],j[J+0],Z,pe+E),D+=2,++B,++J,pe+=2*E;1&Ae&&_(C[D+0],O[B+0],j[J+0],Z,pe)}}function $a(m,_,E){return E==0?m==0?_==0?6:5:_==0?4:0:E}function Gl(m,_,E,C,D){switch(m>>>30){case 3:uo(_,E,C,D,0);break;case 2:$i(_,E,C,D);break;case 1:gn(_,E,C,D)}}function Nr(m,_){var E,C,D=_.M,O=_.Nb,B=m.oc,j=m.pc+40,J=m.oc,Z=m.pc+584,pe=m.oc,Ae=m.pc+600;for(E=0;16>E;++E)B[j+32*E-1]=129;for(E=0;8>E;++E)J[Z+32*E-1]=129,pe[Ae+32*E-1]=129;for(0<D?B[j-1-32]=J[Z-1-32]=pe[Ae-1-32]=129:(s(B,j-32-1,127,21),s(J,Z-32-1,127,9),s(pe,Ae-32-1,127,9)),C=0;C<m.za;++C){var X=_.ya[_.aa+C];if(0<C){for(E=-1;16>E;++E)i(B,j+32*E-4,B,j+32*E+12,4);for(E=-1;8>E;++E)i(J,Z+32*E-4,J,Z+32*E+4,4),i(pe,Ae+32*E-4,pe,Ae+32*E+4,4)}var ye=m.Gd,_e=m.Hd+C,Me=X.ad,xe=X.Hc;if(0<D&&(i(B,j-32,ye[_e].y,0,16),i(J,Z-32,ye[_e].f,0,8),i(pe,Ae-32,ye[_e].ea,0,8)),X.Za){var Le=B,Oe=j-32+16;for(0<D&&(C>=m.za-1?s(Le,Oe,ye[_e].y[15],4):i(Le,Oe,ye[_e+1].y,0,4)),E=0;4>E;E++)Le[Oe+128+E]=Le[Oe+256+E]=Le[Oe+384+E]=Le[Oe+0+E];for(E=0;16>E;++E,xe<<=2)Le=B,Oe=j+oi[E],Kn[X.Ob[E]](Le,Oe),Gl(xe,Me,16*+E,Le,Oe)}else if(Le=$a(C,D,X.Ob[0]),sr[Le](B,j),xe!=0)for(E=0;16>E;++E,xe<<=2)Gl(xe,Me,16*+E,B,j+oi[E]);for(E=X.Gc,Le=$a(C,D,X.Dd),hs[Le](J,Z),hs[Le](pe,Ae),xe=Me,Le=J,Oe=Z,255&(X=0|E)&&(170&X?Or(xe,256,Le,Oe):ln(xe,256,Le,Oe)),X=pe,xe=Ae,255&(E>>=8)&&(170&E?Or(Me,320,X,xe):ln(Me,320,X,xe)),D<m.Ub-1&&(i(ye[_e].y,0,B,j+480,16),i(ye[_e].f,0,J,Z+224,8),i(ye[_e].ea,0,pe,Ae+224,8)),E=8*O*m.B,ye=m.sa,_e=m.ta+16*C+16*O*m.R,Me=m.qa,X=m.ra+8*C+E,xe=m.Ha,Le=m.Ia+8*C+E,E=0;16>E;++E)i(ye,_e+E*m.R,B,j+32*E,16);for(E=0;8>E;++E)i(Me,X+E*m.B,J,Z+32*E,8),i(xe,Le+E*m.B,pe,Ae+32*E,8)}}function cs(m,_,E,C,D,O,B,j,J){var Z=[0],pe=[0],Ae=0,X=J!=null?J.kd:0,ye=J??new He;if(m==null||12>E)return 7;ye.data=m,ye.w=_,ye.ha=E,_=[_],E=[E],ye.gb=[ye.gb];e:{var _e=_,Me=E,xe=ye.gb;if(e(m!=null),e(Me!=null),e(xe!=null),xe[0]=0,12<=Me[0]&&!n(m,_e[0],"RIFF")){if(n(m,_e[0]+8,"WEBP")){xe=3;break e}var Le=rt(m,_e[0]+4);if(12>Le||4294967286<Le){xe=3;break e}if(X&&Le>Me[0]-8){xe=7;break e}xe[0]=Le,_e[0]+=12,Me[0]-=12}xe=0}if(xe!=0)return xe;for(Le=0<ye.gb[0],E=E[0];;){e:{var Oe=m;Me=_,xe=E;var je=Z,qe=pe,nt=_e=[0];if((Qe=Ae=[Ae])[0]=0,8>xe[0])xe=7;else{if(!n(Oe,Me[0],"VP8X")){if(rt(Oe,Me[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var Ke=rt(Oe,Me[0]+8),Lt=1+We(Oe,Me[0]+12);if(2147483648<=Lt*(Oe=1+We(Oe,Me[0]+15))){xe=3;break e}nt!=null&&(nt[0]=Ke),je!=null&&(je[0]=Lt),qe!=null&&(qe[0]=Oe),Me[0]+=18,xe[0]-=18,Qe[0]=1}xe=0}}if(Ae=Ae[0],_e=_e[0],xe!=0)return xe;if(Me=!!(2&_e),!Le&&Ae)return 3;if(O!=null&&(O[0]=!!(16&_e)),B!=null&&(B[0]=Me),j!=null&&(j[0]=0),B=Z[0],_e=pe[0],Ae&&Me&&J==null){xe=0;break}if(4>E){xe=7;break}if(Le&&Ae||!Le&&!Ae&&!n(m,_[0],"ALPH")){E=[E],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{Ke=m,xe=_,Le=E;var Qe=ye.gb;je=ye.na,qe=ye.P,nt=ye.Sa,Lt=22,e(Ke!=null),e(Le!=null),Oe=xe[0];var Qt=Le[0];for(e(je!=null),e(nt!=null),je[0]=null,qe[0]=null,nt[0]=0;;){if(xe[0]=Oe,Le[0]=Qt,8>Qt){xe=7;break e}var Bn=rt(Ke,Oe+4);if(4294967286<Bn){xe=3;break e}var qt=8+Bn+1&-2;if(Lt+=qt,0<Qe&&Lt>Qe){xe=3;break e}if(!n(Ke,Oe,"VP8 ")||!n(Ke,Oe,"VP8L")){xe=0;break e}if(Qt[0]<qt){xe=7;break e}n(Ke,Oe,"ALPH")||(je[0]=Ke,qe[0]=Oe+8,nt[0]=Bn),Oe+=qt,Qt-=qt}}if(E=E[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],xe!=0)break}E=[E],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(Qe=m,xe=_,Le=E,je=ye.gb[0],qe=ye.Ja,nt=ye.xa,Ke=xe[0],Oe=!n(Qe,Ke,"VP8 "),Lt=!n(Qe,Ke,"VP8L"),e(Qe!=null),e(Le!=null),e(qe!=null),e(nt!=null),8>Le[0])xe=7;else{if(Oe||Lt){if(Qe=rt(Qe,Ke+4),12<=je&&Qe>je-12){xe=3;break e}if(X&&Qe>Le[0]-8){xe=7;break e}qe[0]=Qe,xe[0]+=8,Le[0]-=8,nt[0]=Lt}else nt[0]=5<=Le[0]&&Qe[Ke+0]==47&&!(Qe[Ke+4]>>5),qe[0]=Le[0];xe=0}if(E=E[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],_=_[0],xe!=0)break;if(4294967286<ye.Ja)return 3;if(j==null||Me||(j[0]=ye.xa?2:1),B=[B],_e=[_e],ye.xa){if(5>E){xe=7;break}j=B,X=_e,Me=O,m==null||5>E?m=0:5<=E&&m[_+0]==47&&!(m[_+4]>>5)?(Le=[0],Qe=[0],je=[0],le(qe=new G,m,_,E),xs(qe,Le,Qe,je)?(j!=null&&(j[0]=Le[0]),X!=null&&(X[0]=Qe[0]),Me!=null&&(Me[0]=je[0]),m=1):m=0):m=0}else{if(10>E){xe=7;break}j=_e,m==null||10>E||!Ll(m,_+3,E-3)?m=0:(X=m[_+0]|m[_+1]<<8|m[_+2]<<16,Me=16383&(m[_+7]<<8|m[_+6]),m=16383&(m[_+9]<<8|m[_+8]),1&X||3<(X>>1&7)||!(X>>4&1)||X>>5>=ye.Ja||!Me||!m?m=0:(B&&(B[0]=Me),j&&(j[0]=m),m=1))}if(!m||(B=B[0],_e=_e[0],Ae&&(Z[0]!=B||pe[0]!=_e)))return 3;J!=null&&(J[0]=ye,J.offset=_-J.w,e(4294967286>_-J.w),e(J.offset==J.ha-E));break}return xe==0||xe==7&&Ae&&J==null?(O!=null&&(O[0]|=ye.na!=null&&0<ye.na.length),C!=null&&(C[0]=B),D!=null&&(D[0]=_e),0):xe}function ro(m,_,E){var C=_.width,D=_.height,O=0,B=0,j=C,J=D;if(_.Da=m!=null&&0<m.Da,_.Da&&(j=m.cd,J=m.bd,O=m.v,B=m.j,11>E||(O&=-2,B&=-2),0>O||0>B||0>=j||0>=J||O+j>C||B+J>D))return 0;if(_.v=O,_.j=B,_.va=O+j,_.o=B+J,_.U=j,_.T=J,_.da=m!=null&&0<m.da,_.da){if(!bt(j,J,E=[m.ib],O=[m.hb]))return 0;_.ib=E[0],_.hb=O[0]}return _.ob=m!=null&&m.ob,_.Kb=m==null||!m.Sd,_.da&&(_.ob=_.ib<3*C/4&&_.hb<3*D/4,_.Kb=0),1}function jl(m){if(m==null)return 2;if(11>m.S){var _=m.f.RGBA;_.fb+=(m.height-1)*_.A,_.A=-_.A}else _=m.f.kb,m=m.height,_.O+=(m-1)*_.fa,_.fa=-_.fa,_.N+=(m-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(m-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(m-1)*_.lb,_.lb=-_.lb);return 0}function fs(m,_,E,C){if(C==null||0>=m||0>=_)return 2;if(E!=null){if(E.Da){var D=E.cd,O=E.bd,B=-2&E.v,j=-2&E.j;if(0>B||0>j||0>=D||0>=O||B+D>m||j+O>_)return 2;m=D,_=O}if(E.da){if(!bt(m,_,D=[E.ib],O=[E.hb]))return 2;m=D[0],_=O[0]}}C.width=m,C.height=_;e:{var J=C.width,Z=C.height;if(m=C.S,0>=J||0>=Z||!(m>=Pu&&13>m))m=2;else{if(0>=C.Rd&&C.sd==null){B=O=D=_=0;var pe=(j=J*Gu[m])*Z;if(11>m||(O=(Z+1)/2*(_=(J+1)/2),m==12&&(B=(D=J)*Z)),(Z=a(pe+2*O+B))==null){m=1;break e}C.sd=Z,11>m?((J=C.f.RGBA).eb=Z,J.fb=0,J.A=j,J.size=pe):((J=C.f.kb).y=Z,J.O=0,J.fa=j,J.Fd=pe,J.f=Z,J.N=0+pe,J.Ab=_,J.Cd=O,J.ea=Z,J.W=0+pe+O,J.Db=_,J.Ed=O,m==12&&(J.F=Z,J.J=0+pe+2*O),J.Tc=B,J.lb=D)}if(_=1,D=C.S,O=C.width,B=C.height,D>=Pu&&13>D)if(11>D)m=C.f.RGBA,_&=(j=Math.abs(m.A))*(B-1)+O<=m.size,_&=j>=O*Gu[D],_&=m.eb!=null;else{m=C.f.kb,j=(O+1)/2,pe=(B+1)/2,J=Math.abs(m.fa),Z=Math.abs(m.Ab);var Ae=Math.abs(m.Db),X=Math.abs(m.lb),ye=X*(B-1)+O;_&=J*(B-1)+O<=m.Fd,_&=Z*(pe-1)+j<=m.Cd,_=(_&=Ae*(pe-1)+j<=m.Ed)&J>=O&Z>=j&Ae>=j,_&=m.y!=null,_&=m.f!=null,_&=m.ea!=null,D==12&&(_&=X>=O,_&=ye<=m.Tc,_&=m.F!=null)}else _=0;m=_?0:2}}return m!=0||E!=null&&E.fd&&(m=jl(C)),m}var Uo=64,dr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],rr=24,ks=32,Is=8,so=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(m){return m},V.Predictor2=function(m,_,E){return _[E+0]},V.Predictor3=function(m,_,E){return _[E+1]},V.Predictor4=function(m,_,E){return _[E-1]},V.Predictor5=function(m,_,E){return dt(dt(m,_[E+1]),_[E+0])},V.Predictor6=function(m,_,E){return dt(m,_[E-1])},V.Predictor7=function(m,_,E){return dt(m,_[E+0])},V.Predictor8=function(m,_,E){return dt(_[E-1],_[E+0])},V.Predictor9=function(m,_,E){return dt(_[E+0],_[E+1])},V.Predictor10=function(m,_,E){return dt(dt(m,_[E-1]),dt(_[E+0],_[E+1]))},V.Predictor11=function(m,_,E){var C=_[E+0];return 0>=Pt(C>>24&255,m>>24&255,(_=_[E-1])>>24&255)+Pt(C>>16&255,m>>16&255,_>>16&255)+Pt(C>>8&255,m>>8&255,_>>8&255)+Pt(255&C,255&m,255&_)?C:m},V.Predictor12=function(m,_,E){var C=_[E+0];return(Bt((m>>24&255)+(C>>24&255)-((_=_[E-1])>>24&255))<<24|Bt((m>>16&255)+(C>>16&255)-(_>>16&255))<<16|Bt((m>>8&255)+(C>>8&255)-(_>>8&255))<<8|Bt((255&m)+(255&C)-(255&_)))>>>0},V.Predictor13=function(m,_,E){var C=_[E-1];return(Kt((m=dt(m,_[E+0]))>>24&255,C>>24&255)<<24|Kt(m>>16&255,C>>16&255)<<16|Kt(m>>8&255,C>>8&255)<<8|Kt(255&m,255&C))>>>0};var Ja=V.PredictorAdd0;V.PredictorAdd1=Xt,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var Wa=V.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var ri,Iu=V.ColorIndexInverseTransform,Ls=V.MapARGB,Ms=V.VP8LColorIndexInverseTransformAlpha,Ui=V.MapAlpha,oo=V.VP8LPredictorsAdd=[];oo.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var Ya,Ka,ao,lo,Ps,ua,Cr,uo,$i,Or,gn,ln,Ln,si,Ds,ds,ca,Vl,zc,Jf,Wf,Yf,Gc,jc,fa,Br,$l,Rr,da=a(511),Lu=a(2041),Jl=a(225),Wl=a(767),Mu=0,co=Lu,Yl=Jl,Ji=Wl,Oi=da,Pu=0,Wi=1,Du=2,Fr=3,Kl=4,Xa=5,Oo=6,Xl=7,Uu=8,Za=9,Ou=10,qr=[2,3,7],Qa=[3,3,11],ha=[280,256,256,256,40],Bu=[0,1,1,1,0],Zl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Hr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],zr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Bo=8,Gr=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],jr=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kr=null,Kf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Vc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Fu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Xf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Bi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],On=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],en=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],sr=[],Kn=[],hs=[],Fo=1,$c=2,fo=[],Fi=[];to("UpsampleRgbLinePair",no,3),to("UpsampleBgrLinePair",Ri,3),to("UpsampleRgbaLinePair",ir,4),to("UpsampleBgraLinePair",Rs,4),to("UpsampleArgbLinePair",Va,4),to("UpsampleRgba4444LinePair",Do,2),to("UpsampleRgb565LinePair",Po,2);var pa=V.UpsampleRgbLinePair,Jc=V.UpsampleBgrLinePair,el=V.UpsampleRgbaLinePair,qu=V.UpsampleBgraLinePair,qo=V.UpsampleArgbLinePair,Us=V.UpsampleRgba4444LinePair,Ho=V.UpsampleRgb565LinePair,Vr=16,tl=1<<Vr-1,ga=-227,zo=482,Hu=6,Go=0,qi=a(256),zu=a(256),Zf=a(256),jh=a(256),Vh=a(zo-ga),$h=a(zo-ga);io("YuvToRgbRow",no,3),io("YuvToBgrRow",Ri,3),io("YuvToRgbaRow",ir,4),io("YuvToBgraRow",Rs,4),io("YuvToArgbRow",Va,4),io("YuvToRgba4444Row",Do,2),io("YuvToRgb565Row",Po,2);var oi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nl=[0,2,8],Ql=[8,7,6,4,4,2,2,2,1,1,1,1],eu=1;this.WebPDecodeRGBA=function(m,_,E,C,D){var O=Wi,B=new Ue,j=new Gt;B.ba=j,j.S=O,j.width=[j.width],j.height=[j.height];var J=j.width,Z=j.height,pe=new ut;if(pe==null||m==null)var Ae=2;else e(pe!=null),Ae=cs(m,_,E,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(Ae!=0?J=0:(J!=null&&(J[0]=pe.width[0]),Z!=null&&(Z[0]=pe.height[0]),J=1),J){j.width=j.width[0],j.height=j.height[0],C!=null&&(C[0]=j.width),D!=null&&(D[0]=j.height);e:{if(C=new $s,(D=new He).data=m,D.w=_,D.ha=E,D.kd=1,_=[0],e(D!=null),((m=cs(D.data,D.w,D.ha,null,null,null,_,null,D))==0||m==7)&&_[0]&&(m=4),(_=m)==0){if(e(B!=null),C.data=D.data,C.w=D.w+D.offset,C.ha=D.ha-D.offset,C.put=ht,C.ac=Mr,C.bc=js,C.ma=B,D.xa){if((m=ea())==null){B=1;break e}if((function(X,ye){var _e=[0],Me=[0],xe=[0];t:for(;;){if(X==null)return 0;if(ye==null)return X.a=2,0;if(X.l=ye,X.a=0,le(X.m,ye.data,ye.w,ye.ha),!xs(X.m,_e,Me,xe)){X.a=3;break t}if(X.xb=$c,ye.width=_e[0],ye.height=Me[0],!es(_e[0],Me[0],1,X,null))break t;return 1}return e(X.a!=0),0})(m,C)){if(C=(_=fs(C.width,C.height,B.Oa,B.ba))==0){t:{C=m;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((E=C.l)!=null),e((D=E.ma)!=null),C.xb!=0){if(C.ca=D.ba,C.tb=D.tb,e(C.ca!=null),!ro(D.Oa,E,Fr)){C.a=2;break n}if(!ts(C,E.width)||E.da)break n;if((E.da||Et(C.ca.S))&&ls(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&ls()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!K(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!Sr(C,C.V,C.Ba,C.c,C.i,E.o,er))break n;D.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(_=m.a)}else _=m.a}else{if((m=new ss)==null){B=1;break e}if(m.Fa=D.na,m.P=D.P,m.qc=D.Sa,Es(m,C)){if((_=fs(C.width,C.height,B.Oa,B.ba))==0){if(m.Aa=0,E=B.Oa,e((D=m)!=null),E!=null){if(0<(J=0>(J=E.Md)?0:100<J?255:255*J/100)){for(Z=pe=0;4>Z;++Z)12>(Ae=D.pb[Z]).lc&&(Ae.ia=J*Ql[0>Ae.lc?0:Ae.lc]>>3),pe|=Ae.ia;pe&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=E.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}(function(X,ye){if(X==null)return 0;if(ye==null)return pn(X,2,"NULL VP8Io parameter in VP8Decode().");if(!X.cb&&!Es(X,ye))return 0;if(e(X.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(X.L=0);var _e=nl[X.L];if(X.L==2?(X.yb=0,X.zb=0):(X.yb=ye.v-_e>>4,X.zb=ye.j-_e>>4,0>X.yb&&(X.yb=0),0>X.zb&&(X.zb=0)),X.Va=ye.o+15+_e>>4,X.Hb=ye.va+15+_e>>4,X.Hb>X.za&&(X.Hb=X.za),X.Va>X.Ub&&(X.Va=X.Ub),0<X.L){var Me=X.ed;for(_e=0;4>_e;++_e){var xe;if(X.Qa.Cb){var Le=X.Qa.Lb[_e];X.Qa.Fb||(Le+=Me.Tb)}else Le=Me.Tb;for(xe=0;1>=xe;++xe){var Oe=X.gd[_e][xe],je=Le;if(Me.Pc&&(je+=Me.vd[0],xe&&(je+=Me.od[0])),0<(je=0>je?0:63<je?63:je)){var qe=je;0<Me.wb&&(qe=4<Me.wb?qe>>2:qe>>1)>9-Me.wb&&(qe=9-Me.wb),1>qe&&(qe=1),Oe.dd=qe,Oe.tc=2*je+qe,Oe.ld=40<=je?2:15<=je?1:0}else Oe.tc=0;Oe.La=xe}}}_e=0}else pn(X,6,"Frame setup failed"),_e=X.a;if(_e=_e==0){if(_e){X.$c=0,0<X.Aa||(X.Ic=eu);t:{_e=X.Ic,Me=4*(qe=X.za);var nt=32*qe,Ke=qe+1,Lt=0<X.L?qe*(0<X.Aa?2:1):0,Qe=(X.Aa==2?2:1)*qe;if((Oe=Me+832+(xe=3*(16*_e+nl[X.L])/2*nt)+(Le=X.Fa!=null&&0<X.Fa.length?X.Kc.c*X.Kc.i:0))!=Oe)_e=0;else{if(Oe>X.Vb){if(X.Vb=0,X.Ec=a(Oe),X.Fc=0,X.Ec==null){_e=pn(X,1,"no memory during frame initialization.");break t}X.Vb=Oe}Oe=X.Ec,je=X.Fc,X.Ac=Oe,X.Bc=je,je+=Me,X.Gd=l(nt,Il),X.Hd=0,X.rb=l(Ke+1,rs),X.sb=1,X.wa=Lt?l(Lt,xr):null,X.Y=0,X.D.Nb=0,X.D.wa=X.wa,X.D.Y=X.Y,0<X.Aa&&(X.D.Y+=qe),e(!0),X.oc=Oe,X.pc=je,je+=832,X.ya=l(Qe,Rl),X.aa=0,X.D.ya=X.ya,X.D.aa=X.aa,X.Aa==2&&(X.D.aa+=qe),X.R=16*qe,X.B=8*qe,qe=(nt=nl[X.L])*X.R,nt=nt/2*X.B,X.sa=Oe,X.ta=je+qe,X.qa=X.sa,X.ra=X.ta+16*_e*X.R+nt,X.Ha=X.qa,X.Ia=X.ra+8*_e*X.B+nt,X.$c=0,je+=xe,X.mb=Le?Oe:null,X.nb=Le?je:null,e(je+Le<=X.Fc+X.Vb),Ml(X),s(X.Ac,X.Bc,0,Me),_e=1}}if(_e){if(ye.ka=0,ye.y=X.sa,ye.O=X.ta,ye.f=X.qa,ye.N=X.ra,ye.ea=X.Ha,ye.Vd=X.Ia,ye.fa=X.R,ye.Rc=X.B,ye.F=null,ye.J=0,!Mu){for(_e=-255;255>=_e;++_e)da[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)Lu[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)Jl[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)Wl[255+_e]=0>_e?0:255<_e?255:_e;Mu=1}Cr=os,uo=Pl,Or=nr,gn=Dl,ln=Ul,$i=Su,Ln=Ru,si=Qs,Ds=P,ds=Q,ca=ku,Vl=A,zc=fe,Jf=be,Wf=Ys,Yf=Ks,Gc=aa,jc=Hl,Kn[0]=Nu,Kn[1]=xu,Kn[2]=Tu,Kn[3]=Fl,Kn[4]=Er,Kn[5]=ql,Kn[6]=Pi,Kn[7]=ra,Kn[8]=sa,Kn[9]=Tr,sr[0]=as,sr[1]=Ol,sr[2]=Bl,sr[3]=Eu,sr[4]=Js,sr[5]=ia,sr[6]=Mo,hs[0]=Ha,hs[1]=Au,hs[2]=Ts,hs[3]=Cu,hs[4]=Ci,hs[5]=za,hs[6]=Ns,_e=1}else _e=0}_e&&(_e=(function(Qt,Bn){for(Qt.M=0;Qt.M<Qt.Va;++Qt.M){var qt,Xe=Qt.Jc[Qt.M&Qt.Xb],Ve=Qt.m,Vn=Qt;for(qt=0;qt<Vn.za;++qt){var At=Ve,jt=Vn,wn=jt.Ac,Si=jt.Bc+4*qt,Hi=jt.zc,Mn=jt.ya[jt.aa+qt];if(jt.Qa.Bb?Mn.$b=De(At,jt.Pa.jb[0])?2+De(At,jt.Pa.jb[2]):De(At,jt.Pa.jb[1]):Mn.$b=0,jt.kc&&(Mn.Ad=De(At,jt.Bd)),Mn.Za=!De(At,145)+0,Mn.Za){var di=Mn.Ob,Yi=0;for(jt=0;4>jt;++jt){var hi,Wt=Hi[0+jt];for(hi=0;4>hi;++hi){Wt=Bi[wn[Si+hi]][Wt];for(var fn=Fu[De(At,Wt[0])];0<fn;)fn=Fu[2*fn+De(At,Wt[fn])];Wt=-fn,wn[Si+hi]=Wt}i(di,Yi,wn,Si,4),Yi+=4,Hi[0+jt]=Wt}}else Wt=De(At,156)?De(At,128)?1:3:De(At,163)?2:0,Mn.Ob[0]=Wt,s(wn,Si,Wt,4),s(Hi,0,Wt,4);Mn.Dd=De(At,142)?De(At,114)?De(At,183)?1:3:2:0}if(Vn.m.Ka)return pn(Qt,7,"Premature end-of-partition0 encountered.");for(;Qt.ja<Qt.za;++Qt.ja){if(Vn=Xe,At=(Ve=Qt).rb[Ve.sb-1],wn=Ve.rb[Ve.sb+Ve.ja],qt=Ve.ya[Ve.aa+Ve.ja],Si=Ve.kc?qt.Ad:0)At.la=wn.la=0,qt.Za||(At.Na=wn.Na=0),qt.Hc=0,qt.Gc=0,qt.ia=0;else{var $n,mn;if(At=wn,wn=Vn,Si=Ve.Pa.Xc,Hi=Ve.ya[Ve.aa+Ve.ja],Mn=Ve.pb[Hi.$b],jt=Hi.ad,di=0,Yi=Ve.rb[Ve.sb-1],Wt=hi=0,s(jt,di,0,384),Hi.Za)var xi=0,Jn=Si[3];else{fn=a(16);var dn=At.Na+Yi.Na;if(dn=kr(wn,Si[1],dn,Mn.Eb,0,fn,0),At.Na=Yi.Na=(0<dn)+0,1<dn)Cr(fn,0,jt,di);else{var ai=fn[0]+3>>3;for(fn=0;256>fn;fn+=16)jt[di+fn]=ai}xi=1,Jn=Si[0]}var _n=15&At.la,pi=15&Yi.la;for(fn=0;4>fn;++fn){var gi=1&pi;for(ai=mn=0;4>ai;++ai)_n=_n>>1|(gi=(dn=kr(wn,Jn,dn=gi+(1&_n),Mn.Sc,xi,jt,di))>xi)<<7,mn=mn<<2|(3<dn?3:1<dn?2:jt[di+0]!=0),di+=16;_n>>=4,pi=pi>>1|gi<<7,hi=(hi<<8|mn)>>>0}for(Jn=_n,xi=pi>>4,$n=0;4>$n;$n+=2){for(mn=0,_n=At.la>>4+$n,pi=Yi.la>>4+$n,fn=0;2>fn;++fn){for(gi=1&pi,ai=0;2>ai;++ai)dn=gi+(1&_n),_n=_n>>1|(gi=0<(dn=kr(wn,Si[2],dn,Mn.Qc,0,jt,di)))<<3,mn=mn<<2|(3<dn?3:1<dn?2:jt[di+0]!=0),di+=16;_n>>=2,pi=pi>>1|gi<<5}Wt|=mn<<4*$n,Jn|=_n<<4<<$n,xi|=(240&pi)<<$n}At.la=Jn,Yi.la=xi,Hi.Hc=hi,Hi.Gc=Wt,Hi.ia=43690&Wt?0:Mn.ia,Si=!(hi|Wt)}if(0<Ve.L&&(Ve.wa[Ve.Y+Ve.ja]=Ve.gd[qt.$b][qt.Za],Ve.wa[Ve.Y+Ve.ja].La|=!Si),Vn.Ka)return pn(Qt,7,"Premature end-of-file encountered.")}if(Ml(Qt),Ve=Bn,Vn=1,qt=(Xe=Qt).D,At=0<Xe.L&&Xe.M>=Xe.zb&&Xe.M<=Xe.Va,Xe.Aa==0)t:{if(qt.M=Xe.M,qt.uc=At,Nr(Xe,qt),Vn=1,qt=(mn=Xe.D).Nb,At=(Wt=nl[Xe.L])*Xe.R,wn=Wt/2*Xe.B,fn=16*qt*Xe.R,ai=8*qt*Xe.B,Si=Xe.sa,Hi=Xe.ta-At+fn,Mn=Xe.qa,jt=Xe.ra-wn+ai,di=Xe.Ha,Yi=Xe.Ia-wn+ai,pi=(_n=mn.M)==0,hi=_n>=Xe.Va-1,Xe.Aa==2&&Nr(Xe,mn),mn.uc)for(gi=(dn=Xe).D.M,e(dn.D.uc),mn=dn.yb;mn<dn.Hb;++mn){xi=mn,Jn=gi;var En=(un=(mi=dn).D).Nb;$n=mi.R;var un=un.wa[un.Y+xi],Ki=mi.sa,Xn=mi.ta+16*En*$n+16*xi,pt=un.dd,vt=un.tc;if(vt!=0)if(e(3<=vt),mi.L==1)0<xi&&Yf(Ki,Xn,$n,vt+4),un.La&&jc(Ki,Xn,$n,vt),0<Jn&&Wf(Ki,Xn,$n,vt+4),un.La&&Gc(Ki,Xn,$n,vt);else{var hn=mi.B,hr=mi.qa,$r=mi.ra+8*En*hn+8*xi,or=mi.Ha,mi=mi.Ia+8*En*hn+8*xi;En=un.ld,0<xi&&(si(Ki,Xn,$n,vt+4,pt,En),ds(hr,$r,or,mi,hn,vt+4,pt,En)),un.La&&(Vl(Ki,Xn,$n,vt,pt,En),Jf(hr,$r,or,mi,hn,vt,pt,En)),0<Jn&&(Ln(Ki,Xn,$n,vt+4,pt,En),Ds(hr,$r,or,mi,hn,vt+4,pt,En)),un.La&&(ca(Ki,Xn,$n,vt,pt,En),zc(hr,$r,or,mi,hn,vt,pt,En))}}if(Xe.ia&&alert("todo:DitherRow"),Ve.put!=null){if(mn=16*_n,_n=16*(_n+1),pi?(Ve.y=Xe.sa,Ve.O=Xe.ta+fn,Ve.f=Xe.qa,Ve.N=Xe.ra+ai,Ve.ea=Xe.Ha,Ve.W=Xe.Ia+ai):(mn-=Wt,Ve.y=Si,Ve.O=Hi,Ve.f=Mn,Ve.N=jt,Ve.ea=di,Ve.W=Yi),hi||(_n-=Wt),_n>Ve.o&&(_n=Ve.o),Ve.F=null,Ve.J=null,Xe.Fa!=null&&0<Xe.Fa.length&&mn<_n&&(Ve.J=In(Xe,Ve,mn,_n-mn),Ve.F=Xe.mb,Ve.F==null&&Ve.F.length==0)){Vn=pn(Xe,3,"Could not decode alpha data.");break t}mn<Ve.j&&(Wt=Ve.j-mn,mn=Ve.j,e(!(1&Wt)),Ve.O+=Xe.R*Wt,Ve.N+=Xe.B*(Wt>>1),Ve.W+=Xe.B*(Wt>>1),Ve.F!=null&&(Ve.J+=Ve.width*Wt)),mn<_n&&(Ve.O+=Ve.v,Ve.N+=Ve.v>>1,Ve.W+=Ve.v>>1,Ve.F!=null&&(Ve.J+=Ve.v),Ve.ka=mn-Ve.j,Ve.U=Ve.va-Ve.v,Ve.T=_n-mn,Vn=Ve.put(Ve))}qt+1!=Xe.Ic||hi||(i(Xe.sa,Xe.ta-At,Si,Hi+16*Xe.R,At),i(Xe.qa,Xe.ra-wn,Mn,jt+8*Xe.B,wn),i(Xe.Ha,Xe.Ia-wn,di,Yi+8*Xe.B,wn))}if(!Vn)return pn(Qt,6,"Output aborted.")}return 1})(X,ye)),ye.bc!=null&&ye.bc(ye),_e&=1}return _e?(X.cb=0,_e):0})(m,C)||(_=m.a)}}else _=m.a}_==0&&B.Oa!=null&&B.Oa.fd&&(_=jl(B.ba))}B=_}O=B!=0?null:11>O?j.f.RGBA.eb:j.f.kb.y}else O=null;return O};var Gu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(V,ge){for(var q="",W=0;W<4;W++)q+=String.fromCharCode(V[ge++]);return q}function p(V,ge){return V[ge+0]|V[ge+1]<<8}function w(V,ge){return(V[ge+0]|V[ge+1]<<8|V[ge+2]<<16)>>>0}function S(V,ge){return(V[ge+0]|V[ge+1]<<8|V[ge+2]<<16|V[ge+3]<<24)>>>0}new d;var b=[0],N=[0],T=[],k=new d,I=t,F=(function(V,ge){var q={},W=0,ie=!1,te=0,Se=0;if(q.frames=[],!(function(M,G){for(var Y=0;Y<4;Y++)if(M[G+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(V,ge)){for(S(V,ge+=4),ge+=8;ge<V.length;){var ee=f(V,ge),ce=S(V,ge+=4);ge+=4;var he=ce+(1&ce);switch(ee){case"VP8 ":case"VP8L":q.frames[W]===void 0&&(q.frames[W]={}),($=q.frames[W]).src_off=ie?Se:ge-8,$.src_size=te+ce+8,W++,ie&&(ie=!1,te=0,Se=0);break;case"VP8X":($=q.header={}).feature_flags=V[ge];var le=ge+4;$.canvas_width=1+w(V,le),le+=3,$.canvas_height=1+w(V,le),le+=3;break;case"ALPH":ie=!0,te=he+8,Se=ge-8;break;case"ANIM":($=q.header).bgcolor=S(V,ge),le=ge+4,$.loop_count=p(V,le),le+=2;break;case"ANMF":var ke,$;($=q.frames[W]={}).offset_x=2*w(V,ge),ge+=3,$.offset_y=2*w(V,ge),ge+=3,$.width=1+w(V,ge),ge+=3,$.height=1+w(V,ge),ge+=3,$.duration=w(V,ge),ge+=3,ke=V[ge++],$.dispose=1&ke,$.blend=ke>>1&1}ee!="ANMF"&&(ge+=he)}return q}})(I,0);F.response=I,F.rgbaoutput=!0,F.dataurl=!1;var U=F.header?F.header:null,H=F.frames?F.frames:null;if(U){U.loop_counter=U.loop_count,b=[U.canvas_height],N=[U.canvas_width];for(var ae=0;ae<H.length&&H[ae].blend!=0;ae++);}var de=H[0],re=k.WebPDecodeRGBA(I,de.src_off,de.src_size,N,b);de.rgba=re,de.imgwidth=N[0],de.imgheight=b[0];for(var se=0;se<N[0]*b[0]*4;se++)T[se]=re[se];return this.width=N,this.height=b,this.data=T,this}(function(t){var e,n,i,s,a,l,c,d,f,p=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new d,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new l,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new l,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,f=new p}]);var w=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=M;Object.defineProperty(this,"pdf",{get:function(){return G}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(K){Y=!!K}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(K){ne=!!K}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(K){isNaN(K)||(oe=K)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(K){isNaN(K)||(ve=K)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(K){var $e;typeof K=="number"?$e=[K,K,K,K]:(($e=new Array(4))[0]=K[0],$e[1]=K.length>=2?K[1]:$e[0],$e[2]=K.length>=3?K[2]:$e[0],$e[3]=K.length>=4?K[3]:$e[1]),f.margin=$e}});var Te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Te},set:function(K){Te=K}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(K){Ce=K}});var De=[];Object.defineProperty(this,"pageBreaks",{get:function(){return De},set:function(K){De=K}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(K){K instanceof p&&(f=K)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(K){f.path=K}});var Ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ge},set:function(K){Ge=K}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(K){var $e;$e=S(K),this.ctx.fillStyle=$e.style,this.ctx.isFillTransparent=$e.a===0,this.ctx.fillOpacity=$e.a,this.pdf.setFillColor($e.r,$e.g,$e.b,{a:$e.a}),this.pdf.setTextColor($e.r,$e.g,$e.b,{a:$e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(K){var $e=S(K);this.ctx.strokeStyle=$e.style,this.ctx.isStrokeTransparent=$e.a===0,this.ctx.strokeOpacity=$e.a,$e.a===0?this.pdf.setDrawColor(255,255,255):($e.a,this.pdf.setDrawColor($e.r,$e.g,$e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(K){["butt","round","square"].indexOf(K)!==-1&&(this.ctx.lineCap=K,this.pdf.setLineCap(K))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(K){isNaN(K)||(this.ctx.lineWidth=K,this.pdf.setLineWidth(K))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(K){["bevel","round","miter"].indexOf(K)!==-1&&(this.ctx.lineJoin=K,this.pdf.setLineJoin(K))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(K){isNaN(K)||(this.ctx.miterLimit=K,this.pdf.setMiterLimit(K))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(K){this.ctx.textBaseline=K}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(K){["right","end","center","left","start"].indexOf(K)!==-1&&(this.ctx.textAlign=K)}});var Je=null,We=null,rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return rt},set:function(K){Je=null,We=null,rt=K}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(K){var $e;if(this.ctx.font=K,($e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(K))!==null){var Vt=$e[1];$e[2];var bt=$e[3],ze=$e[4];$e[5];var gt=$e[6],Ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(Ze==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:Ze==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var wt=(function(lt){var ti,Yt,_t=[],kt=lt.trim();if(kt==="")return C0;if(kt in My)return[My[kt]];for(;kt!=="";){switch(Yt=null,ti=(kt=Dy(kt)).charAt(0)){case'"':case"'":Yt=QT(kt.substring(1),ti);break;default:Yt=e4(kt)}if(Yt===null||(_t.push(Yt[0]),(kt=Dy(Yt[1]))!==""&&kt.charAt(0)!==","))return C0;kt=kt.replace(/^,/,"")}return _t})(gt);if(this.fontFaces){var dt=(function(lt,ti){var Yt=lt.getFontList(),_t=JSON.stringify(Yt);if(Je===null||We!==_t){var kt=(function(Zt){var mt=[];return Object.keys(Zt).forEach(function(kn){Zt[kn].forEach(function(Et){var It=null;switch(Et){case"bold":It={family:kn,weight:"bold"};break;case"italic":It={family:kn,style:"italic"};break;case"bolditalic":It={family:kn,weight:"bold",style:"italic"};break;case"":case"normal":It={family:kn}}It!==null&&(It.ref={name:kn,style:Et},mt.push(It))})}),mt})(Yt);Je=(function(Zt){for(var mt={},kn=0;kn<Zt.length;++kn){var Et=N0(Zt[kn]),It=Et.family,xn=Et.stretch,Gt=Et.style,ut=Et.weight;mt[It]=mt[It]||{},mt[It][xn]=mt[It][xn]||{},mt[It][xn][Gt]=mt[It][xn][Gt]||{},mt[It][xn][Gt][ut]=Et}return mt})(kt.concat(ti)),We=_t}return Je})(this.pdf,this.fontFaces),Bt=wt.map(function(lt){return{family:lt,stretch:"normal",weight:bt,style:Vt}}),Kt=(function(lt,ti,Yt){for(var _t=(Yt=Yt||{}).defaultFontFamily||"times",kt=Object.assign({},ZT,Yt.genericFontFamilies||{}),Zt=null,mt=null,kn=0;kn<ti.length;++kn)if(kt[(Zt=N0(ti[kn])).family]&&(Zt.family=kt[Zt.family]),lt.hasOwnProperty(Zt.family)){mt=lt[Zt.family];break}if(!(mt=mt||lt[_t]))throw new Error("Could not find a font-family for the rule '"+Py(Zt)+"' and default family '"+_t+"'.");if(mt=(function(Et,It){if(It[Et])return It[Et];var xn=ag[Et],Gt=xn<=ag.normal?-1:1,ut=Ly(It,ew,xn,Gt);if(!ut)throw new Error("Could not find a matching font-stretch value for "+Et);return ut})(Zt.stretch,mt),mt=(function(Et,It){if(It[Et])return It[Et];for(var xn=Qb[Et],Gt=0;Gt<xn.length;++Gt)if(It[xn[Gt]])return It[xn[Gt]];throw new Error("Could not find a matching font-style for "+Et)})(Zt.style,mt),!(mt=(function(Et,It){if(It[Et])return It[Et];if(Et===400&&It[500])return It[500];if(Et===500&&It[400])return It[400];var xn=XT[Et],Gt=Ly(It,tw,xn,Et<400?-1:1);if(!Gt)throw new Error("Could not find a matching font-weight for value "+Et);return Gt})(Zt.weight,mt)))throw new Error("Failed to resolve a font for the rule '"+Py(Zt)+"'.");return mt})(dt,Bt);this.pdf.setFont(Kt.ref.name,Kt.ref.style)}else{var Pt="";(bt==="bold"||parseInt(bt,10)>=700||Vt==="bold")&&(Pt="bold"),Vt==="italic"&&(Pt+="italic"),Pt.length===0&&(Pt="normal");for(var Xt="",$t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<wt.length;st++){if(this.pdf.internal.getFont(wt[st],Pt,{noFallback:!0,disableWarning:!0})!==void 0){Xt=wt[st];break}if(Pt==="bolditalic"&&this.pdf.internal.getFont(wt[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Xt=wt[st],Pt="bold";else if(this.pdf.internal.getFont(wt[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Xt=wt[st],Pt="normal";break}}if(Xt===""){for(var Dt=0;Dt<wt.length;Dt++)if($t[wt[Dt]]){Xt=$t[wt[Dt]];break}}Xt=Xt===""?"Times":Xt,this.pdf.setFont(Xt,Pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(K){this.ctx.globalCompositeOperation=K}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(K){this.ctx.globalAlpha=K}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(K){this.ctx.lineDashOffset=K,$.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(K){this.ctx.lineDash=K,$.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(K){this.ctx.ignoreClearRect=!!K}})};w.prototype.setLineDash=function(M){this.lineDash=M},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){H.call(this,"fill",!1)},w.prototype.stroke=function(){H.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(M,G){if(isNaN(M)||isNaN(G))throw qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new l(M,G));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new l(M,G)},w.prototype.closePath=function(){var M=new l(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Rn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){M=new l(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(M.x,M.y)},w.prototype.lineTo=function(M,G){if(isNaN(M)||isNaN(G))throw qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new l(M,G));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new l(Y.x,Y.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},w.prototype.quadraticCurveTo=function(M,G,Y,ne){if(isNaN(Y)||isNaN(ne)||isNaN(M)||isNaN(G))throw qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new l(Y,ne)),ve=this.ctx.transform.applyToPoint(new l(M,G));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new l(oe.x,oe.y)},w.prototype.bezierCurveTo=function(M,G,Y,ne,oe,ve){if(isNaN(oe)||isNaN(ve)||isNaN(M)||isNaN(G)||isNaN(Y)||isNaN(ne))throw qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Te=this.ctx.transform.applyToPoint(new l(oe,ve)),Ce=this.ctx.transform.applyToPoint(new l(M,G)),De=this.ctx.transform.applyToPoint(new l(Y,ne));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:De.x,y2:De.y,x:Te.x,y:Te.y}),this.ctx.lastPoint=new l(Te.x,Te.y)},w.prototype.arc=function(M,G,Y,ne,oe,ve){if(isNaN(M)||isNaN(G)||isNaN(Y)||isNaN(ne)||isNaN(oe))throw qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var Te=this.ctx.transform.applyToPoint(new l(M,G));M=Te.x,G=Te.y;var Ce=this.ctx.transform.applyToPoint(new l(0,Y)),De=this.ctx.transform.applyToPoint(new l(0,0));Y=Math.sqrt(Math.pow(Ce.x-De.x,2)+Math.pow(Ce.y-De.y,2))}Math.abs(oe-ne)>=2*Math.PI&&(ne=0,oe=2*Math.PI),this.path.push({type:"arc",x:M,y:G,radius:Y,startAngle:ne,endAngle:oe,counterclockwise:ve})},w.prototype.arcTo=function(M,G,Y,ne,oe){throw new Error("arcTo not implemented.")},w.prototype.rect=function(M,G,Y,ne){if(isNaN(M)||isNaN(G)||isNaN(Y)||isNaN(ne))throw qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,G),this.lineTo(M+Y,G),this.lineTo(M+Y,G+ne),this.lineTo(M,G+ne),this.lineTo(M,G),this.lineTo(M+Y,G),this.lineTo(M,G)},w.prototype.fillRect=function(M,G,Y,ne){if(isNaN(M)||isNaN(G)||isNaN(Y)||isNaN(ne))throw qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,G,Y,ne),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},w.prototype.strokeRect=function(M,G,Y,ne){if(isNaN(M)||isNaN(G)||isNaN(Y)||isNaN(ne))throw qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(M,G,Y,ne),this.stroke())},w.prototype.clearRect=function(M,G,Y,ne){if(isNaN(M)||isNaN(G)||isNaN(Y)||isNaN(ne))throw qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,G,Y,ne))},w.prototype.save=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},w.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(G),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(M){var G,Y,ne,oe;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))G=0,Y=0,ne=0,oe=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ve!==null)G=parseInt(ve[1]),Y=parseInt(ve[2]),ne=parseInt(ve[3]),oe=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)G=parseInt(ve[1]),Y=parseInt(ve[2]),ne=parseInt(ve[3]),oe=parseFloat(ve[4]);else{if(oe=1,typeof M=="string"&&M.charAt(0)!=="#"){var Te=new $b(M);M=Te.ok?Te.toHex():"#000000"}M.length===4?(G=M.substring(1,2),G+=G,Y=M.substring(2,3),Y+=Y,ne=M.substring(3,4),ne+=ne):(G=M.substring(1,3),Y=M.substring(3,5),ne=M.substring(5,7)),G=parseInt(G,16),Y=parseInt(Y,16),ne=parseInt(ne,16)}}return{r:G,g:Y,b:ne,a:oe,style:M}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(M,G,Y,ne){if(isNaN(G)||isNaN(Y)||typeof M!="string")throw qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!b.call(this)){var oe=he(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;W.call(this,{text:M,x:G,y:Y,scale:ve,angle:oe,align:this.textAlign,maxWidth:ne})}},w.prototype.strokeText=function(M,G,Y,ne){if(isNaN(G)||isNaN(Y)||typeof M!="string")throw qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){ne=isNaN(ne)?void 0:ne;var oe=he(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;W.call(this,{text:M,x:G,y:Y,scale:ve,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ne})}},w.prototype.measureText=function(M){if(typeof M!="string")throw qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,Y=this.pdf.internal.scaleFactor,ne=G.internal.getFontSize(),oe=G.getStringUnitWidth(M)*ne/G.internal.scaleFactor;return new function(ve){var Te=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Te}}),this}({width:oe*=Math.round(96*Y/72*1e4)/1e4})},w.prototype.scale=function(M,G){if(isNaN(M)||isNaN(G))throw qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new d(M,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},w.prototype.rotate=function(M){if(isNaN(M))throw qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new d(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},w.prototype.translate=function(M,G){if(isNaN(M)||isNaN(G))throw qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new d(1,0,0,1,M,G);this.ctx.transform=this.ctx.transform.multiply(Y)},w.prototype.transform=function(M,G,Y,ne,oe,ve){if(isNaN(M)||isNaN(G)||isNaN(Y)||isNaN(ne)||isNaN(oe)||isNaN(ve))throw qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Te=new d(M,G,Y,ne,oe,ve);this.ctx.transform=this.ctx.transform.multiply(Te)},w.prototype.setTransform=function(M,G,Y,ne,oe,ve){M=isNaN(M)?1:M,G=isNaN(G)?0:G,Y=isNaN(Y)?0:Y,ne=isNaN(ne)?1:ne,oe=isNaN(oe)?0:oe,ve=isNaN(ve)?0:ve,this.ctx.transform=new d(M,G,Y,ne,oe,ve)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(M,G,Y,ne,oe,ve,Te,Ce,De){var Ge=this.pdf.getImageProperties(M),Je=1,We=1,rt=1,K=1;ne!==void 0&&Ce!==void 0&&(rt=Ce/ne,K=De/oe,Je=Ge.width/ne*Ce/ne,We=Ge.height/oe*De/oe),ve===void 0&&(ve=G,Te=Y,G=0,Y=0),ne!==void 0&&Ce===void 0&&(Ce=ne,De=oe),ne===void 0&&Ce===void 0&&(Ce=Ge.width,De=Ge.height);var $e=this.ctx.transform.decompose(),Vt=he($e.rotate.shx),bt=new d,ze=(bt=(bt=(bt=bt.multiply($e.translate)).multiply($e.skew)).multiply($e.scale)).applyToRectangle(new c(ve-G*rt,Te-Y*K,ne*Je,oe*We));if(this.autoPaging){for(var gt,Ze=k.call(this,ze),wt=[],dt=0;dt<Ze.length;dt+=1)wt.indexOf(Ze[dt])===-1&&wt.push(Ze[dt]);U(wt);for(var Bt=wt[0],Kt=wt[wt.length-1],Pt=Bt;Pt<Kt+1;Pt++){this.pdf.setPage(Pt);var Xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=Pt===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=Pt===1?0:st+(Pt-2)*Dt;if(this.ctx.clip_path.length!==0){var ti=this.path;gt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(gt,this.posX+this.margin[3],-lt+$t+this.ctx.prevPageLastElemOffset),ae.call(this,"fill",!0),this.path=ti}var Yt=JSON.parse(JSON.stringify(ze));Yt=F([Yt],this.posX+this.margin[3],-lt+$t+this.ctx.prevPageLastElemOffset)[0];var _t=(Pt>Bt||Pt<Kt)&&T.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,Dt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,Vt),_t&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,Vt)};var k=function(M,G,Y){var ne=[];G=G||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ne.push(Math.floor((M.y+oe)/Y)+1);break;case"arc":ne.push(Math.floor((M.y+oe-M.radius)/Y)+1),ne.push(Math.floor((M.y+oe+M.radius)/Y)+1);break;case"qct":var ve=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ne.push(Math.floor((ve.y+oe)/Y)+1),ne.push(Math.floor((ve.y+ve.h+oe)/Y)+1);break;case"bct":var Te=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ne.push(Math.floor((Te.y+oe)/Y)+1),ne.push(Math.floor((Te.y+Te.h+oe)/Y)+1);break;case"rect":ne.push(Math.floor((M.y+oe)/Y)+1),ne.push(Math.floor((M.y+M.h+oe)/Y)+1)}for(var Ce=0;Ce<ne.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<ne[Ce];)I.call(this);return ne},I=function(){var M=this.fillStyle,G=this.strokeStyle,Y=this.font,ne=this.lineCap,oe=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=G,this.font=Y,this.lineCap=ne,this.lineWidth=oe,this.lineJoin=ve},F=function(M,G,Y){for(var ne=0;ne<M.length;ne++)switch(M[ne].type){case"bct":M[ne].x2+=G,M[ne].y2+=Y;case"qct":M[ne].x1+=G,M[ne].y1+=Y;default:M[ne].x+=G,M[ne].y+=Y}return M},U=function(M){return M.sort(function(G,Y){return G-Y})},H=function(M,G){var Y=this.fillStyle,ne=this.strokeStyle,oe=this.lineCap,ve=this.lineWidth,Te=Math.abs(ve*this.ctx.transform.scaleX),Ce=this.lineJoin;if(this.autoPaging){for(var De,Ge,Je=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),rt=[],K=0;K<We.length;K++)if(We[K].x!==void 0)for(var $e=k.call(this,We[K]),Vt=0;Vt<$e.length;Vt+=1)rt.indexOf($e[Vt])===-1&&rt.push($e[Vt]);for(var bt=0;bt<rt.length;bt++)for(;this.pdf.internal.getNumberOfPages()<rt[bt];)I.call(this);U(rt);for(var ze=rt[0],gt=rt[rt.length-1],Ze=ze;Ze<gt+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=Y,this.strokeStyle=ne,this.lineCap=oe,this.lineWidth=Te,this.lineJoin=Ce;var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=Ze===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pt=Ze===1?0:Bt+(Ze-2)*Kt;if(this.ctx.clip_path.length!==0){var Xt=this.path;De=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(De,this.posX+this.margin[3],-Pt+dt+this.ctx.prevPageLastElemOffset),ae.call(this,M,!0),this.path=Xt}if(Ge=JSON.parse(JSON.stringify(Je)),this.path=F(Ge,this.posX+this.margin[3],-Pt+dt+this.ctx.prevPageLastElemOffset),G===!1||Ze===0){var $t=(Ze>ze||Ze<gt)&&T.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Kt,null).clip().discardPath()),ae.call(this,M,G),$t&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}this.path=Je}else this.lineWidth=Te,ae.call(this,M,G),this.lineWidth=ve},ae=function(M,G){if((M!=="stroke"||G||!N.call(this))&&(M==="stroke"||G||!b.call(this))){for(var Y,ne,oe=[],ve=this.path,Te=0;Te<ve.length;Te++){var Ce=ve[Te];switch(Ce.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:Ce,deltas:[],abs:[]});break;case"lt":var De=oe.length;if(ve[Te-1]&&!isNaN(ve[Te-1].x)&&(Y=[Ce.x-ve[Te-1].x,Ce.y-ve[Te-1].y],De>0)){for(;De>=0;De--)if(oe[De-1].close!==!0&&oe[De-1].begin!==!0){oe[De-1].deltas.push(Y),oe[De-1].abs.push(Ce);break}}break;case"bct":Y=[Ce.x1-ve[Te-1].x,Ce.y1-ve[Te-1].y,Ce.x2-ve[Te-1].x,Ce.y2-ve[Te-1].y,Ce.x-ve[Te-1].x,Ce.y-ve[Te-1].y],oe[oe.length-1].deltas.push(Y);break;case"qct":var Ge=ve[Te-1].x+2/3*(Ce.x1-ve[Te-1].x),Je=ve[Te-1].y+2/3*(Ce.y1-ve[Te-1].y),We=Ce.x+2/3*(Ce.x1-Ce.x),rt=Ce.y+2/3*(Ce.y1-Ce.y),K=Ce.x,$e=Ce.y;Y=[Ge-ve[Te-1].x,Je-ve[Te-1].y,We-ve[Te-1].x,rt-ve[Te-1].y,K-ve[Te-1].x,$e-ve[Te-1].y],oe[oe.length-1].deltas.push(Y);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(Ce)}}ne=G?null:M==="stroke"?"stroke":"fill";for(var Vt=!1,bt=0;bt<oe.length;bt++)if(oe[bt].arc)for(var ze=oe[bt].abs,gt=0;gt<ze.length;gt++){var Ze=ze[gt];Ze.type==="arc"?se.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,G,!Vt):ie.call(this,Ze.x,Ze.y),Vt=!0}else if(oe[bt].close===!0)this.pdf.internal.out("h"),Vt=!1;else if(oe[bt].begin!==!0){var wt=oe[bt].start.x,dt=oe[bt].start.y;te.call(this,oe[bt].deltas,wt,dt),Vt=!0}ne&&V.call(this,ne),G&&ge.call(this)}},de=function(M){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Y;case"top":return M+G-Y;case"hanging":return M+G-2*Y;case"middle":return M+G/2-Y;default:return M}},re=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(G,Y){this.colorStops.push([G,Y])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var se=function(M,G,Y,ne,oe,ve,Te,Ce,De){for(var Ge=ee.call(this,Y,ne,oe,ve),Je=0;Je<Ge.length;Je++){var We=Ge[Je];Je===0&&(De?q.call(this,We.x1+M,We.y1+G):ie.call(this,We.x1+M,We.y1+G)),Se.call(this,M,G,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}Ce?ge.call(this):V.call(this,Te)},V=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ge=function(){this.pdf.clip(),this.pdf.discardPath()},q=function(M,G){this.pdf.internal.out(n(M)+" "+i(G)+" m")},W=function(M){var G;switch(M.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var Y,ne,oe,ve=this.pdf.getTextDimensions(M.text),Te=de.call(this,M.y),Ce=re.call(this,Te)-ve.h,De=this.ctx.transform.applyToPoint(new l(M.x,Te));if(this.autoPaging){var Ge=this.ctx.transform.decompose(),Je=new d;Je=(Je=(Je=Je.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale);for(var We=this.ctx.transform.applyToRectangle(new c(M.x,Te,ve.w,ve.h)),rt=Je.applyToRectangle(new c(M.x,Ce,ve.w,ve.h)),K=k.call(this,rt),$e=[],Vt=0;Vt<K.length;Vt+=1)$e.indexOf(K[Vt])===-1&&$e.push(K[Vt]);U($e);for(var bt=$e[0],ze=$e[$e.length-1],gt=bt;gt<ze+1;gt++){this.pdf.setPage(gt);var Ze=gt===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[2],Bt=dt-this.margin[0],Kt=this.pdf.internal.pageSize.width-this.margin[1],Pt=Kt-this.margin[3],Xt=gt===1?0:wt+(gt-2)*Bt;if(this.ctx.clip_path.length!==0){var $t=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(Y,this.posX+this.margin[3],-1*Xt+Ze),ae.call(this,"fill",!0),this.path=$t}var st=F([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-Xt+Ze+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*M.scale),oe=this.lineWidth,this.lineWidth=oe*M.scale);var Dt=this.autoPaging!=="text";if(Dt||st.y+st.h<=dt){if(Dt||st.y>=Ze&&st.x<=Kt){var lt=Dt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Kt-st.x)[0],ti=F([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-Xt+Ze+this.ctx.prevPageLastElemOffset)[0],Yt=Dt&&(gt>bt||gt<ze)&&T.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,Bt,null).clip().discardPath()),this.pdf.text(lt,ti.x,ti.y,{angle:M.angle,align:G,renderingMode:M.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else st.y<dt&&(this.ctx.prevPageLastElemOffset+=dt-st.y);M.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=oe)}}else M.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*M.scale),oe=this.lineWidth,this.lineWidth=oe*M.scale),this.pdf.text(M.text,De.x+this.posX,De.y+this.posY,{angle:M.angle,align:G,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=oe)},ie=function(M,G,Y,ne){Y=Y||0,ne=ne||0,this.pdf.internal.out(n(M+Y)+" "+i(G+ne)+" l")},te=function(M,G,Y){return this.pdf.lines(M,G,Y,null,null)},Se=function(M,G,Y,ne,oe,ve,Te,Ce){this.pdf.internal.out([e(s(Y+M)),e(a(ne+G)),e(s(oe+M)),e(a(ve+G)),e(s(Te+M)),e(a(Ce+G)),"c"].join(" "))},ee=function(M,G,Y,ne){for(var oe=2*Math.PI,ve=Math.PI/2;G>Y;)G-=oe;var Te=Math.abs(Y-G);Te<oe&&ne&&(Te=oe-Te);for(var Ce=[],De=ne?-1:1,Ge=G;Te>1e-5;){var Je=Ge+De*Math.min(Te,ve);Ce.push(ce.call(this,M,Ge,Je)),Te-=Math.abs(Je-Ge),Ge=Je}return Ce},ce=function(M,G,Y){var ne=(Y-G)/2,oe=M*Math.cos(ne),ve=M*Math.sin(ne),Te=oe,Ce=-ve,De=Te*Te+Ce*Ce,Ge=De+Te*oe+Ce*ve,Je=4/3*(Math.sqrt(2*De*Ge)-Ge)/(Te*ve-Ce*oe),We=Te-Je*Ce,rt=Ce+Je*Te,K=We,$e=-rt,Vt=ne+G,bt=Math.cos(Vt),ze=Math.sin(Vt);return{x1:M*Math.cos(G),y1:M*Math.sin(G),x2:We*bt-rt*ze,y2:We*ze+rt*bt,x3:K*bt-$e*ze,y3:K*ze+$e*bt,x4:M*Math.cos(Y),y4:M*Math.sin(Y)}},he=function(M){return 180*M/Math.PI},le=function(M,G,Y,ne,oe,ve){var Te=M+.5*(Y-M),Ce=G+.5*(ne-G),De=oe+.5*(Y-oe),Ge=ve+.5*(ne-ve),Je=Math.min(M,oe,Te,De),We=Math.max(M,oe,Te,De),rt=Math.min(G,ve,Ce,Ge),K=Math.max(G,ve,Ce,Ge);return new c(Je,rt,We-Je,K-rt)},ke=function(M,G,Y,ne,oe,ve,Te,Ce){var De,Ge,Je,We,rt,K,$e,Vt,bt,ze,gt,Ze,wt,dt,Bt=Y-M,Kt=ne-G,Pt=oe-Y,Xt=ve-ne,$t=Te-oe,st=Ce-ve;for(Ge=0;Ge<41;Ge++)bt=($e=(Je=M+(De=Ge/40)*Bt)+De*((rt=Y+De*Pt)-Je))+De*(rt+De*(oe+De*$t-rt)-$e),ze=(Vt=(We=G+De*Kt)+De*((K=ne+De*Xt)-We))+De*(K+De*(ve+De*st-K)-Vt),Ge==0?(gt=bt,Ze=ze,wt=bt,dt=ze):(gt=Math.min(gt,bt),Ze=Math.min(Ze,ze),wt=Math.max(wt,bt),dt=Math.max(dt,ze));return new c(Math.round(gt),Math.round(Ze),Math.round(wt-gt),Math.round(dt-Ze))},$=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,G,Y=(M=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:G}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(ft.API),(function(t){var e=function(l){var c,d,f,p,w,S,b,N,T,k;for(d=[],f=0,p=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;p>f;f+=4)(w=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(S=(w=((w=((w=((w=(w-(k=w%85))/85)-(T=w%85))/85)-(N=w%85))/85)-(b=w%85))/85)%85,d.push(S+33,b+33,N+33,T+33,k+33)):d.push(122);return(function(I,F){for(var U=F;U>0;U--)I.pop()})(d,c.length),String.fromCharCode.apply(String,d)+"~>"},n=function(l){var c,d,f,p,w,S=String,b="length",N=255,T="charCodeAt",k="slice",I="replace";for(l[k](-2),l=l[k](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),f=[],p=0,w=(l+=c="uuuuu"[k](l[b]%5||5))[b];w>p;p+=5)d=52200625*(l[T](p)-33)+614125*(l[T](p+1)-33)+7225*(l[T](p+2)-33)+85*(l[T](p+3)-33)+(l[T](p+4)-33),f.push(N&d>>24,N&d>>16,N&d>>8,N&d);return(function(F,U){for(var H=U;H>0;H--)F.pop()})(f,c[b]),S.fromCharCode.apply(S,f)},i=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var d="",f=0;f<l.length;f+=2)d+=String.fromCharCode("0x"+(l[f]+l[f+1]));return d},a=function(l){for(var c=new Uint8Array(l.length),d=l.length;d--;)c[d]=l.charCodeAt(d);return(c=eg(c)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};t.processDataByFilters=function(l,c){var d=0,f=l||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":f=n(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=s(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=i(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(ft.API),(function(t){t.loadFile=function(e,n,i){return(function(s,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=(function(d,f,p){var w=new XMLHttpRequest,S=0,b=function(N){var T=N.length,k=[],I=String.fromCharCode;for(S=0;S<T;S+=1)k.push(I(255&N.charCodeAt(S)));return k.join("")};if(w.open("GET",d,!f),w.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(w.onload=function(){w.status===200?p(b(this.responseText)):p(void 0)}),w.send(null),f&&w.status===200)return b(w.responseText)})(s,a,l)}catch{}return c})(e,n,i)},t.loadImageFile=t.loadFile})(ft.API),(function(t){function e(){return(Mt.html2canvas?Promise.resolve(Mt.html2canvas):u0(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function n(){return(Mt.DOMPurify?Promise.resolve(Mt.DOMPurify):u0(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var i=function(c){var d=Rn(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},s=function(c,d){var f=document.createElement(c);for(var p in d.className&&(f.className=d.className),d.innerHTML&&d.dompurify&&(f.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)f.style[p]=d.style[p];return f},a=function c(d,f){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),w=d.firstChild;w;w=w.nextSibling)f!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||p.appendChild(c(w,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p},l=function c(d){var f=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),f);return(p=p.setProgress(1,c,1,[c])).set(d)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,d){return c.__proto__=d||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,d){return this.then(function(){switch(d=d||(function(f){switch(i(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),d){case"string":return this.then(n).then(function(f){return this.set({src:s("div",{innerHTML:c,dompurify:f})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,d(this.prop.container,f)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var f=this.opt.jsPDF,p=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,S=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete S.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var b=0;b<p.length;++b){var N=p[b],T=N.src.find(function(k){return k.format==="truetype"});T&&f.addFont(T.url,N.ref.name,N.ref.style)}return S.windowHeight=S.windowHeight||0,S.windowHeight=S.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):S.windowHeight,f.context2d.save(!0),d(this.prop.container,S)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,d,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},l.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(i(c)!=="object")return this;var d=Object.keys(c||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=c[f]};switch(f){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[f]=c[f]}}},this);return this.then(function(){return this.thenList(d)})},l.prototype.get=function(c,d){return this.then(function(){var f=c in l.template.prop?this.prop[c]:this.opt[c];return d?d(f):f})},l.prototype.setMargin=function(c){return this.then(function(){switch(i(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function d(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(c=c||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,d,f,p){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,d,f,p){return this.setProgress(c?this.progress.val+c:null,d||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},l.prototype.then=function(c,d){var f=this;return this.thenCore(c,d,function(p,w){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(S){return f.updateProgress(null,p),S}).then(p,w).then(function(S){return f.updateProgress(1),S})})},l.prototype.thenCore=function(c,d,f){f=f||Promise.prototype.then;var p=this;c&&(c=c.bind(p)),d&&(d=d.bind(p));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:l.convert(Object.assign({},p),Promise.prototype),S=f.call(w,c,d);return l.convert(S,p.__proto__)},l.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},l.prototype.thenList=function(c){var d=this;return c.forEach(function(f){d=d.thenCore(f)}),d},l.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return l.convert(d,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,ft.getPageSize=function(c,d,f){if(Rn(c)==="object"){var p=c;c=p.orientation,d=p.unit||d,f=p.format||f}d=d||"mm",f=f||"a4",c=(""+(c||"P")).toLowerCase();var w,S=(""+f).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+d}var N,T=0,k=0;if(b.hasOwnProperty(S))T=b[S][1]/w,k=b[S][0]/w;else try{T=f[1],k=f[0]}catch{throw new Error("Invalid format: "+f)}if(c==="p"||c==="portrait")c="p",k>T&&(N=k,k=T,T=N);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",T>k&&(N=k,k=T,T=N)}return{width:k,height:T,unit:d,k:w,orientation:c}},t.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(N0):null;var f=new l(d);return d.worker?f:f.from(c).doCallback()}})(ft.API),ft.API.addJS=function(t){return Oy=t,this.internal.events.subscribe("postPutResources",function(){$d=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($d+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Uy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Oy+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$d!==void 0&&Uy!==void 0&&this.internal.out("/Names <</JavaScript "+$d+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),a=0;a<s.length;a++){var l=s[a],c=i.exec(l);if(c!=null){var d=c[1];n.internal.newObjectDeferredBegin(d,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(a=0;a<f;a++){var w=n.internal.newObject();p.push(w);var S=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var b=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<p.length;a++)n.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+b+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,s,a){var l={title:s,options:a,children:[]};return i==null&&(i=this.root),i.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var s=0;s<i.children.length;s++)this.genIds_r(i.children[s])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var l=i.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var d=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,s){for(var a=0;a<s.children.length;a++)i.count++,this.count_r(i,s.children[a]);return i.count}}])})(ft.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,i,s,a,l,c){var d,f=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,d=(function(w){for(var S,b=256*w.charCodeAt(4)+w.charCodeAt(5),N=w.length,T={width:0,height:0,numcomponents:1},k=4;k<N;k+=2){if(k+=b,e.indexOf(w.charCodeAt(k+1))!==-1){S=256*w.charCodeAt(k+5)+w.charCodeAt(k+6),T={width:256*w.charCodeAt(k+7)+w.charCodeAt(k+8),height:S,numcomponents:w.charCodeAt(k+9)};break}b=256*w.charCodeAt(k+2)+w.charCodeAt(k+3)}return T})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),d.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:n,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:f,index:i,alias:s}}return p}})(ft.API),ft.API.processPNG=function(t,e,n,i){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,a=OT(t,{checkCrc:!0}),l=a.width,c=a.height,d=a.channels,f=a.palette,p=a.depth;s=f&&d===1?(function(se){for(var V=se.width,ge=se.height,q=se.data,W=se.palette,ie=se.depth,te=!1,Se=[],ee=[],ce=void 0,he=!1,le=0,ke=0;ke<W.length;ke++){var $=Hv(W[ke],4),M=$[0],G=$[1],Y=$[2],ne=$[3];Se.push(M,G,Y),ne!=null&&(ne===0?(le++,ee.length<1&&ee.push(ke)):ne<255&&(he=!0))}if(he||le>1){te=!0,ee=void 0;var oe=V*ge;ce=new Uint8Array(oe);for(var ve=new DataView(q.buffer),Te=0;Te<oe;Te++){var Ce=R0(ve,Te,ie),De=Hv(W[Ce],4)[3];ce[Te]=De}}else le===0&&(ee=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:te?8:void 0,colorBytes:q,alphaBytes:ce,needSMask:te,palette:Se,mask:ee}})(a):d===2||d===4?(function(se){for(var V=se.data,ge=se.width,q=se.height,W=se.channels,ie=se.depth,te=W===2?"DeviceGray":"DeviceRGB",Se=W-1,ee=ge*q,ce=Se,he=ee*ce,le=1*ee,ke=Math.ceil(he*ie/8),$=Math.ceil(le*ie/8),M=new Uint8Array(ke),G=new Uint8Array($),Y=new DataView(V.buffer),ne=new DataView(M.buffer),oe=new DataView(G.buffer),ve=!1,Te=0;Te<ee;Te++){for(var Ce=Te*W,De=0;De<ce;De++)$y(ne,R0(Y,Ce+De,ie),Te*ce+De,ie);var Ge=R0(Y,Ce+ce,ie);Ge<(1<<ie)-1&&(ve=!0),$y(oe,Ge,1*Te,ie)}return{colorSpace:te,colorsPerPixel:Se,sMaskBitsPerComponent:ve?ie:void 0,colorBytes:M,alphaBytes:G,needSMask:ve}})(a):(function(se){var V=se.data,ge=se.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ge,colorsPerPixel:ge==="DeviceGray"?1:3,colorBytes:V instanceof Uint16Array?(function(q){for(var W=q.length,ie=new Uint8Array(2*W),te=new DataView(ie.buffer,ie.byteOffset,ie.byteLength),Se=0;Se<W;Se++)te.setUint16(2*Se,q[Se],!1);return ie})(V):V,needSMask:!1}})(a);var w,S,b,N=s,T=N.colorSpace,k=N.colorsPerPixel,I=N.sMaskBitsPerComponent,F=N.colorBytes,U=N.alphaBytes,H=N.needSMask,ae=N.palette,de=N.mask,re=null;return i!==ft.API.image_compression.NONE&&typeof eg=="function"?(re=(function(se){var V;switch(se){case ft.API.image_compression.FAST:V=11;break;case ft.API.image_compression.MEDIUM:V=13;break;case ft.API.image_compression.SLOW:V=14;break;default:V=12}return V})(i),w=this.decode.FLATE_DECODE,S="/Predictor ".concat(re," /Colors ").concat(k," /BitsPerComponent ").concat(p," /Columns ").concat(l),t=Hy(F,Math.ceil(l*k*p/8),k,p,i),H&&(b=Hy(U,Math.ceil(l*I/8),1,I,i))):(w=void 0,S=void 0,t=F,H&&(b=U)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:n,data:t,index:e,filter:w,decodeParameters:S,transparency:de,palette:ae,sMask:b,predictor:re,width:l,height:c,bitsPerComponent:p,sMaskBitsPerComponent:I,colorSpace:T}}},(function(t){t.processGIF89A=function(e,n,i,s){var a=new r4(e),l=a.width,c=a.height,d=[];a.decodeAndBlitFrameRGBA(0,d);var f={data:d,width:l,height:c},p=new k0(100).encode(f,100);return t.processJPEG.call(this,p,n,i,s)},t.processGIF87A=t.processGIF89A})(ft.API),bo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:i,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},bo.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){qn.log("bit decode error:"+n)}},bo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var d=this.palette[a>>7-c&1];this.data[l+4*c]=d.blue,this.data[l+4*c+1]=d.green,this.data[l+4*c+2]=d.red,this.data[l+4*c+3]=255}n!==0&&(this.pos+=4-n)}},bo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+2*s*4,c=a>>4,d=15&a,f=this.palette[c];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*s+1>=this.width)break;f=this.palette[d],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},bo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*i;if(s<this.palette.length){var l=this.palette[s];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},bo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,c=(a>>5&e)/e*255|0,d=(a>>10&e)/e*255|0,f=a>>15?255:0,p=i*this.width*4+4*s;this.data[p]=d,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=f}this.pos+=t}},bo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,d=(l>>5&n)/n*255|0,f=(l>>11)/e*255|0,p=s*this.width*4+4*a;this.data[p]=f,this.data[p+1]=d,this.data[p+2]=c,this.data[p+3]=255}this.pos+=t}},bo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=a,this.data[l+1]=s,this.data[l+2]=i,this.data[l+3]=255}this.pos+=this.width%4}},bo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=a,this.data[c+1]=s,this.data[c+2]=i,this.data[c+3]=l}},bo.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,i,s){var a=new bo(e,!1),l=a.width,c=a.height,d={data:a.getData(),width:l,height:c},f=new k0(100).encode(d,100);return t.processJPEG.call(this,f,n,i,s)}})(ft.API),Wy.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,i,s){var a=new Wy(e),l=a.width,c=a.height,d={data:a.getData(),width:l,height:c},f=new k0(100).encode(d,100);return t.processJPEG.call(this,f,n,i,s)}})(ft.API),ft.API.processRGBA=function(t,e,n){for(var i=t.data,s=i.length,a=new Uint8Array(s/4*3),l=new Uint8Array(s/4),c=0,d=0,f=0;f<s;f+=4){var p=i[f],w=i[f+1],S=i[f+2],b=i[f+3];a[c++]=p,a[c++]=w,a[c++]=S,l[d++]=b}var N=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:N,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ft.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hc=ft.API,Jd=hc.getCharWidthsArray=function(t,e){var n,i,s=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,d=c.fof?c.fof:1,f=e.kerning?e.kerning:s.metadata.Unicode.kerning,p=f.fof?f.fof:1,w=e.doKerning!==!1,S=0,b=t.length,N=0,T=c[0]||d,k=[];for(n=0;n<b;n++)i=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?k.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+l*(1e3/a)||0)/1e3):(S=w&&Rn(f[i])==="object"&&!isNaN(parseInt(f[i][N],10))?f[i][N]/p:0,k.push((c[i]||T)/d+S)),N=i;return k},By=hc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return hc.processArabic&&(t=hc.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,n,s)/n:Jd.apply(this,arguments).reduce(function(a,l){return a+l},0)},Fy=function(t,e,n,i){for(var s=[],a=0,l=t.length,c=0;a!==l&&c+e[a]<n;)c+=e[a],a++;s.push(t.slice(0,a));var d=a;for(c=0;a!==l;)c+e[a]>i&&(s.push(t.slice(d,a)),c=0,d=a),c+=e[a],a++;return d!==a&&s.push(t.slice(d,a)),s},qy=function(t,e,n){n||(n={});var i,s,a,l,c,d,f,p=[],w=[p],S=n.textIndent||0,b=0,N=0,T=t.split(" "),k=Jd.apply(this,[" ",n])[0];if(d=n.lineIndent===-1?T[0].length+2:n.lineIndent||0){var I=Array(d).join(" "),F=[];T.map(function(H){(H=H.split(/\s*\n/)).length>1?F=F.concat(H.map(function(ae,de){return(de&&ae.length?`
`:"")+ae})):F.push(H[0])}),T=F,d=By.apply(this,[I,n])}for(a=0,l=T.length;a<l;a++){var U=0;if(i=T[a],d&&i[0]==`
`&&(i=i.substr(1),U=1),S+b+(N=(s=Jd.apply(this,[i,n])).reduce(function(H,ae){return H+ae},0))>e||U){if(N>e){for(c=Fy.apply(this,[i,s,e-(S+b),e]),p.push(c.shift()),p=[c.pop()];c.length;)w.push([c.shift()]);N=s.slice(i.length-(p[0]?p[0].length:0)).reduce(function(H,ae){return H+ae},0)}else p=[i];w.push(p),S=N+d,b=k}else p.push(i),S+=b+N,b=k}return f=d?function(H,ae){return(ae?I:"")+H.join(" ")}:function(H){return H.join(" ")},w.map(f)},hc.splitTextToSize=function(t,e,n){var i,s=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var w=this.internal.getFont(p.fontName,p.fontStyle),S="Unicode";return w.metadata[S]?{widths:w.metadata[S].widths||{0:1},kerning:w.metadata[S].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/s;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=n.lineIndent;var c,d,f=[];for(c=0,d=i.length;c<d;c++)f=f.concat(qy.apply(this,[i[c],l,a]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",i={},s={},a=0;a<16;a++)i[n[a]]=e[a],s[e[a]]=n[a];var l=function(S){return"0x"+parseInt(S,10).toString(16)},c=t.__fontmetrics__.compress=function(S){var b,N,T,k,I=["{"];for(var F in S){if(b=S[F],isNaN(parseInt(F,10))?N="'"+F+"'":(F=parseInt(F,10),N=(N=l(F).slice(2)).slice(0,-1)+s[N.slice(-1)]),typeof b=="number")b<0?(T=l(b).slice(3),k="-"):(T=l(b).slice(2),k=""),T=k+T.slice(0,-1)+s[T.slice(-1)];else{if(Rn(b)!=="object")throw new Error("Don't know what to do with value type "+Rn(b)+".");T=c(b)}I.push(N+T)}return I.push("}"),I.join("")},d=t.__fontmetrics__.uncompress=function(S){if(typeof S!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,N,T,k,I={},F=1,U=I,H=[],ae="",de="",re=S.length-1,se=1;se<re;se+=1)(k=S[se])=="'"?b?(T=b.join(""),b=void 0):b=[]:b?b.push(k):k=="{"?(H.push([U,T]),U={},T=void 0):k=="}"?((N=H.pop())[0][N[1]]=U,T=void 0,U=N[0]):k=="-"?F=-1:T===void 0?i.hasOwnProperty(k)?(ae+=i[k],T=parseInt(ae,16)*F,F=1,ae=""):ae+=k:i.hasOwnProperty(k)?(de+=i[k],U[T]=parseInt(de,16)*F,F=1,T=void 0,de=""):de+=k;return I},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},w={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(S){var b=S.font,N=w.Unicode[b.postScriptName];N&&(b.metadata.Unicode={},b.metadata.Unicode.widths=N.widths,b.metadata.Unicode.kerning=N.kerning);var T=p.Unicode[b.postScriptName];T&&(b.metadata.Unicode.encoding=T,b.encoding=T.codePages[0])}])})(ft.API),(function(t){var e=function(n){for(var i=n.length,s=new Uint8Array(i),a=0;a<i;a++)s[a]=n.charCodeAt(a);return s};t.API.events.push(["addFont",function(n){var i=void 0,s=n.font,a=n.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(i=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(uh(c)),l.metadata=t.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(s,i)}}])})(ft),ft.API.addSvgAsImage=function(t,e,n,i,s,a,l,c){if(isNaN(e)||isNaN(n))throw qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=s;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(Mt.canvg?Promise.resolve(Mt.canvg):u0(()=>import("./index.es-DweumVIv.js"),[])).catch(function(S){return Promise.reject(new Error("Could not load canvg: "+S))}).then(function(S){return S.default?S.default:S}).then(function(S){return S.fromString(f,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(p)}).then(function(){w.addImage(d.toDataURL("image/jpeg",1),e,n,i,s,l,c)})},ft.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(e,n);return this},ft.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,s,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),d=[],f=0,p=0,w=0;function S(N,T){var k,I=!1;for(k=0;k<N.length;k+=1)N[k]===T&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var b=c.length;for(w=0;w<b;w+=1)n[c[w]].value=n[c[w]].defaultValue,n[c[w]].explicitSet=!1}if(Rn(t)==="object"){for(s in t)if(a=t[s],S(c,s)&&a!==void 0){if(n[s].type==="boolean"&&typeof a=="boolean")n[s].value=a;else if(n[s].type==="name"&&S(n[s].valueSet,a))n[s].value=a;else if(n[s].type==="integer"&&Number.isInteger(a))n[s].value=a;else if(n[s].type==="array"){for(f=0;f<a.length;f+=1)if(i=!0,a[f].length===1&&typeof a[f][0]=="number")d.push(String(a[f]-1));else if(a[f].length>1){for(p=0;p<a[f].length;p+=1)typeof a[f][p]!="number"&&(i=!1);i===!0&&d.push([a[f][0]-1,a[f][1]-1].join(" "))}n[s].value="["+d.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,T=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?T.push("/"+N+" /"+n[N].value):T.push("/"+N+" "+n[N].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+l.length+c.length+s.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(s+a+l+c+d),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(ft.API),(function(t){var e=t.API,n=e.pdfEscape16=function(a,l){for(var c,d=l.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],w=0,S=a.length;w<S;++w){if(c=l.metadata.characterToGlyph(a.charCodeAt(w)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=a.charCodeAt(w),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(f[4-c.length],c)}return p.join("")},i=function(a){var l,c,d,f,p,w,S;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],w=0,S=(c=Object.keys(a).sort(function(b,N){return b-N})).length;w<S;w++)l=c[w],d.length>=100&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(f=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+f+">"));return d.length&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(l){var c=l.font,d=l.out,f=l.newObject,p=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,S=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",N=0;N<S.length;N++)b+=String.fromCharCode(S[N]);var T=f();p({data:b,addLength1:!0,objectId:T}),d("endobj");var k=f();p({data:i(c.metadata.toUnicode),addLength1:!0,objectId:k}),d("endobj");var I=f();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+_c(c.fontName)),d("/FontFile2 "+T+" 0 R"),d("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var F=f();d("<<"),d("/Type /Font"),d("/BaseFont /"+_c(c.fontName)),d("/FontDescriptor "+I+" 0 R"),d("/W "+t.API.PDFObject.convert(w)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=f(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+k+" 0 R"),d("/BaseFont /"+_c(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+F+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(l){var c=l.font,d=l.out,f=l.newObject,p=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,S="",b=0;b<w.length;b++)S+=String.fromCharCode(w[b]);var N=f();p({data:S,addLength1:!0,objectId:N}),d("endobj");var T=f();p({data:i(c.metadata.toUnicode),addLength1:!0,objectId:T}),d("endobj");var k=f();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+N+" 0 R"),d("/Flags 96"),d("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+_c(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=f();for(var I=0;I<c.metadata.hmtx.widths.length;I++)c.metadata.hmtx.widths[I]=parseInt(c.metadata.hmtx.widths[I]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+_c(c.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(a)}]);var s=function(a){var l,c=a.text||"",d=a.x,f=a.y,p=a.options||{},w=a.mutex||{},S=w.pdfEscape,b=w.activeFontKey,N=w.fonts,T=b,k="",I=0,F="",U=N[T].encoding;if(N[T].encoding!=="Identity-H")return{text:c,x:d,y:f,options:p,mutex:w};for(F=c,T=b,Array.isArray(c)&&(F=c[0]),I=0;I<F.length;I+=1)N[T].metadata.hasOwnProperty("cmap")&&(l=N[T].metadata.cmap.unicode.codeMap[F[I].charCodeAt(0)]),l||F[I].charCodeAt(0)<256&&N[T].metadata.hasOwnProperty("Unicode")?k+=F[I]:k+="";var H="";return parseInt(T.slice(1))<14||U==="WinAnsiEncoding"?H=S(k,T).split("").map(function(ae){return ae.charCodeAt(0).toString(16)}).join(""):U==="Identity-H"&&(H=n(k,N[T])),w.isHex=!0,{text:H,x:d,y:f,options:p,mutex:w}};e.events.push(["postProcessText",function(a){var l=a.text||"",c=[],d={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?c.push([s(Object.assign({},d,{text:l[f][0]})).text,l[f][1],l[f][2]]):c.push(s(Object.assign({},d,{text:l[f]})).text);a.text=c}else a.text=s(Object.assign({},d,{text:l})).text}])})(ft),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,i){return e.call(this),this.internal.vFS[n]=i,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(ft.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var s,a,l,c,d,f,p,w=e,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),F=!1,U=0;this.__bidiEngine__={};var H=function(q){var W=q.charCodeAt(),ie=W>>8,te=T[ie];return te!==void 0?w[256*te+(255&W)]:ie===252||ie===253?"AL":I.test(ie)?"L":ie===8?"R":"N"},ae=function(q){for(var W,ie=0;ie<q.length;ie++){if((W=H(q.charAt(ie)))==="L")return!1;if(W==="R")return!0}return!1},de=function(q,W,ie,te){var Se,ee,ce,he,le=W[te];switch(le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":F=!1;break;case"N":case"AN":break;case"EN":F&&(le="AN");break;case"AL":F=!0,le="R";break;case"WS":case"BN":le="N";break;case"CS":te<1||te+1>=W.length||(Se=ie[te-1])!=="EN"&&Se!=="AN"||(ee=W[te+1])!=="EN"&&ee!=="AN"?le="N":F&&(ee="AN"),le=ee===Se?ee:"N";break;case"ES":le=(Se=te>0?ie[te-1]:"B")==="EN"&&te+1<W.length&&W[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&ie[te-1]==="EN"){le="EN";break}if(F){le="N";break}for(ce=te+1,he=W.length;ce<he&&W[ce]==="ET";)ce++;le=ce<he&&W[ce]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(he=W.length,ce=te+1;ce<he&&W[ce]==="NSM";)ce++;if(ce<he){var ke=q[te],$=ke>=1425&&ke<=2303||ke===64286;if(Se=W[ce],$&&(Se==="R"||Se==="AL")){le="R";break}}}le=te<1||(Se=W[te-1])==="B"?"N":ie[te-1];break;case"B":F=!1,s=!0,le=U;break;case"S":a=!0,le="N"}return le},re=function(q,W,ie){var te=q.split("");return ie&&se(te,ie,{hiLevel:U}),te.reverse(),W&&W.reverse(),te.join("")},se=function(q,W,ie){var te,Se,ee,ce,he,le=-1,ke=q.length,$=0,M=[],G=U?b:S,Y=[];for(F=!1,s=!1,a=!1,Se=0;Se<ke;Se++)Y[Se]=H(q[Se]);for(ee=0;ee<ke;ee++){if(he=$,M[ee]=de(q,Y,M,ee),te=240&($=G[he][N[M[ee]]]),$&=15,W[ee]=ce=G[$][5],te>0)if(te===16){for(Se=le;Se<ee;Se++)W[Se]=1;le=-1}else le=-1;if(G[$][6])le===-1&&(le=ee);else if(le>-1){for(Se=le;Se<ee;Se++)W[Se]=ce;le=-1}Y[ee]==="B"&&(W[ee]=0),ie.hiLevel|=ce}a&&(function(ne,oe,ve){for(var Te=0;Te<ve;Te++)if(ne[Te]==="S"){oe[Te]=U;for(var Ce=Te-1;Ce>=0&&ne[Ce]==="WS";Ce--)oe[Ce]=U}})(Y,W,ke)},V=function(q,W,ie,te,Se){if(!(Se.hiLevel<q)){if(q===1&&U===1&&!s)return W.reverse(),void(ie&&ie.reverse());for(var ee,ce,he,le,ke=W.length,$=0;$<ke;){if(te[$]>=q){for(he=$+1;he<ke&&te[he]>=q;)he++;for(le=$,ce=he-1;le<ce;le++,ce--)ee=W[le],W[le]=W[ce],W[ce]=ee,ie&&(ee=ie[le],ie[le]=ie[ce],ie[ce]=ee);$=he}$++}}},ge=function(q,W,ie){var te=q.split(""),Se={hiLevel:U};return ie||(ie=[]),se(te,ie,Se),(function(ee,ce,he){if(he.hiLevel!==0&&p)for(var le,ke=0;ke<ee.length;ke++)ce[ke]===1&&(le=k.indexOf(ee[ke]))>=0&&(ee[ke]=k[le+1])})(te,ie,Se),V(2,te,W,ie,Se),V(1,te,W,ie,Se),te.join("")};return this.__bidiEngine__.doBidiReorder=function(q,W,ie){if((function(Se,ee){if(ee)for(var ce=0;ce<Se.length;ce++)ee[ce]=ce;c===void 0&&(c=ae(Se)),f===void 0&&(f=ae(Se))})(q,W),l||!d||f)if(l&&d&&c^f)U=c?1:0,q=re(q,W,ie);else if(!l&&d&&f)U=c?1:0,q=ge(q,W,ie),q=re(q,W);else if(!l||c||d||f){if(l&&!d&&c^f)q=re(q,W),c?(U=0,q=ge(q,W,ie)):(U=1,q=ge(q,W,ie),q=re(q,W));else if(l&&c&&!d&&f)U=1,q=ge(q,W,ie),q=re(q,W);else if(!l&&!d&&c^f){var te=p;c?(U=1,q=ge(q,W,ie),U=0,p=!1,q=ge(q,W,ie),p=te):(U=0,q=ge(q,W,ie),q=re(q,W),U=1,p=!1,q=ge(q,W,ie),p=te,q=re(q,W))}}else U=0,q=ge(q,W,ie);else U=c?1:0,q=ge(q,W,ie);return q},this.__bidiEngine__.setOptions=function(q){q&&(l=q.isInputVisual,d=q.isOutputVisual,c=q.isInputRtl,f=q.isOutputRtl,p=q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var s=i.text;i.x,i.y;var a=i.options||{};i.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(l=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?l.push([n.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):l.push([n.doBidiReorder(s[c])]);i.text=l}else i.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])})(ft),ft.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Tl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new b4(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new s4(this.contents),this.head=new a4(this),this.name=new d4(this),this.cmap=new iw(this),this.toUnicode={},this.hhea=new l4(this),this.maxp=new h4(this),this.hmtx=new p4(this),this.post=new c4(this),this.os2=new u4(this),this.loca=new y4(this),this.glyf=new g4(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,i,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,d,f;for(f=[],l=0,c=(d=this.bbox).length;l<c;l++)e=d[l],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,i){var s,a,l,c;for(l=0,a=0,c=(e=""+e).length;0<=c?a<c:a>c;a=0<=c?++a:--a)s=e.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(s))+i*(1e3/n)||0;return l*(n/1e3)},t.prototype.lineHeight=function(e,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t})();var Co,Tl=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,i;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var n,i,s;for(s=[],n=0,i=e.length;0<=i?n<i:n>i;n=0<=i?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,i,s,a,l,c,d;return e=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^s)+16777216*(255^a)+65536*(255^l)+256*(255^c)+(255^d)+1):72057594037927940*e+281474976710656*n+1099511627776*i+4294967296*s+16777216*a+65536*l+256*c+d},t.prototype.writeLongLong=function(e){var n,i;return n=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,i;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push(this.readByte());return n},t.prototype.write=function(e){var n,i,s,a;for(a=[],i=0,s=e.length;i<s;i++)n=e[i],a.push(this.writeByte(n));return a},t})(),s4=(function(){var t;function e(n){var i,s,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(n){var i,s,a,l,c,d,f,p,w,S,b,N,T;for(T in b=Object.keys(n).length,d=Math.log(2),w=16*Math.floor(Math.log(b)/d),l=Math.floor(w/d),p=16*b-w,(s=new Tl).writeInt(this.scalarType),s.writeShort(b),s.writeShort(w),s.writeShort(l),s.writeShort(p),a=16*b,f=s.pos+a,c=null,N=[],n)for(S=n[T],s.writeString(T),s.writeInt(t(S)),s.writeInt(f),s.writeInt(S.length),N=N.concat(S),T==="head"&&(c=f),f+=S.length;f%4;)N.push(0),f++;return s.write(N),i=2981146554-t(s.data),s.pos=c+8,s.writeUInt32(i),s.data},t=function(n){var i,s,a,l;for(n=rw.call(n);n.length%4;)n.push(0);for(a=new Tl(n),s=0,i=0,l=n.length;i<l;i=i+=4)s+=a.readUInt32();return 4294967295&s},e})(),o4={}.hasOwnProperty,Qo=function(t,e){for(var n in e)o4.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Co=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var a4=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qo(t,Co),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Tl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),Yy=(function(){function t(e,n){var i,s,a,l,c,d,f,p,w,S,b,N,T,k,I,F,U;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(b=e.readUInt16(),S=b/2,e.pos+=6,a=(function(){var H,ae;for(ae=[],d=H=0;0<=S?H<S:H>S;d=0<=S?++H:--H)ae.push(e.readUInt16());return ae})(),e.pos+=2,T=(function(){var H,ae;for(ae=[],d=H=0;0<=S?H<S:H>S;d=0<=S?++H:--H)ae.push(e.readUInt16());return ae})(),f=(function(){var H,ae;for(ae=[],d=H=0;0<=S?H<S:H>S;d=0<=S?++H:--H)ae.push(e.readUInt16());return ae})(),p=(function(){var H,ae;for(ae=[],d=H=0;0<=S?H<S:H>S;d=0<=S?++H:--H)ae.push(e.readUInt16());return ae})(),s=(this.length-e.pos+this.offset)/2,c=(function(){var H,ae;for(ae=[],d=H=0;0<=s?H<s:H>s;d=0<=s?++H:--H)ae.push(e.readUInt16());return ae})(),d=I=0,U=a.length;I<U;d=++I)for(k=a[d],i=F=N=T[d];N<=k?F<=k:F>=k;i=N<=k?++F:--F)p[d]===0?l=i+f[d]:(l=c[p[d]/2+(i-N)-(S-d)]||0)!==0&&(l+=f[d]),this.codeMap[i]=65535&l}e.pos=w}return t.encode=function(e,n){var i,s,a,l,c,d,f,p,w,S,b,N,T,k,I,F,U,H,ae,de,re,se,V,ge,q,W,ie,te,Se,ee,ce,he,le,ke,$,M,G,Y,ne,oe,ve,Te,Ce,De,Ge,Je;switch(te=new Tl,l=Object.keys(e).sort(function(We,rt){return We-rt}),n){case"macroman":for(T=0,k=(function(){var We=[];for(N=0;N<256;++N)We.push(0);return We})(),F={0:0},a={},Se=0,le=l.length;Se<le;Se++)F[Ce=e[s=l[Se]]]==null&&(F[Ce]=++T),a[s]={old:e[s],new:F[e[s]]},k[s]=F[e[s]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(k),{charMap:a,subtable:te.data,maxGlyphID:T+1};case"unicode":for(W=[],w=[],U=0,F={},i={},I=f=null,ee=0,ke=l.length;ee<ke;ee++)F[ae=e[s=l[ee]]]==null&&(F[ae]=++U),i[s]={old:ae,new:F[ae]},c=F[ae]-s,I!=null&&c===f||(I&&w.push(I),W.push(s),f=c),I=s;for(I&&w.push(I),w.push(65535),W.push(65535),ge=2*(V=W.length),se=2*Math.pow(Math.log(V)/Math.LN2,2),S=Math.log(se/2)/Math.LN2,re=2*V-se,d=[],de=[],b=[],N=ce=0,$=W.length;ce<$;N=++ce){if(q=W[N],p=w[N],q===65535){d.push(0),de.push(0);break}if(q-(ie=i[q].new)>=32768)for(d.push(0),de.push(2*(b.length+V-N)),s=he=q;q<=p?he<=p:he>=p;s=q<=p?++he:--he)b.push(i[s].new);else d.push(ie-q),de.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*V+2*b.length),te.writeUInt16(0),te.writeUInt16(ge),te.writeUInt16(se),te.writeUInt16(S),te.writeUInt16(re),ve=0,M=w.length;ve<M;ve++)s=w[ve],te.writeUInt16(s);for(te.writeUInt16(0),Te=0,G=W.length;Te<G;Te++)s=W[Te],te.writeUInt16(s);for(De=0,Y=d.length;De<Y;De++)c=d[De],te.writeUInt16(c);for(Ge=0,ne=de.length;Ge<ne;Ge++)H=de[Ge],te.writeUInt16(H);for(Je=0,oe=b.length;Je<oe;Je++)T=b[Je],te.writeUInt16(T);return{charMap:i,subtable:te.data,maxGlyphID:U+1}}},t})(),iw=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qo(t,Co),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,i,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new Yy(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var i,s;return n==null&&(n="macroman"),i=Yy.encode(e,n),(s=new Tl).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t})(),l4=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qo(t,Co),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),u4=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qo(t,Co),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,i;for(i=[],n=0;n<10;++n)i.push(e.readByte());return i})(),this.charRange=(function(){var n,i;for(i=[],n=0;n<4;++n)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),c4=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qo(t,Co),t.prototype.tag="post",t.prototype.parse=function(e){var n,i,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(i=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var l,c,d;for(d=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)d.push(e.readUInt32());return d}).call(this)}},t})(),f4=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},d4=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qo(t,Co),t.prototype.tag="name",t.prototype.parse=function(e){var n,i,s,a,l,c,d,f,p,w,S;for(e.pos=this.offset,e.readShort(),n=e.readShort(),c=e.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(d={},a=p=0,w=i.length;p<w;a=++p)s=i[a],e.pos=s.offset,f=e.readString(s.length),l=new f4(f,s),d[S=s.nameID]==null&&(d[S]=[]),d[s.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t})(),h4=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qo(t,Co),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),p4=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qo(t,Co),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,i,s,a,l,c,d;for(e.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],n=f=0;0<=s?f<s:f>s;n=0<=s?++f:--f)p.push(e.readInt16());return p})(),this.widths=(function(){var f,p,w,S;for(S=[],f=0,p=(w=this.metrics).length;f<p;f++)a=w[f],S.push(a.advance);return S}).call(this),i=this.widths[this.widths.length-1],d=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)d.push(this.widths.push(i));return d},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),rw=[].slice,g4=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qo(t,Co),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,i,s,a,l,c,d,f,p,w;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(e),(s=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+i,l=(c=new Tl(n.read(s))).readShort(),f=c.readShort(),w=c.readShort(),d=c.readShort(),p=c.readShort(),this.cache[e]=l===-1?new v4(c,f,w,d,p):new m4(c,l,f,w,d,p),this.cache[e]))},t.prototype.encode=function(e,n,i){var s,a,l,c,d;for(l=[],a=[],c=0,d=n.length;c<d;c++)s=e[n[c]],a.push(l.length),s&&(l=l.concat(s.encode(i)));return a.push(l.length),{table:l,offsets:a}},t})(),m4=(function(){function t(e,n,i,s,a,l){this.raw=e,this.numberOfContours=n,this.xMin=i,this.yMin=s,this.xMax=a,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),v4=(function(){function t(e,n,i,s,a){var l,c;for(this.raw=e,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return t.prototype.encode=function(){var e,n,i;for(n=new Tl(rw.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),y4=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qo(t,Co),t.prototype.tag="loca",t.prototype.parse=function(e){var n,i;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,l=0;l<i.length;++l)if(i[l]=s,a<n.length&&n[a]==l){++a,i[l]=s;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(s+=d)}for(var f=new Array(4*i.length),p=0;p<i.length;++p)f[4*p+3]=255&i[p],f[4*p+2]=(65280&i[p])>>8,f[4*p+1]=(16711680&i[p])>>16,f[4*p]=(4278190080&i[p])>>24;return f},t})(),b4=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,i,s,a;for(n in s=this.font.cmap.tables[0].codeMap,e={},a=this.subset)i=a[n],e[n]=s[i];return e},t.prototype.glyphsFor=function(e){var n,i,s,a,l,c,d;for(s={},l=0,c=e.length;l<c;l++)s[a=e[l]]=this.font.glyf.glyphFor(a);for(a in n=[],s)(i=s[a])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(a in d=this.glyphsFor(n))i=d[a],s[a]=i;return s},t.prototype.encode=function(e,n){var i,s,a,l,c,d,f,p,w,S,b,N,T,k,I;for(s in i=iw.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),b={0:0},I=i.charMap)b[(d=I[s]).old]=d.new;for(N in S=i.maxGlyphID,l)N in b||(b[N]=S++);return p=(function(F){var U,H;for(U in H={},F)H[F[U]]=U;return H})(b),w=Object.keys(p).sort(function(F,U){return F-U}),T=(function(){var F,U,H;for(H=[],F=0,U=w.length;F<U;F++)c=w[F],H.push(p[c]);return H})(),a=this.font.glyf.encode(l,T,b),f=this.font.loca.encode(a.offsets,T),k={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t})();ft.API.PDFObject=(function(){var t;function e(){}return t=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},e.convert=function(n){var i,s,a,l;if(Array.isArray(n))return"["+(function(){var c,d,f;for(f=[],c=0,d=n.length;c<d;c++)i=n[c],f.push(e.convert(i));return f})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in a=["<<"],n)l=n[s],a.push("/"+s+" "+e.convert(l));return a.push(">>"),a.join(`
`)}return""+n},e})();function sw(t,e,n,i,s){i=i||{};var a=1.15,l=s.internal.scaleFactor,c=s.internal.getFontSize()/l,d=s.getLineHeightFactor?s.getLineHeightFactor():a,f=c*d,p=/\r\n|\r|\n/g,w="",S=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(w=typeof t=="string"?t.split(p):t,S=w.length||1),n+=c*(2-a),i.valign==="middle"?n-=S/2*f:i.valign==="bottom"&&(n-=S*f),i.halign==="center"||i.halign==="right"){var b=c;if(i.halign==="center"&&(b*=.5),w&&S>=1){for(var N=0;N<w.length;N++)s.text(w[N],e-s.getStringUnitWidth(w[N])*b,n),n+=f;return s}e-=s.getStringUnitWidth(t)*b}return i.halign==="justify"?s.text(t,e,n,{maxWidth:i.maxWidth||100,align:"justify"}):s.text(t,e,n),s}var Ky={},Pc=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:Ky=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var i,s,a;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),c=l.fontStyle,d=l.fontName;if(e.font&&(d=e.font),e.fontStyle){c=e.fontStyle;var f=this.getFontList()[d];f&&f.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),c=f[0])}if(this.jsPDFDocument.setFont(d,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var p=t.unifyColor(e.fillColor);p&&(i=this.jsPDFDocument).setFillColor.apply(i,p),p=t.unifyColor(e.textColor),p&&(s=this.jsPDFDocument).setTextColor.apply(s,p),p=t.unifyColor(e.lineColor),p&&(a=this.jsPDFDocument).setDrawColor.apply(a,p),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,i){return this.jsPDFDocument.splitTextToSize(e,n,i)},t.prototype.rect=function(e,n,i,s,a){return this.jsPDFDocument.rect(e,n,i,s,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Ky||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),lg=function(t,e){return lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},lg(t,e)};function ow(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var aw=(function(t){ow(e,t);function e(n){var i=t.call(this)||this;return i._element=n,i}return e})(Array);function w4(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function _4(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function wh(t,e,n){n.applyStyles(e,!0);var i=Array.isArray(t)?t:[t],s=i.map(function(a){return n.getTextWidth(a)}).reduce(function(a,l){return Math.max(a,l)},0);return s}function lw(t,e,n,i){var s=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:s,lineColor:a});var l=uw(s,!1);l&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),i.y-n.y,l)}function uw(t,e){var n=t>0,i=e||e===0;return n&&i?"DF":n?"S":i?"F":null}function Mh(t,e){var n,i,s,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(i=t.top)!==null&&i!==void 0?i:e,right:(s=t.right)!==null&&s!==void 0?s:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function cw(t,e){var n=Mh(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function S4(t,e,n,i,s){var a={},l=1.3333333333333333,c=I0(e,function(U){return s.getComputedStyle(U).backgroundColor});c!=null&&(a.fillColor=c);var d=I0(e,function(U){return s.getComputedStyle(U).color});d!=null&&(a.textColor=d);var f=A4(i,n);f&&(a.cellPadding=f);var p="borderTopColor",w=l*n,S=i.borderTopWidth;if(i.borderBottomWidth===S&&i.borderRightWidth===S&&i.borderLeftWidth===S){var b=(parseFloat(S)||0)/w;b&&(a.lineWidth=b)}else a.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/w,right:(parseFloat(i.borderRightWidth)||0)/w,bottom:(parseFloat(i.borderBottomWidth)||0)/w,left:(parseFloat(i.borderLeftWidth)||0)/w},a.lineWidth.top||(a.lineWidth.right?p="borderRightColor":a.lineWidth.bottom?p="borderBottomColor":a.lineWidth.left&&(p="borderLeftColor"));var N=I0(e,function(U){return s.getComputedStyle(U)[p]});N!=null&&(a.lineColor=N);var T=["left","right","center","justify"];T.indexOf(i.textAlign)!==-1&&(a.halign=i.textAlign),T=["middle","bottom","top"],T.indexOf(i.verticalAlign)!==-1&&(a.valign=i.verticalAlign);var k=parseInt(i.fontSize||"");isNaN(k)||(a.fontSize=k/l);var I=x4(i);I&&(a.fontStyle=I);var F=(i.fontFamily||"").toLowerCase();return t.indexOf(F)!==-1&&(a.font=F),a}function x4(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function I0(t,e){var n=fw(t,e);if(!n)return null;var i=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var s=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],a=parseInt(i[4]);return a===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function fw(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:fw(t.parentElement,e):n}function A4(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],i=96/(72/e),s=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=n.map(function(c){return parseInt(c||"0")/i}),l=Mh(a,0);return s>l.top&&(l.top=s),s>l.bottom&&(l.bottom=s),l}function dw(t,e,n,i,s){var a,l;i===void 0&&(i=!1),s===void 0&&(s=!1);var c;typeof e=="string"?c=n.document.querySelector(e):c=e;var d=Object.keys(t.getFontList()),f=t.scaleFactor(),p=[],w=[],S=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:p,body:w,foot:S};for(var b=0;b<c.rows.length;b++){var N=c.rows[b],T=(l=(a=N==null?void 0:N.parentElement)===null||a===void 0?void 0:a.tagName)===null||l===void 0?void 0:l.toLowerCase(),k=E4(d,f,n,N,i,s);k&&(T==="thead"?p.push(k):T==="tfoot"?S.push(k):w.push(k))}return{head:p,body:w,foot:S}}function E4(t,e,n,i,s,a){for(var l=new aw(i),c=0;c<i.cells.length;c++){var d=i.cells[c],f=n.getComputedStyle(d);if(s||f.display!=="none"){var p=void 0;a&&(p=S4(t,d,e,f,n)),l.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:p,_element:d,content:T4(d)})}}var w=n.getComputedStyle(i);if(l.length>0&&(s||w.display!=="none"))return l}function T4(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function N4(t,e,n){for(var i=0,s=[t,e,n];i<s.length;i++){var a=s[i];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Pa(t,e,n,i,s){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}function hw(t,e){var n=new Pc(t),i=n.getDocumentOptions(),s=n.getGlobalOptions();N4(s,i,e);var a=Pa({},s,i,e),l;typeof window<"u"&&(l=window);var c=C4(s,i,e),d=R4(s,i,e),f=k4(n,a),p=L4(n,a,l);return{id:e.tableId,content:p,hooks:d,styles:c,settings:f}}function C4(t,e,n){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(d){if(d==="columnStyles"){var f=t[d],p=e[d],w=n[d];i.columnStyles=Pa({},f,p,w)}else{var S=[t,e,n],b=S.map(function(N){return N[d]||{}});i[d]=Pa({},b[0],b[1],b[2])}},a=0,l=Object.keys(i);a<l.length;a++){var c=l[a];s(c)}return i}function R4(t,e,n){for(var i=[t,e,n],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,l=i;a<l.length;a++){var c=l[a];c.didParseCell&&s.didParseCell.push(c.didParseCell),c.willDrawCell&&s.willDrawCell.push(c.willDrawCell),c.didDrawCell&&s.didDrawCell.push(c.didDrawCell),c.willDrawPage&&s.willDrawPage.push(c.willDrawPage),c.didDrawPage&&s.didDrawPage.push(c.didDrawPage)}return s}function k4(t,e){var n,i,s,a,l,c,d,f,p,w,S,b,N=Mh(e.margin,40/t.scaleFactor()),T=(n=I4(t,e.startY))!==null&&n!==void 0?n:N.top,k;e.showFoot===!0?k="everyPage":e.showFoot===!1?k="never":k=(i=e.showFoot)!==null&&i!==void 0?i:"everyPage";var I;e.showHead===!0?I="everyPage":e.showHead===!1?I="never":I=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var F=(a=e.useCss)!==null&&a!==void 0?a:!1,U=e.theme||(F?"plain":"striped"),H=!!e.horizontalPageBreak,ae=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:F,theme:U,startY:T,margin:N,pageBreak:(d=e.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(p=e.tableWidth)!==null&&p!==void 0?p:"auto",showHead:I,showFoot:k,tableLineWidth:(w=e.tableLineWidth)!==null&&w!==void 0?w:0,tableLineColor:(S=e.tableLineColor)!==null&&S!==void 0?S:200,horizontalPageBreak:H,horizontalPageBreakRepeat:ae,horizontalPageBreakBehaviour:(b=e.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function I4(t,e){var n=t.getLastAutoTable(),i=t.scaleFactor(),s=t.pageNumber(),a=!1;if(n&&n.startPageNumber){var l=n.startPageNumber+n.pageNumber-1;a=l===s}return typeof e=="number"?e:(e==null||e===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/i:null}function L4(t,e,n){var i=e.head||[],s=e.body||[],a=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(n){var c=dw(t,e.html,n,l,e.useCss)||{};i=c.head||i,s=c.body||i,a=c.foot||i}else console.error("Cannot parse html in non browser environment")}var d=e.columns||M4(i,s,a);return{columns:d,head:i,body:s,foot:a}}function M4(t,e,n){var i=t[0]||e[0]||n[0]||[],s=[];return Object.keys(i).filter(function(a){return a!=="_element"}).forEach(function(a){var l=1,c;Array.isArray(i)?c=i[parseInt(a)]:c=i[a],typeof c=="object"&&!Array.isArray(c)&&(l=(c==null?void 0:c.colSpan)||1);for(var d=0;d<l;d++){var f=void 0;Array.isArray(i)?f=s.length:f=a+(d>0?"_".concat(d):"");var p={dataKey:f};s.push(p)}}),s}var ug=(function(){function t(e,n,i){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=i,this.doc=e.getDocument()}return t})(),P4=(function(t){ow(e,t);function e(n,i,s,a,l,c){var d=t.call(this,n,i,c)||this;return d.cell=s,d.row=a,d.column=l,d.section=a.section,d}return e})(ug),D4=(function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,i){return n+i.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,i){return n+i.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,i,s,a,l){for(var c=0,d=n;c<d.length;c++){var f=d[c],p=new P4(e,this,i,s,a,l),w=f(p)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],w)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var i=0,s=this.hooks.didDrawPage;i<s.length;i++){var a=s[i];a(new ug(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var i=0,s=this.hooks.willDrawPage;i<s.length;i++){var a=s[i];a(new ug(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(s,a){return s+a.wrappedWidth},0);return n}else{var i=this.settings.margin;return e-i.left-i.right}},t})(),pw=(function(){function t(e,n,i,s,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof aw&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=i,this.cells=s,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(i,s){var a;return Math.max(i,((a=n.cells[s.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(i){var s=n.cells[i.index];return s?s.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var i=this;return e.reduce(function(s,a){var l=i.cells[a.index];if(!l)return 0;var c=n.getLineHeight(l.styles.fontSize),d=l.padding("vertical"),f=d+c;return f>s?f:s},0)},t})(),gw=(function(){function t(e,n,i){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=i,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=a!=null?""+a:"",c=/\r\n|\r|\n/g;this.text=l.split(c)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");i=this.x+s/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var i=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*n,a=i*s+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=Mh(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t})(),U4=(function(){function t(e,n,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=i}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,i=0,s=e.allRows();i<s.length;i++){var a=s[i],l=a.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(n=Math.max(n,l.styles.cellWidth))}return n},t})();function O4(t,e){B4(t,e);var n=[],i=0;e.columns.forEach(function(a){var l=a.getMaxCustomCellWidth(e);l?a.width=l:(a.width=a.wrappedWidth,n.push(a)),i+=a.width});var s=e.getWidth(t.pageSize().width)-i;s&&(s=cg(n,s,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),s&&(s=cg(n,s,function(a){return a.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/t.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),q4(e),H4(e,t),F4(e)}function B4(t,e){var n=t.scaleFactor(),i=e.settings.horizontalPageBreak,s=cw(t,e);e.allRows().forEach(function(a){for(var l=0,c=e.columns;l<c.length;l++){var d=c[l],f=a.cells[d.index];if(f){var p=e.hooks.didParseCell;e.callCellHooks(t,p,f,a,d,null);var w=f.padding("horizontal");f.contentWidth=wh(f.text,f.styles,t)+w;var S=wh(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,t);if(f.minReadableWidth=S+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||i===!0)f.contentWidth>s?(f.minWidth=s,f.wrappedWidth=s):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var b=10/n;f.minWidth=f.styles.minCellWidth||b,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(a){for(var l=0,c=e.columns;l<c.length;l++){var d=c[l],f=a.cells[d.index];if(f&&f.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,f.wrappedWidth),d.minWidth=Math.max(d.minWidth,f.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,f.minReadableWidth);else{var p=e.styles.columnStyles[d.dataKey]||e.styles.columnStyles[d.index]||{},w=p.cellWidth||p.minCellWidth;w&&typeof w=="number"&&(d.minWidth=w,d.wrappedWidth=w)}f&&(f.colSpan>1&&!d.minWidth&&(d.minWidth=f.minWidth),f.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=f.minWidth))}})}function cg(t,e,n){for(var i=e,s=t.reduce(function(b,N){return b+N.wrappedWidth},0),a=0;a<t.length;a++){var l=t[a],c=l.wrappedWidth/s,d=i*c,f=l.width+d,p=n(l),w=f<p?p:f;e-=w-l.width,l.width=w}if(e=Math.round(e*1e10)/1e10,e){var S=t.filter(function(b){return e<0?b.width>n(b):!0});S.length&&(e=cg(S,e,n))}return e}function F4(t){for(var e={},n=1,i=t.allRows(),s=0;s<i.length;s++)for(var a=i[s],l=0,c=t.columns;l<c.length;l++){var d=c[l],f=e[d.index];if(n>1)n--,delete a.cells[d.index];else if(f)f.cell.height+=a.height,n=f.cell.colSpan,delete a.cells[d.index],f.left--,f.left<=1&&delete e[d.index];else{var p=a.cells[d.index];if(!p)continue;if(p.height=a.height,p.rowSpan>1){var w=i.length-s,S=p.rowSpan>w?w:p.rowSpan;e[d.index]={cell:p,left:S,row:a}}}}}function q4(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var i=e[n],s=null,a=0,l=0,c=0;c<t.columns.length;c++){var d=t.columns[c];if(l-=1,l>1&&t.columns[c+1])a+=d.width,delete i.cells[d.index];else if(s){var f=s;delete i.cells[d.index],s=null,f.width=d.width+a}else{var f=i.cells[d.index];if(!f)continue;if(l=f.colSpan,a=0,f.colSpan>1){s=f,a+=d.width;continue}f.width=d.width+a}}}function H4(t,e){for(var n={count:0,height:0},i=0,s=t.allRows();i<s.length;i++){for(var a=s[i],l=0,c=t.columns;l<c.length;l++){var d=c[l],f=a.cells[d.index];if(f){e.applyStyles(f.styles,!0);var p=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,p+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=Xy(f.text,p,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=Xy(f.text,p,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var w=f.styles.overflow(f.text,p);typeof w=="string"?f.text=[w]:f.text=w}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var S=f.contentHeight/f.rowSpan;f.rowSpan>1&&n.count*n.height<S*f.rowSpan?n={height:S,count:f.rowSpan}:n&&n.count>0&&n.height>S&&(S=n.height),S>a.height&&(a.height=S)}}n.count--}}function Xy(t,e,n,i,s){return t.map(function(a){return z4(a,e,n,i,s)})}function z4(t,e,n,i,s){var a=1e4*i.scaleFactor();if(e=Math.ceil(e*a)/a,e>=wh(t,n,i))return t;for(;e<wh(t+s,n,i)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+s}function mw(t,e){var n=new Pc(t),i=G4(e,n.scaleFactor()),s=new D4(e,i);return O4(n,s),n.applyStyles(n.userStyles),s}function G4(t,e){var n=t.content,i=V4(n.columns);if(n.head.length===0){var s=Zy(i,"head");s&&n.head.push(s)}if(n.foot.length===0){var s=Zy(i,"foot");s&&n.foot.push(s)}var a=t.settings.theme,l=t.styles;return{columns:i,head:L0("head",n.head,i,l,a,e),body:L0("body",n.body,i,l,a,e),foot:L0("foot",n.foot,i,l,a,e)}}function L0(t,e,n,i,s,a){var l={},c=e.map(function(d,f){for(var p=0,w={},S=0,b=0,N=0,T=n;N<T.length;N++){var k=T[N];if(l[k.index]==null||l[k.index].left===0)if(b===0){var I=void 0;Array.isArray(d)?I=d[k.index-S-p]:I=d[k.dataKey];var F={};typeof I=="object"&&!Array.isArray(I)&&(F=(I==null?void 0:I.styles)||{});var U=$4(t,k,f,s,i,a,F),H=new gw(I,U,t);w[k.dataKey]=H,w[k.index]=H,b=H.colSpan-1,l[k.index]={left:H.rowSpan-1,times:b}}else b--,S++;else l[k.index].left--,b=l[k.index].times,p++}return new pw(d,f,t,w)});return c}function Zy(t,e){var n={};return t.forEach(function(i){if(i.raw!=null){var s=j4(e,i.raw);s!=null&&(n[i.dataKey]=s)}}),Object.keys(n).length>0?n:null}function j4(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function V4(t){return t.map(function(e,n){var i,s;return typeof e=="object"?s=(i=e.dataKey)!==null&&i!==void 0?i:n:s=n,new U4(s,e,n)})}function $4(t,e,n,i,s,a,l){var c=_4(i),d;t==="head"?d=s.headStyles:t==="body"?d=s.bodyStyles:t==="foot"&&(d=s.footStyles);var f=Pa({},c.table,c[t],s.styles,d),p=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},w=t==="body"?p:{},S=t==="body"&&n%2===0?Pa({},c.alternateRow,s.alternateRowStyles):{},b=w4(a),N=Pa({},b,f,S,w);return Pa(N,l)}function J4(t,e,n){var i;n===void 0&&(n={});var s=cw(t,e),a=new Map,l=[],c=[],d=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?d=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(d=[e.settings.horizontalPageBreakRepeat]),d.forEach(function(S){var b=e.columns.find(function(N){return N.dataKey===S||N.index===S});b&&!a.has(b.index)&&(a.set(b.index,!0),l.push(b.index),c.push(e.columns[b.index]),s-=b.wrappedWidth)});for(var f=!0,p=(i=n==null?void 0:n.start)!==null&&i!==void 0?i:0;p<e.columns.length;){if(a.has(p)){p++;continue}var w=e.columns[p].wrappedWidth;if(f||s>=w)f=!1,l.push(p),c.push(e.columns[p]),s-=w;else break;p++}return{colIndexes:l,columns:c,lastIndex:p-1}}function W4(t,e){for(var n=[],i=0;i<e.columns.length;i++){var s=J4(t,e,{start:i});s.columns.length&&(n.push(s),i=s.lastIndex)}return n}function vw(t,e){var n=e.settings,i=n.startY,s=n.margin,a={x:s.left,y:i},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=i+s.bottom+l;if(n.pageBreak==="avoid"){var d=e.body,f=d.reduce(function(S,b){return S+b.height},0);c+=f}var p=new Pc(t);(n.pageBreak==="always"||n.startY!=null&&c>p.pageSize().height)&&(bw(p),a.y=s.top),e.callWillDrawPageHooks(p,a);var w=Pa({},a);e.startPageNumber=p.pageNumber(),n.horizontalPageBreak?Y4(p,e,w,a):(p.applyStyles(p.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(S){return Da(p,e,S,a,e.columns)}),p.applyStyles(p.userStyles),e.body.forEach(function(S,b){var N=b===e.body.length-1;_h(p,e,S,N,w,a,e.columns)}),p.applyStyles(p.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(S){return Da(p,e,S,a,e.columns)})),lw(p,e,w,a),e.callEndPageHooks(p,a),e.finalY=a.y,t.lastAutoTable=e,p.applyStyles(p.userStyles)}function Y4(t,e,n,i){var s=W4(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(f,p){t.applyStyles(t.userStyles),p>0?Pf(t,e,n,i,f.columns,!0):Qy(t,e,i,f.columns),K4(t,e,n,i,f.columns),M0(t,e,i,f.columns)});else for(var l=-1,c=s[0],d=function(){var f=l;if(c){t.applyStyles(t.userStyles);var p=c.columns;l>=0?Pf(t,e,n,i,p,!0):Qy(t,e,i,p),f=e2(t,e,l+1,i,p),M0(t,e,i,p)}var w=f-l;s.slice(1).forEach(function(S){t.applyStyles(t.userStyles),Pf(t,e,n,i,S.columns,!0),e2(t,e,l+1,i,S.columns,w),M0(t,e,i,S.columns)}),l=f};l<e.body.length-1;)d()}function Qy(t,e,n,i){var s=e.settings;t.applyStyles(t.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(a){return Da(t,e,a,n,i)})}function K4(t,e,n,i,s){t.applyStyles(t.userStyles),e.body.forEach(function(a,l){var c=l===e.body.length-1;_h(t,e,a,c,n,i,s)})}function e2(t,e,n,i,s,a){t.applyStyles(t.userStyles),a=a??e.body.length;var l=Math.min(n+a,e.body.length),c=-1;return e.body.slice(n,l).forEach(function(d,f){var p=n+f===e.body.length-1,w=yw(t,e,p,i);d.canEntireRowFit(w,s)&&(Da(t,e,d,i,s),c=n+f)}),c}function M0(t,e,n,i){var s=e.settings;t.applyStyles(t.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(a){return Da(t,e,a,n,i)})}function X4(t,e,n){var i=n.getLineHeight(t.styles.fontSize),s=t.padding("vertical"),a=Math.floor((e-s)/i);return Math.max(0,a)}function Z4(t,e,n,i){var s={};t.spansMultiplePages=!0,t.height=0;for(var a=0,l=0,c=n.columns;l<c.length;l++){var d=c[l],f=t.cells[d.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var p=new gw(f.raw,f.styles,f.section);p=Pa(p,f),p.text=[];var w=X4(f,e,i);f.text.length>w&&(p.text=f.text.splice(w,f.text.length));var S=i.scaleFactor(),b=i.getLineHeightFactor();f.contentHeight=f.getContentHeight(S,b),f.contentHeight>=e&&(f.contentHeight=e,p.styles.minCellHeight-=e),f.contentHeight>t.height&&(t.height=f.contentHeight),p.contentHeight=p.getContentHeight(S,b),p.contentHeight>a&&(a=p.contentHeight),s[d.index]=p}}var N=new pw(t.raw,-1,t.section,s,!0);N.height=a;for(var T=0,k=n.columns;T<k.length;T++){var d=k[T],p=N.cells[d.index];p&&(p.height=N.height);var f=t.cells[d.index];f&&(f.height=t.height)}return N}function Q4(t,e,n,i){var s=t.pageSize().height,a=i.settings.margin,l=a.top+a.bottom,c=s-l;e.section==="body"&&(c-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var d=e.getMinimumRowHeight(i.columns,t),f=d<n;if(d>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var p=e.hasRowSpan(i.columns),w=e.getMaxCellHeight(i.columns)>c;return w?(p&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||i.settings.rowPageBreak==="avoid")}function _h(t,e,n,i,s,a,l){var c=yw(t,e,i,a);if(n.canEntireRowFit(c,l))Da(t,e,n,a,l);else if(Q4(t,n,c,e)){var d=Z4(n,c,e,t);Da(t,e,n,a,l),Pf(t,e,s,a,l),_h(t,e,d,i,s,a,l)}else Pf(t,e,s,a,l),_h(t,e,n,i,s,a,l)}function Da(t,e,n,i,s){i.x=e.settings.margin.left;for(var a=0,l=s;a<l.length;a++){var c=l[a],d=n.cells[c.index];if(!d){i.x+=c.width;continue}t.applyStyles(d.styles),d.x=i.x,d.y=i.y;var f=e.callCellHooks(t,e.hooks.willDrawCell,d,n,c,i);if(f===!1){i.x+=c.width;continue}e3(t,d,i);var p=d.getTextPos();sw(d.text,p.x,p.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,d,n,c,i),i.x+=c.width}i.y+=n.height}function e3(t,e,n){var i=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof i.lineWidth=="number"){var s=uw(i.lineWidth,i.fillColor);s&&t.rect(e.x,n.y,e.width,e.height,s)}else typeof i.lineWidth=="object"&&(i.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),t3(t,e,n,i.lineWidth))}function t3(t,e,n,i){var s,a,l,c;i.top&&(s=n.x,a=n.y,l=n.x+e.width,c=n.y,i.right&&(l+=.5*i.right),i.left&&(s-=.5*i.left),d(i.top,s,a,l,c)),i.bottom&&(s=n.x,a=n.y+e.height,l=n.x+e.width,c=n.y+e.height,i.right&&(l+=.5*i.right),i.left&&(s-=.5*i.left),d(i.bottom,s,a,l,c)),i.left&&(s=n.x,a=n.y,l=n.x,c=n.y+e.height,i.top&&(a-=.5*i.top),i.bottom&&(c+=.5*i.bottom),d(i.left,s,a,l,c)),i.right&&(s=n.x+e.width,a=n.y,l=n.x+e.width,c=n.y+e.height,i.top&&(a-=.5*i.top),i.bottom&&(c+=.5*i.bottom),d(i.right,s,a,l,c));function d(f,p,w,S,b){t.getDocument().setLineWidth(f),t.getDocument().line(p,w,S,b,"S")}}function yw(t,e,n,i){var s=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(s+=e.getFootHeight(e.columns)),t.pageSize().height-i.y-s}function Pf(t,e,n,i,s,a){s===void 0&&(s=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(c){return Da(t,e,c,i,s)}),e.callEndPageHooks(t,i);var l=e.settings.margin;lw(t,e,n,i),bw(t),e.pageNumber++,i.x=l.left,i.y=l.top,n.y=l.top,e.callWillDrawPageHooks(t,i),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return Da(t,e,c,i,s)}),t.applyStyles(t.userStyles))}function bw(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function n3(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0],s=hw(this,i),a=mw(this,s);return vw(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,i,s){sw(e,n,i,s,this)},t.API.autoTableSetDefaults=function(e){return Pc.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Pc.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var i;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Pc(this),a=dw(s,e,window,n,!1),l=a.head,c=a.body,d=((i=l[0])===null||i===void 0?void 0:i.map(function(f){return f.content}))||[];return{columns:d,rows:c,data:c}}}var P0;function i3(t,e){var n=hw(t,e),i=mw(t,n);vw(t,i)}try{if(typeof window<"u"&&window){var t2=window,n2=t2.jsPDF||((P0=t2.jspdf)===null||P0===void 0?void 0:P0.jsPDF);n2&&n3(n2)}}catch(t){console.error("Could not apply autoTable plugin",t)}const r3=t=>{const e=new ft,n=e.internal.pageSize.width,i=e.internal.pageSize.height,s=15,a=n-s*2,l=t.userStats.name||"Valued Member",c=t.userStats.email||"",d=t.userStats.unit||"metric",f=t.userStats.mealStrategy==="leftovers",p=t.userStats.includeSnacks,w=(te,Se,ee,ce="helvetica",he="normal")=>{e.setFont(ce,he),e.setFontSize(ee),e.text(te,n/2,Se,{align:"center"})},S=(te,Se,ee)=>(e.setFillColor(...ee),e.rect(s,Se,a,10,"F"),e.setTextColor(255,255,255),e.setFont("helvetica","bold"),e.setFontSize(10),e.text(te.toUpperCase(),s+5,Se+7),e.setTextColor(30,41,59),Se+15);e.setFillColor(16,185,129),e.rect(0,0,n,i,"F"),e.setTextColor(255,255,255),w("DIETLY PLANS",40,16,"helvetica","bold"),w("12-WEEK TRANSFORMATION",100,32,"helvetica","bold"),w("OFFICIAL ROADMAP",115,14),e.setFillColor(255,255,255),e.roundedRect(s,140,a,100,4,4,"F"),e.setTextColor(30,41,59),w(`PREPARED FOR: ${l.toUpperCase()}`,160,14,"helvetica","bold"),c&&w(c.toLowerCase(),168,10,"helvetica","normal"),w(`GOAL: ${t.userStats.goal.toUpperCase()}`,178,11,"helvetica","bold"),e.setDrawColor(200,200,200),e.line(s+20,185,n-(s+20),185),e.setFontSize(10);const b=d==="metric"?`${t.userStats.weight} kg`:`${Math.round(t.userStats.weight*2.20462)} lbs`;let N=`${t.userStats.height} cm`;if(d==="imperial"){const te=t.userStats.height/2.54,Se=Math.floor(te/12),ee=Math.round(te%12);N=`${Se}' ${ee}"`}e.text(`Starting Weight: ${b}`,s+20,200),e.text(`Height: ${N}`,n-60,200),e.text(`Diet Type: ${t.userStats.dietType}`,s+20,210),e.text(`Cuisine: ${t.userStats.cuisine}`,n-60,210),e.text(`Strategy: ${t.userStats.mealStrategy==="leftovers"?"Cook Dinner -> Lunch":"Fresh Meals"}`,s+20,220),e.text(`Region: ${t.userStats.region||"Global"}`,n-60,220),w("Generated by Dietly AI",235,9,"helvetica","italic"),e.addPage(),e.setFillColor(255,255,255),e.rect(0,0,n,i,"F"),e.setTextColor(30,41,59);let T=20;w("EXECUTIVE SUMMARY",T,20,"helvetica","bold"),T+=15,T=S("Clinical & Safety Analysis",T,[4,120,87]),e.setFontSize(10),e.setFont("helvetica","normal");const k=`${t.safetyVerification}

MEDICATIONS: ${t.medicationAnalysis||"No interaction warnings triggered."}

ALLERGIES: ${t.userStats.allergies||"None reported."}`,I=e.splitTextToSize(k,a-10);e.text(I,s+5,T),T+=I.length*5+10,T=S("Metabolic Profile",T,[14,165,233]);const F=`Basal Metabolic Rate (BMR): ${Math.round(t.userStats.bmr)} kcal/day`,U=`Total Energy Expenditure (TDEE): ${Math.round(t.userStats.tdee)} kcal/day`,H=`Current BMI: ${t.userStats.bmi}`,ae=`Hydration Target: ${t.userStats.waterTargetLitres} Liters/day ${t.userStats.needsElectrolytes?"(High Volume - Electrolytes Recommended)":""}`;e.text(` ${F}`,s+5,T),e.text(` ${U}`,s+5,T+6),e.text(` ${H}`,s+5,T+12),e.text(` ${ae}`,s+5,T+18),T+=30,T=S("Strategic Intelligence",T,[245,158,11]);const de=t.climateAnalysis?`Climate: ${t.climateAnalysis.advice}`:"",re=t.budgetStrategy?`Budget: ${t.budgetStrategy}`:"",se=t.pantryTips?`Pantry: ${t.pantryTips}`:"",V=[de,re,se].filter(Boolean).join(`

`),ge=e.splitTextToSize(V,a-10);e.text(ge,s+5,T);const q=(te,Se)=>{e.addPage(),e.setFillColor(30,41,59),e.rect(0,0,n,i,"F"),e.setTextColor(255,255,255),w(`PHASE ${Se}`,120,40,"helvetica","bold"),e.setTextColor(16,185,129),w(te.phaseName.toUpperCase(),140,20,"helvetica","bold"),e.setTextColor(200,200,200),w(`Daily Calorie Target: ${te.targetCalories} kcal`,155,14);for(let ce=0;ce<4;ce++){const he=ce+1;e.addPage(),e.setFillColor(255,255,255),e.rect(0,0,n,i,"F"),e.setTextColor(15,23,42),e.setFontSize(18),e.setFont("helvetica","bold"),e.text(`Month ${Se} / Week ${he}`,s,25);const le=ce*7,ke=te.dailyPlan.slice(le,le+7),$=p?[["Day","Breakfast","Lunch","Dinner","Snack"]]:[["Day","Breakfast","Lunch","Dinner"]],M=ke.map(oe=>{let ve=oe.meals.lunch.name;f&&oe.day>1&&(ve=`(REHEAT) ${ve}`);const Te=[`Day ${oe.day}`,oe.meals.breakfast.name,ve,oe.meals.dinner.name];return p&&Te.push(oe.meals.snack?oe.meals.snack.name:"-"),Te});i3(e,{startY:35,head:$,body:M,theme:"grid",headStyles:{fillColor:[16,185,129]},styles:{fontSize:8,cellPadding:3},columnStyles:{0:{fontStyle:"bold",cellWidth:15}}});let G=e.lastAutoTable.finalY+15;e.setFontSize(14),e.text(`Shopping List - Week ${he}`,s,G),G+=8;const Y=`week${he}`,ne=te.groceries[Y]||[];e.setFontSize(9),e.setFont("helvetica","normal"),ne.length>0?ne.forEach(oe=>{G>i-20&&(e.addPage(),G=20),e.setFont("helvetica","bold"),e.text(oe.category.toUpperCase(),s,G),G+=4,e.setFont("helvetica","normal");const ve=oe.items.join(", "),Te=e.splitTextToSize(ve,a);e.text(Te,s,G),G+=Te.length*4+4}):e.text("Use pantry staples or refer to previous week.",s,G)}e.addPage(),e.setFillColor(240,253,244),e.rect(0,0,n,i,"F"),e.setTextColor(4,120,87),w(`THE COOKBOOK - MONTH ${Se}`,i/2,24,"helvetica","bold"),w("Detailed recipes for your weekly rotation",i/2+15,12),te.dailyPlan.slice(0,7).forEach((ce,he)=>{e.addPage(),e.setFillColor(255,255,255),e.rect(0,0,n,i,"F");let le=20;e.setFontSize(20),e.setTextColor(30,41,59),e.setFont("helvetica","bold"),e.text(`Day ${he+1} Template`,s,le),e.setFontSize(10),e.setTextColor(100,116,139),e.text(`Calories: ${ce.dailyMacros.calories} | P: ${ce.dailyMacros.protein}g | C: ${ce.dailyMacros.carbs}g | F: ${ce.dailyMacros.fats}g`,s,le+7),e.setDrawColor(226,232,240),e.line(s,le+12,n-s,le+12),le+=20;const ke=(M,G,Y=!1,ne="")=>{if(le>i-60&&(e.addPage(),le=20),e.setFillColor(241,245,249),e.rect(s,le,a,8,"F"),e.setFontSize(11),e.setTextColor(15,23,42),e.setFont("helvetica","bold"),e.text(`${M.toUpperCase()}: ${G.name}`,s+3,le+5.5),le+=14,Y){e.setFontSize(10),e.setFont("helvetica","italic"),e.setTextColor(100,116,139),e.text("LEFTOVERS: Eat the portion saved from yesterday's dinner.",s+5,le),le+=10;return}e.setFontSize(9),e.setFont("helvetica","bold"),e.setTextColor(16,185,129),e.text(`${G.calories} kcal`,s+5,le),e.setTextColor(30,41,59),e.setFont("helvetica","normal"),le+=5,e.setFont("helvetica","bold"),e.text("Ingredients:",s+5,le),le+=5,e.setFont("helvetica","normal");const oe=G.ingredients.join(", "),ve=e.splitTextToSize(oe,a-10);e.text(ve,s+5,le),le+=ve.length*4+4,e.setFont("helvetica","bold"),e.text("Instructions:",s+5,le),le+=5,e.setFont("helvetica","normal"),G.instructions.forEach((Te,Ce)=>{const De=`${Ce+1}. ${Te}`,Ge=e.splitTextToSize(De,a-10);le+Ge.length*4>i-10&&(e.addPage(),le=20),e.text(Ge,s+5,le),le+=Ge.length*4+2}),ne&&(le+=2,e.setFont("helvetica","bolditalic"),e.setTextColor(249,115,22),e.text(ne,s+5,le),e.setTextColor(30,41,59),le+=6),le+=6};ke("Breakfast",ce.meals.breakfast),f?ke("Lunch (Fresh Option)",ce.meals.lunch,!1,"NOTE: If following 'Cook Once' strategy, skip this and eat last night's dinner."):ke("Lunch",ce.meals.lunch);const $=f?"MEAL PREP: Cook double portion to save for tomorrow's lunch.":"";ke("Dinner",ce.meals.dinner,!1,$),p&&ce.meals.snack&&ke("Snack",ce.meals.snack)})};q(t.roadmap.month1,1),q(t.roadmap.month2,2),q(t.roadmap.month3,3),e.addPage(),w("DISCLAIMER",100,16,"helvetica","bold");const ie=e.splitTextToSize(`This meal plan is generated by Artificial Intelligence based on the data provided. It is not medical advice. Consult a healthcare professional before making drastic changes to your diet, especially if you have pre-existing conditions or are taking medication.

DietlyPlans assumes no liability for adverse reactions or health complications.`,a-40);e.setFontSize(10),e.setFont("helvetica","normal"),e.text(ie,s+20,120),e.save(`${l.replace(/\s+/g,"_")}_Transformation_Plan.pdf`)};function Ph(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function s3(t,e,n,i){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{f(i.next(p))}catch(w){l(w)}}function d(p){try{f(i.throw(p))}catch(w){l(w)}}function f(p){p.done?a(p.value):s(p.value).then(c,d)}f((i=i.apply(t,e||[])).next())})}const o3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Gg extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class a3 extends Gg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class i2 extends Gg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class r2 extends Gg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var fg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(fg||(fg={}));class l3{constructor(e,{headers:n={},customFetch:i,region:s=fg.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=o3(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return s3(this,arguments,void 0,function*(n,i={}){var s;let a,l;try{const{headers:c,method:d,body:f,signal:p,timeout:w}=i;let S={},{region:b}=i;b||(b=this.region);const N=new URL(`${this.url}/${n}`);b&&b!=="any"&&(S["x-region"]=b,N.searchParams.set("forceFunctionRegion",b));let T;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",T=f):typeof f=="string"?(S["Content-Type"]="text/plain",T=f):typeof FormData<"u"&&f instanceof FormData?T=f:(S["Content-Type"]="application/json",T=JSON.stringify(f)):T=f;let k=p;w&&(l=new AbortController,a=setTimeout(()=>l.abort(),w),p?(k=l.signal,p.addEventListener("abort",()=>l.abort())):k=l.signal);const I=yield this.fetch(N.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),c),body:T,signal:k}).catch(ae=>{throw new a3(ae)}),F=I.headers.get("x-relay-error");if(F&&F==="true")throw new i2(I);if(!I.ok)throw new r2(I);let U=((s=I.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),H;return U==="application/json"?H=yield I.json():U==="application/octet-stream"||U==="application/pdf"?H=yield I.blob():U==="text/event-stream"?H=I:U==="multipart/form-data"?H=yield I.formData():H=yield I.text(),{data:H,error:null,response:I}}catch(c){return{data:null,error:c,response:c instanceof r2||c instanceof i2?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var u3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},c3=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let l=null,c=null,d=null,f=a.status,p=a.statusText;if(a.ok){var w,S;if(n.method!=="HEAD"){var b;const I=await a.text();I===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?c=I:c=JSON.parse(I))}const T=(w=n.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),k=(S=a.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");T&&k&&k.length>1&&(d=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var N;const T=await a.text();try{l=JSON.parse(T),Array.isArray(l)&&a.status===404&&(c=[],l=null,f=200,p="OK")}catch{a.status===404&&T===""?(f=204,p="No Content"):l={message:T}}if(l&&n.isMaybeSingle&&(!(l==null||(N=l.details)===null||N===void 0)&&N.includes("0 rows"))&&(l=null,f=200,p="OK"),l&&n.shouldThrowOnError)throw new u3(l)}return{error:l,data:c,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(a=>{var l;let c="";const d=a==null?void 0:a.cause;if(d){var f,p,w,S;const N=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",T=(p=d==null?void 0:d.code)!==null&&p!==void 0?p:"";c=`${(w=a==null?void 0:a.name)!==null&&w!==void 0?w:"FetchError"}: ${a==null?void 0:a.message}`,c+=`

Caused by: ${(S=d==null?void 0:d.name)!==null&&S!==void 0?S:"Error"}: ${N}`,T&&(c+=` (${T})`),d!=null&&d.stack&&(c+=`
${d.stack}`)}else{var b;c=(b=a==null?void 0:a.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},f3=class extends c3{select(t){let e=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const s2=new RegExp("[,()]");var Sc=class extends f3{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&s2.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&s2.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},d3=class{constructor(t,{headers:e={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=i}select(t,e){const{head:n=!1,count:i}=e??{},s=n?"HEAD":"GET";let a=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),i&&this.headers.append("Prefer",`count=${i}`),new Sc({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var i;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Sc({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new Sc({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var n;const i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Sc({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Sc({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},h3=class ww{constructor(e,{headers:n={},schema:i,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=i,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new d3(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ww(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:s=!1,count:a}={}){var l;let c;const d=new URL(`${this.url}/rpc/${e}`);let f;i||s?(c=i?"HEAD":"GET",Object.entries(n).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{d.searchParams.append(w,S)})):(c="POST",f=n);const p=new Headers(this.headers);return a&&p.set("Prefer",`count=${a}`),new Sc({method:c,url:d,headers:p,schema:this.schemaName,body:f,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class p3{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const g3="2.88.0",m3=`realtime-js/${g3}`,_w="1.0.0",v3="2.0.0",o2=_w,dg=1e4,y3=1e3,b3=100;var xl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xl||(xl={}));var Gi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Gi||(Gi={}));var So;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(So||(So={}));var hg;(function(t){t.websocket="websocket"})(hg||(hg={}));var du;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(du||(du={}));class w3{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,i;const s=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,i;const s=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},l=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,n,i){var s,a;const l=e.topic,c=(s=e.ref)!==null&&s!==void 0?s:"",d=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},w=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+f.length+w.length,b=new ArrayBuffer(this.HEADER_LENGTH+S);let N=new DataView(b),T=0;N.setUint8(T++,this.KINDS.userBroadcastPush),N.setUint8(T++,d.length),N.setUint8(T++,c.length),N.setUint8(T++,l.length),N.setUint8(T++,f.length),N.setUint8(T++,w.length),N.setUint8(T++,n),Array.from(d,I=>N.setUint8(T++,I.charCodeAt(0))),Array.from(c,I=>N.setUint8(T++,I.charCodeAt(0))),Array.from(l,I=>N.setUint8(T++,I.charCodeAt(0))),Array.from(f,I=>N.setUint8(T++,I.charCodeAt(0))),Array.from(w,I=>N.setUint8(T++,I.charCodeAt(0)));var k=new Uint8Array(b.byteLength+i.byteLength);return k.set(new Uint8Array(b),0),k.set(new Uint8Array(i),b.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return n(i)}if(typeof e=="string"){const i=JSON.parse(e),[s,a,l,c,d]=i;return n({join_ref:s,ref:a,topic:l,event:c,payload:d})}return n({})}_binaryDecode(e){const n=new DataView(e),i=n.getUint8(0),s=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,i){const s=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=i.decode(e.slice(d,d+s));d=d+s;const p=i.decode(e.slice(d,d+a));d=d+a;const w=i.decode(e.slice(d,d+l));d=d+l;const S=e.slice(d,e.byteLength),b=c===this.JSON_ENCODING?JSON.parse(i.decode(S)):S,N={type:this.BROADCAST_EVENT,event:p,payload:b};return l>0&&(N.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>n.includes(i)))}}class Sw{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(zn||(zn={}));const a2=(t,e,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=_3(l,t,e,s),a),{}):{}},_3=(t,e,n,i)=>{const s=e.find(c=>c.name===t),a=s==null?void 0:s.type,l=n[t];return a&&!i.includes(a)?xw(a,l):pg(l)},xw=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return E3(e,n)}switch(t){case zn.bool:return S3(e);case zn.float4:case zn.float8:case zn.int2:case zn.int4:case zn.int8:case zn.numeric:case zn.oid:return x3(e);case zn.json:case zn.jsonb:return A3(e);case zn.timestamp:return T3(e);case zn.abstime:case zn.date:case zn.daterange:case zn.int4range:case zn.int8range:case zn.money:case zn.reltime:case zn.text:case zn.time:case zn.timestamptz:case zn.timetz:case zn.tsrange:case zn.tstzrange:return pg(e);default:return pg(e)}},pg=t=>t,S3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},x3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},A3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},E3=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let a;const l=t.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>xw(e,c))}return t},T3=t=>typeof t=="string"?t.replace(" ","T"):t,Aw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class D0{constructor(e,n,i={},s=dg){this.channel=e,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var l2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(l2||(l2={}));class Df{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Df.syncState(this.state,s,a,l),this.pendingDiffs.forEach(d=>{this.state=Df.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Df.syncDiff(this.state,s,a,l),c())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,s){const a=this.cloneDeep(e),l=this.transformState(n),c={},d={};return this.map(a,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const w=a[f];if(w){const S=p.map(k=>k.presence_ref),b=w.map(k=>k.presence_ref),N=p.filter(k=>b.indexOf(k.presence_ref)<0),T=w.filter(k=>S.indexOf(k.presence_ref)<0);N.length>0&&(c[f]=N),T.length>0&&(d[f]=T)}else c[f]=p}),this.syncDiff(a,{joins:c,leaves:d},i,s)}static syncDiff(e,n,i,s){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(a,(c,d)=>{var f;const p=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(d),p.length>0){const w=e[c].map(b=>b.presence_ref),S=p.filter(b=>w.indexOf(b.presence_ref)<0);e[c].unshift(...S)}i(c,p,d)}),this.map(l,(c,d)=>{let f=e[c];if(!f)return;const p=d.map(w=>w.presence_ref);f=f.filter(w=>p.indexOf(w.presence_ref)<0),e[c]=f,s(c,f,d),f.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const s=e[i];return"metas"in s?n[i]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var u2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(u2||(u2={}));var Uf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Uf||(Uf={}));var Ia;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ia||(Ia={}));class Nc{constructor(e,n={config:{}},i){var s,a;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Gi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new D0(this,So.join,this.params,this.timeout),this.rejoinTimer=new Sw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gi.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Gi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Gi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(So.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Df(this),this.broadcastEndpointURL=Aw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Gi.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,f=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[Uf.PRESENCE]&&this.bindings[Uf.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,w={},S={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Ia.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Ia.CLOSED)),this.updateJoinPayload(Object.assign({config:S},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e==null||e(Ia.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,k=(N=T==null?void 0:T.length)!==null&&N!==void 0?N:0,I=[];for(let F=0;F<k;F++){const U=T[F],{filter:{event:H,schema:ae,table:de,filter:re}}=U,se=b&&b[F];if(se&&se.event===H&&Nc.isFilterValueEqual(se.schema,ae)&&Nc.isFilterValueEqual(se.table,de)&&Nc.isFilterValueEqual(se.filter,re))I.push(Object.assign(Object.assign({},U),{id:se.id}));else{this.unsubscribe(),this.state=Gi.errored,e==null||e(Ia.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,e&&e(Ia.SUBSCRIBED);return}}).receive("error",b=>{this.state=Gi.errored,e==null||e(Ia.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ia.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===Gi.joined&&e===Uf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,n={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,d;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Gi.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(So.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new D0(this,So.leave,{},e),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gi.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const s=new AbortController,a=setTimeout(()=>s.abort(),i),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),l}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new D0(this,e,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>b3){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var s,a;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:f,join:p}=So;if(i&&[c,d,f,p].indexOf(l)>=0&&i!==this._joinRef())return;let S=this._onMessage(l,n,i);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var N,T,k;return((N=b.filter)===null||N===void 0?void 0:N.event)==="*"||((k=(T=b.filter)===null||T===void 0?void 0:T.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(b=>b.callback(S,i)):(a=this.bindings[l])===null||a===void 0||a.filter(b=>{var N,T,k,I,F,U;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const H=b.id,ae=(N=b.filter)===null||N===void 0?void 0:N.event;return H&&((T=n.ids)===null||T===void 0?void 0:T.includes(H))&&(ae==="*"||(ae==null?void 0:ae.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const H=(F=(I=b==null?void 0:b.filter)===null||I===void 0?void 0:I.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return H==="*"||H===((U=n==null?void 0:n.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof S=="object"&&"ids"in S){const N=S.data,{schema:T,table:k,commit_timestamp:I,type:F,errors:U}=N;S=Object.assign(Object.assign({},{schema:T,table:k,commit_timestamp:I,eventType:F,new:{},old:{},errors:U}),this._getPayloadRecords(N))}b.callback(S,i)})}_isClosed(){return this.state===Gi.closed}_isJoined(){return this.state===Gi.joined}_isJoining(){return this.state===Gi.joining}_isLeaving(){return this.state===Gi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const s=e.toLocaleLowerCase(),a={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&Nc.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(So.close,{},e)}_onError(e){this._on(So.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=a2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=a2(e.columns,e.old_record)),n}}const U0=()=>{},Wd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},N3=[1e3,2e3,5e3,1e4],C3=1e4,R3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class k3{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dg,this.transport=null,this.heartbeatIntervalMs=Wd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=U0,this.ref=0,this.reconnectTimer=null,this.vsn=o2,this.logger=U0,this.conn=null,this.sendBuffer=[],this.serializer=new w3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${hg.websocket}`,this.httpEndpoint=Aw(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=p3.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case xl.connecting:return du.Connecting;case xl.open:return du.Open;case xl.closing:return du.Closing;default:return du.Closed}}isConnected(){return this.connectionState()===du.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,s=this.getChannels().find(a=>a.topic===i);if(s)return s;{const a=new Nc(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:i,payload:s,ref:a}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${i} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(y3,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Wd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:s,payload:a,ref:l}=n,c=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${i} ${s} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(i)).forEach(f=>f._trigger(s,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===xl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===xl.open||this.conn.readyState===xl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(So.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${i}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([R3],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,i=!1;if(e)n=e,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:m3};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(So.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Sw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,s,a,l,c,d,f,p,w,S,b;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:dg,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Wd.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:U0,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:o2,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(N=>N3[N-1]||C3),this.vsn){case _w:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:((N,T)=>T(JSON.stringify(N))),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:((N,T)=>T(JSON.parse(N)));break;case v3:this.encode=(S=e==null?void 0:e.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Ff=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function I3(t,e,n){const i=new URL(e,t);if(n)for(const[s,a]of Object.entries(n))a!==void 0&&i.searchParams.set(s,a);return i.toString()}async function L3(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function M3(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:s,body:a,headers:l}){const c=I3(t.baseUrl,i,s),d=await L3(t.auth),f=await e(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...d,...l},body:a?JSON.stringify(a):void 0}),p=await f.text(),w=(f.headers.get("content-type")||"").includes("application/json"),S=w&&p?JSON.parse(p):p;if(!f.ok){const b=w?S:void 0,N=b==null?void 0:b.error;throw new Ff((N==null?void 0:N.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:N==null?void 0:N.type,icebergCode:N==null?void 0:N.code,details:b})}return{status:f.status,headers:f.headers,data:S}}}}function Yd(t){return t.join("")}var P3=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Yd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yd(t.namespace)}`}),!0}catch(e){if(e instanceof Ff&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Ff&&n.status===409)return;throw n}}};function pc(t){return t.join("")}var D3=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pc(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pc(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pc(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pc(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pc(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pc(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Ff&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Ff&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},U3=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=M3({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new P3(this.client,e),this.tableOps=new D3(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Dh=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function li(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var O3=class extends Dh{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},gg=class extends Dh{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const jg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),B3=()=>Response,mg=t=>{if(Array.isArray(t))return t.map(n=>mg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=mg(i)}),e},F3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},q3=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function H3(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(qf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z3(t){var e=H3(t,"string");return qf(e)=="symbol"?e:e+""}function G3(t,e,n){return(e=z3(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(i){G3(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const O0=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},j3=async(t,e,n)=>{t instanceof await B3()&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new O3(O0(i),s,a))}).catch(i=>{e(new gg(O0(i),i))}):e(new gg(O0(t),t))},V3=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?s:(F3(i)?(s.headers=Rt({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(i)):s.body=i,e!=null&&e.duplex&&(s.duplex=e.duplex),Rt(Rt({},s),n))};async function $f(t,e,n,i,s,a){return new Promise((l,c)=>{t(n,V3(e,i,s,a)).then(d=>{if(!d.ok)throw d;return i!=null&&i.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>j3(d,c,i))})}async function Hf(t,e,n,i){return $f(t,"GET",e,n,i)}async function _o(t,e,n,i,s){return $f(t,"POST",e,i,s,n)}async function vg(t,e,n,i,s){return $f(t,"PUT",e,i,s,n)}async function $3(t,e,n,i){return $f(t,"HEAD",e,Rt(Rt({},n),{},{noResolveJson:!0}),i)}async function Vg(t,e,n,i,s){return $f(t,"DELETE",e,i,s,n)}var J3=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(li(e))return{data:null,error:e};throw e}}};let Ew;Ew=Symbol.toStringTag;var W3=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Ew]="BlobDownloadBuilder",this.promise=null}asStream(){return new J3(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(li(e))return{data:null,error:e};throw e}}};const Y3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},f2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var K3=class{constructor(t,e={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=jg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,i){var s=this;try{let a;const l=Rt(Rt({},f2),i);let c=Rt(Rt({},s.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",s.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),d&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(d))):(a=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),i!=null&&i.headers&&(c=Rt(Rt({},c),i.headers));const f=s._removeEmptyFolders(e),p=s._getFinalPath(f),w=await(t=="PUT"?vg:_o)(s.fetch,`${s.url}/object/${p}`,a,Rt({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:w.Id,fullPath:w.Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(li(a))return{data:null,error:a};throw a}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,i){var s=this;const a=s._removeEmptyFolders(t),l=s._getFinalPath(a),c=new URL(s.url+`/object/upload/sign/${l}`);c.searchParams.set("token",e);try{let d;const f=Rt({upsert:f2.upsert},i),p=Rt(Rt({},s.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{data:{path:a,fullPath:(await vg(s.fetch,c.toString(),d,{headers:p})).Key},error:null}}catch(d){if(s.shouldThrowOnError)throw d;if(li(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var n=this;try{let i=n._getFinalPath(t);const s=Rt({},n.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const a=await _o(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:s}),l=new URL(n.url+a.url),c=l.searchParams.get("token");if(!c)throw new Dh("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(li(i))return{data:null,error:i};throw i}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var i=this;try{return{data:await _o(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(li(s))return{data:null,error:s};throw s}}async copy(t,e,n){var i=this;try{return{data:{path:(await _o(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers})).Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(li(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,n){var i=this;try{let s=i._getFinalPath(t),a=await _o(i.fetch,`${i.url}/object/sign/${s}`,Rt({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:i.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${i.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(li(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,n){var i=this;try{const s=await _o(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Rt(Rt({},l),{},{signedUrl:l.signedURL?encodeURI(`${i.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(li(s))return{data:null,error:s};throw s}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>Hf(this.fetch,`${this.url}/${n}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new W3(l,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:mg(await Hf(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(li(i))return{data:null,error:i};throw i}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await $3(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(li(i)&&i instanceof gg){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const n=this._getFinalPath(t),i=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&i.push(s);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}async remove(t){var e=this;try{return{data:await Vg(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}}async list(t,e,n){var i=this;try{const s=Rt(Rt(Rt({},Y3),e),{},{prefix:t||""});return{data:await _o(i.fetch,`${i.url}/object/list/${i.bucketId}`,s,{headers:i.headers},n),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(li(s))return{data:null,error:s};throw s}}async listV2(t,e){var n=this;try{const i=Rt({},t);return{data:await _o(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},e),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(li(i))return{data:null,error:i};throw i}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Tw="2.88.0",Nw={"X-Client-Info":`storage-js/${Tw}`};var X3=class{constructor(t,e={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Rt(Rt({},Nw),e),this.fetch=jg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Hf(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Hf(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await _o(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(li(i))return{data:null,error:i};throw i}}async updateBucket(t,e){var n=this;try{return{data:await vg(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(li(i))return{data:null,error:i};throw i}}async emptyBucket(t){var e=this;try{return{data:await _o(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Vg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Z3=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Rt(Rt({},Nw),e),this.fetch=jg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await _o(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const i=n.toString(),s=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await Hf(e.fetch,s,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Vg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!q3(t))throw new Dh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new U3({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(s,a){const l=s[a];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(s,c),error:null}}catch(d){if(i)throw d;return{data:null,error:d}}}}})}};const $g={"X-Client-Info":`storage-js/${Tw}`,"Content-Type":"application/json"};var Cw=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function bs(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var B0=class extends Cw{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Q3=class extends Cw{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Jg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},d2=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tN=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new B0(d2(a),i,l))}).catch(()=>{const a=i+"";e(new B0(s.statusText||`HTTP ${i} error`,i,a))});else{const a=i+"";e(new B0(s.statusText||`HTTP ${i} error`,i,a))}}else e(new Q3(d2(t),t))},nN=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return i?(eN(i)?(s.headers=Rt({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(i)):s.body=i,Rt(Rt({},s),n)):s};async function iN(t,e,n,i,s,a){return new Promise((l,c)=>{t(n,nN(e,i,s,a)).then(d=>{if(!d.ok)throw d;if(i!=null&&i.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>tN(d,c,i))})}async function ws(t,e,n,i,s){return iN(t,"POST",e,i,s,n)}var rN=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Rt(Rt({},$g),e),this.fetch=Jg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bs(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await ws(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(bs(i))return{data:null,error:i};throw i}}async listIndexes(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bs(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await ws(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(bs(i))return{data:null,error:i};throw i}}},sN=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Rt(Rt({},$g),e),this.fetch=Jg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ws(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bs(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bs(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await ws(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bs(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bs(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ws(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bs(n))return{data:null,error:n};throw n}}},oN=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Rt(Rt({},$g),e),this.fetch=Jg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bs(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bs(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await ws(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bs(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bs(n))return{data:null,error:n};throw n}}},aN=class extends oN{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new lN(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},lN=class extends rN{constructor(t,e,n,i){super(t,e,i),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Rt(Rt({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Rt(Rt({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new uN(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},uN=class extends sN{constructor(t,e,n,i,s){super(t,e,s),this.vectorBucketName=n,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Rt(Rt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Rt(Rt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Rt(Rt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Rt(Rt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Rt(Rt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},cN=class extends X3{constructor(t,e={},n,i){super(t,e,n,i)}from(t){return new K3(this.url,this.headers,t,this.fetch)}get vectors(){return new aN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Z3(this.url+"/iceberg",this.headers,this.fetch)}};const Rw="2.88.0",xc=30*1e3,yg=3,F0=yg*xc,fN="http://localhost:9999",dN="supabase.auth.token",hN={"X-Client-Info":`gotrue-js/${Rw}`},bg="X-Supabase-Api-Version",kw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gN=600*1e3;class zf extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function ct(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class mN extends zf{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function vN(t){return ct(t)&&t.name==="AuthApiError"}class hu extends zf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Oa extends zf{constructor(e,n,i,s){super(e,i,s),this.name=n,this.status=i}}class ys extends Oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yN(t){return ct(t)&&t.name==="AuthSessionMissingError"}class gc extends Oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kd extends Oa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xd extends Oa{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bN(t){return ct(t)&&t.name==="AuthImplicitGrantRedirectError"}class h2 extends Oa{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wN extends Oa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class wg extends Oa{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function q0(t){return ct(t)&&t.name==="AuthRetryableFetchError"}class p2 extends Oa{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class _g extends Oa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),g2=` 	
\r=`.split(""),_N=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<g2.length;e+=1)t[g2[e].charCodeAt(0)]=-2;for(let e=0;e<Sh.length;e+=1)t[Sh[e].charCodeAt(0)]=e;return t})();function m2(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Sh[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Sh[i]),e.queuedBits-=6}}function Iw(t,e,n){const i=_N[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function v2(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=l=>{AN(l,i,n)};for(let l=0;l<t.length;l+=1)Iw(t.charCodeAt(l),s,a);return e.join("")}function SN(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function xN(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}SN(i,e)}}function AN(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Dc(t){const e=[],n={queue:0,queuedBits:0},i=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Iw(t.charCodeAt(s),n,i);return new Uint8Array(e)}function EN(t){const e=[];return xN(t,n=>e.push(n)),new Uint8Array(e)}function pu(t){const e=[],n={queue:0,queuedBits:0},i=s=>{e.push(s)};return t.forEach(s=>m2(s,n,i)),m2(null,n,i),e.join("")}function TN(t){return Math.round(Date.now()/1e3)+t}function NN(){return Symbol("auth-callback")}const cr=()=>typeof window<"u"&&typeof document<"u",ou={tested:!1,writable:!1},Lw=()=>{if(!cr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ou.tested)return ou.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ou.tested=!0,ou.writable=!0}catch{ou.tested=!0,ou.writable=!1}return ou.writable};function CN(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return n.searchParams.forEach((i,s)=>{e[s]=i}),e}const Mw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),RN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ac=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},au=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ur=async(t,e)=>{await t.removeItem(e)};class Uh{constructor(){this.promise=new Uh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Uh.promiseConstructor=Promise;function H0(t){const e=t.split(".");if(e.length!==3)throw new _g("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!pN.test(e[i]))throw new _g("JWT not in base64url format");return{header:JSON.parse(v2(e[0])),payload:JSON.parse(v2(e[1])),signature:Dc(e[2]),raw:{header:e[0],payload:e[1]}}}async function kN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function IN(t,e){return new Promise((i,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){i(l);return}}catch(l){if(!e(a,l)){s(l);return}}})()})}function LN(t){return("0"+t.toString(16)).substr(-2)}function MN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,LN).join("")}async function PN(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function DN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await PN(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mc(t,e,n=!1){const i=MN();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await Ac(t,`${e}-code-verifier`,s);const a=await DN(i);return[a,i===a?"plain":"s256"]}const UN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ON(t){const e=t.headers.get(bg);if(!e||!e.match(UN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function BN(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function FN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vc(t){if(!qN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function z0(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function HN(t,e){return new Proxy(t,{get:(n,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,s)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,i,s)}})}function y2(t){return JSON.parse(JSON.stringify(t))}const uu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zN=[502,503,504];async function b2(t){var e;if(!RN(t))throw new wg(uu(t),0);if(zN.includes(t.status))throw new wg(uu(t),t.status);let n;try{n=await t.json()}catch(a){throw new hu(uu(a),a)}let i;const s=ON(t);if(s&&s.getTime()>=kw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new p2(uu(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new ys}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new p2(uu(n),t.status,n.weak_password.reasons);throw new mN(uu(n),t.status||500,i)}const GN=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function Ct(t,e,n,i){var s;const a=Object.assign({},i==null?void 0:i.headers);a[bg]||(a[bg]=kw["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const l=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(l.redirect_to=i.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await jN(t,e,n+c,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(d):{data:Object.assign({},d),error:null}}async function jN(t,e,n,i,s,a){const l=GN(e,i,s,a);let c;try{c=await t(n,Object.assign({},l))}catch(d){throw console.error(d),new wg(uu(d),0)}if(c.ok||await b2(c),i!=null&&i.noResolveJson)return c;try{return await c.json()}catch(d){await b2(d)}}function wo(t){var e;let n=null;JN(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=TN(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function w2(t){const e=wo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Al(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function VN(t){return{data:t,error:null}}function $N(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a}=t,l=Ph(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function _2(t){return t}function JN(t){return t.access_token&&t.refresh_token&&t.expires_in}const G0=["global","local","others"];class WN{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Mw(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=G0[0]){if(G0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${G0.join(", ")}`);try{return await Ct(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ct(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Al})}catch(i){if(ct(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=Ph(e,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await Ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:$N,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ct(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Al})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,s,a,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:_2});if(p.error)throw p.error;const w=await p.json(),S=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(N=>{const T=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(N.split(";")[1].split("=")[1]);f[`${k}Page`]=T}),f.total=parseInt(S)),{data:Object.assign(Object.assign({},w),f),error:null}}catch(f){if(ct(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){vc(e);try{return await Ct(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Al})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){vc(e);try{return await Ct(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Al})}catch(i){if(ct(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){vc(e);try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Al})}catch(i){if(ct(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){vc(e.userId);try{const{data:n,error:i}=await Ct(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _deleteFactor(e){vc(e.userId),vc(e.id);try{return{data:await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,s,a,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ct(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:_2});if(p.error)throw p.error;const w=await p.json(),S=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(N=>{const T=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(N.split(";")[1].split("=")[1]);f[`${k}Page`]=T}),f.total=parseInt(S)),{data:Object.assign(Object.assign({},w),f),error:null}}catch(f){if(ct(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ct(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ct(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ct(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}}function S2(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const yc={debug:!!(globalThis&&Lw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class YN extends Pw{}async function KN(t,e,n){yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),yc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new YN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function XN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function ZN(t){return parseInt(t,16)}function QN(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function eC(t){var e;const{chainId:n,domain:i,expirationTime:s,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:d,resources:f,scheme:p,uri:w,version:S}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=Dw(t.address),N=p?`${p}://${i}`:i,T=t.statement?`${t.statement}
`:"",k=`${N} wants you to sign in with your Ethereum account:
${b}

${T}`;let I=`URI: ${w}
Version: ${S}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(s&&(I+=`
Expiration Time: ${s.toISOString()}`),c&&(I+=`
Not Before: ${c.toISOString()}`),d&&(I+=`
Request ID: ${d}`),f){let F=`
Resources:`;for(const U of f){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);F+=`
- ${U}`}I+=F}return`${k}
${I}`}class Mi extends Error{constructor({message:e,code:n,cause:i,name:s}){var a;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(a=s??(i instanceof Error?i.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class xh extends Mi{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function tC({error:t,options:e}){var n,i,s;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mi({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Mi({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Mi({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Mi({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Mi({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Mi({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Mi({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Mi({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(Uw(l)){if(a.rp.id!==l)return new Mi({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Mi({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Mi({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function nC({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mi({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Mi({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Uw(i)){if(n.rpId!==i)return new Mi({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Mi({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class iC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const rC=new iC;function sC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,s=Ph(t,["challenge","user","excludeCredentials"]),a=Dc(e).buffer,l=Object.assign(Object.assign({},n),{id:Dc(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:a,user:l});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const f=i[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Dc(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function oC(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=Ph(t,["challenge","allowCredentials"]),s=Dc(e).buffer,a=Object.assign(Object.assign({},i),{challenge:s});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Dc(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function aC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:pu(new Uint8Array(t.response.attestationObject)),clientDataJSON:pu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function lC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:pu(new Uint8Array(s.authenticatorData)),clientDataJSON:pu(new Uint8Array(s.clientDataJSON)),signature:pu(new Uint8Array(s.signature)),userHandle:s.userHandle?pu(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Uw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function x2(){var t,e;return!!(cr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function uC(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xh("Browser returned unexpected credential type",e)}:{data:null,error:new xh("Empty credential response",e)}}catch(e){return{data:null,error:tC({error:e,options:t})}}}async function cC(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xh("Browser returned unexpected credential type",e)}:{data:null,error:new xh("Empty credential response",e)}}catch(e){return{data:null,error:nC({error:e,options:t})}}}const fC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},dC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ah(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of t)if(s)for(const a in s){const l=s[a];if(l!==void 0)if(Array.isArray(l))i[a]=l;else if(n(l))i[a]=l;else if(e(l)){const c=i[a];e(c)?i[a]=Ah(c,l):i[a]=Ah(l)}else i[a]=l}return i}function hC(t,e){return Ah(fC,t,e||{})}function pC(t,e){return Ah(dC,t,e||{})}class gC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:s},a){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:c};const d=s??rC.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${i}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=hC(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:p,error:w}=await uC({publicKey:f,signal:d});return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:w}}case"request":{const f=pC(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:p,error:w}=await cC(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:w}}}}catch(l){return ct(l)?{data:null,error:l}:{data:null,error:new hu("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new zf("rpId is required for WebAuthn authentication")};try{if(!x2())return{data:null,error:new hu("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:s},{request:a});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:i,credential_response:d.credential_response}})}catch(l){return ct(l)?{data:null,error:l}:{data:null,error:new hu("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new zf("rpId is required for WebAuthn registration")};try{if(!x2())return{data:null,error:new hu("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(p=>{var w;return(w=p.data)===null||w===void 0?void 0:w.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:s},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:i,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return ct(l)?{data:null,error:l}:{data:null,error:new hu("Unexpected error in register",l)}}}}XN();const mC={url:fN,storageKey:dN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function A2(t,e,n){return await n()}const bc={};class Gf{get jwks(){var e,n;return(n=(e=bc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){bc[this.storageKey]=Object.assign(Object.assign({},bc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=bc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bc[this.storageKey]=Object.assign(Object.assign({},bc[this.storageKey]),{cachedAt:e})}constructor(e){var n,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},mC),e);if(this.storageKey=a.storageKey,this.instanceID=(n=Gf.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Gf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&cr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new WN({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Mw(a.fetch),this.lock=a.lock||A2,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&cr()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=KN:this.lock=A2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Lw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=S2(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=S2(this.memoryStorage)),cr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Rw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},i="none";if(cr()&&(n=CN(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),cr()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),bN(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ct(n)?this._returnResult({error:n}):this._returnResult({error:new hu("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,s;try{const a=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:wo}),{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(ct(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,i,s;try{let a;if("email"in e){const{email:p,password:w,options:S}=e;let b=null,N=null;this.flowType==="pkce"&&([b,N]=await mc(this.storage,this.storageKey)),a=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:p,password:w,data:(n=S==null?void 0:S.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:b,code_challenge_method:N},xform:wo})}else if("phone"in e){const{phone:p,password:w,options:S}=e;a=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:w,data:(i=S==null?void 0:S.data)!==null&&i!==void 0?i:{},channel:(s=S==null?void 0:S.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:wo})}else throw new Kd("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return await ur(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(await ur(this.storage,`${this.storageKey}-code-verifier`),ct(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:l,options:c}=e;n=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:w2})}else if("phone"in e){const{phone:a,password:l,options:c}=e;n=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:w2})}else throw new Kd("You must provide either an email or phone number and a password");const{data:i,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const a=new gc;return this._returnResult({data:{user:null,session:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(ct(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,i,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,s,a,l,c,d,f,p,w,S;let b,N;if("message"in e)b=e.message,N=e.signature;else{const{chain:T,wallet:k,statement:I,options:F}=e;let U;if(cr())if(typeof k=="object")U=k;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")U=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(F!=null&&F.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=k}const H=new URL((n=F==null?void 0:F.url)!==null&&n!==void 0?n:window.location.href),ae=await U.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ae||ae.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const de=Dw(ae[0]);let re=(i=F==null?void 0:F.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!re){const V=await U.request({method:"eth_chainId"});re=ZN(V)}const se={domain:H.host,address:de,statement:I,uri:H.href,version:"1",chainId:re,nonce:(s=F==null?void 0:F.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(a=F==null?void 0:F.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=F==null?void 0:F.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=F==null?void 0:F.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=F==null?void 0:F.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=F==null?void 0:F.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=eC(se),N=await U.request({method:"personal_sign",params:[QN(b),de]})}try{const{data:T,error:k}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:N},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:wo});if(k)throw k;if(!T||!T.session||!T.user){const I=new gc;return this._returnResult({data:{user:null,session:null},error:I})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:k})}catch(T){if(ct(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(e){var n,i,s,a,l,c,d,f,p,w,S,b;let N,T;if("message"in e)N=e.message,T=e.signature;else{const{chain:k,wallet:I,statement:F,options:U}=e;let H;if(cr())if(typeof I=="object")H=I;else{const de=window;if("solana"in de&&typeof de.solana=="object"&&("signIn"in de.solana&&typeof de.solana.signIn=="function"||"signMessage"in de.solana&&typeof de.solana.signMessage=="function"))H=de.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=I}const ae=new URL((n=U==null?void 0:U.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in H&&H.signIn){const de=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),F?{statement:F}:null));let re;if(Array.isArray(de)&&de[0]&&typeof de[0]=="object")re=de[0];else if(de&&typeof de=="object"&&"signedMessage"in de&&"signature"in de)re=de;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in re&&"signature"in re&&(typeof re.signedMessage=="string"||re.signedMessage instanceof Uint8Array)&&re.signature instanceof Uint8Array)N=typeof re.signedMessage=="string"?re.signedMessage:new TextDecoder().decode(re.signedMessage),T=re.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${ae.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...F?["",F,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(s=(i=U==null?void 0:U.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=U==null?void 0:U.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((l=U==null?void 0:U.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((c=U==null?void 0:U.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((d=U==null?void 0:U.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((f=U==null?void 0:U.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((w=(p=U==null?void 0:U.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||w===void 0)&&w.length?["Resources",...U.signInWithSolana.resources.map(re=>`- ${re}`)]:[]].join(`
`);const de=await H.signMessage(new TextEncoder().encode(N),"utf8");if(!de||!(de instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=de}}try{const{data:k,error:I}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:pu(T)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:wo});if(I)throw I;if(!k||!k.session||!k.user){const F=new gc;return this._returnResult({data:{user:null,session:null},error:F})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:I})}catch(k){if(ct(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await au(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new wN;const{data:a,error:l}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:wo});if(await ur(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const c=new gc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(await ur(this.storage,`${this.storageKey}-code-verifier`),ct(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:i,token:s,access_token:a,nonce:l}=e,c=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:wo}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new gc;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(ct(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,i,s,a,l;try{if("email"in e){const{email:c,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await mc(this.storage,this.storageKey));const{error:w}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in e){const{phone:c,options:d}=e,{data:f,error:p}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p})}throw new Kd("You must provide either an email or phone number.")}catch(c){if(await ur(this.storage,`${this.storageKey}-code-verifier`),ct(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,i;try{let s,a;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:c}=await Ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:wo});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(ct(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,i,s,a,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await mc(this.storage,this.storageKey));const f=await Ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:VN});return!((a=f.data)===null||a===void 0)&&a.url&&cr()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await ur(this.storage,`${this.storageKey}-code-verifier`),ct(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new ys;const{error:s}=await Ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(ct(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:s,options:a}=e,{error:l}=await Ct(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:i,type:s,options:a}=e,{data:l,error:c}=await Ct(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new Kd("You must provide either an email or phone number and a type")}catch(n){if(ct(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await au(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<F0:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const l=await au(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=z0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=HN(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Al}):await this._useSession(async n=>{var i,s,a;const{data:l,error:c}=n;if(c)throw c;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ys}:await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Al})})}catch(n){if(ct(n))return yN(n)&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new ys;const l=s.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await mc(this.storage,this.storageKey));const{data:f,error:p}=await Ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Al});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(i){if(await ur(this.storage,`${this.storageKey}-code-verifier`),ct(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ys;const n=Date.now()/1e3;let i=n,s=!0,a=null;const{payload:l}=H0(e.access_token);if(l.exp&&(i=l.exp,s=i<=n),s){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(ct(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:l,error:c}=n;if(c)throw c;e=(i=l.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new ys;const{data:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ct(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!cr())throw new Xd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new h2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new h2("No code detected.");const{data:F,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:F.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:c,expires_at:d,token_type:f}=e;if(!a||!c||!l||!f)throw new Xd("No session defined in URL");const p=Math.round(Date.now()/1e3),w=parseInt(c);let S=p+w;d&&(S=parseInt(d));const b=S-p;b*1e3<=xc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${w}s`);const N=S-w;p-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,S,p):p-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,S,p);const{data:T,error:k}=await this._getUser(a);if(k)throw k;const I={provider_token:i,provider_refresh_token:s,access_token:a,expires_in:w,expires_at:S,refresh_token:l,token_type:f,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:e.type},error:null})}catch(i){if(ct(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await au(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return this._returnResult({error:a});const l=(i=s.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(vN(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=NN(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,s;try{const{data:{session:a},error:l}=n;if(l)throw l;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await mc(this.storage,this.storageKey,!0));try{return await Ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await ur(this.storage,`${this.storageKey}-code-verifier`),ct(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:s}=await this._useSession(async a=>{var l,c,d,f,p;const{data:w,error:S}=a;if(S)throw S;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ct(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(f=w.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return cr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(ct(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:s,data:{session:a}}=n;if(s)throw s;const{options:l,provider:c,token:d,access_token:f,nonce:p}=e,w=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=a==null?void 0:a.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wo}),{data:S,error:b}=w;return b?this._returnResult({data:{user:null,session:null},error:b}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new gc}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:b}))}catch(s){if(await ur(this.storage,`${this.storageKey}-code-verifier`),ct(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,s;const{data:a,error:l}=n;if(l)throw l;return await Ct(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await IN(async s=>(s>0&&await kN(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wo})),(s,a)=>{const l=200*Math.pow(2,s);return a&&q0(a)&&Date.now()+l-i<xc})}catch(i){if(this._debug(n,"error",i),ct(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),cr()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await au(this.storage,this.storageKey);if(s&&this.userStorage){let l=await au(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Ac(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:z0()}else if(s&&!s.user&&!s.user){const l=await au(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await ur(this.storage,this.storageKey+"-user"),await Ac(this.storage,this.storageKey,s)):s.user=z0()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<F0;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${F0}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),q0(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new ys;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Uh;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new ys;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(s,"error",a),ct(a)){const l={data:null,error:a};return q0(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,i=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ur(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Ac(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=y2(s);await Ac(this.storage,this.storageKey,a)}else{const s=y2(n);await Ac(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ur(this.storage,this.storageKey),await ur(this.storage,this.storageKey+"-code-verifier"),await ur(this.storage,this.storageKey+"-user"),this.userStorage&&await ur(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&cr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/xc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${xc}ms, refresh threshold is ${yg} ticks`),s<=yg&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Pw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,l]=await mc(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;return a?this._returnResult({data:null,error:a}):await Ct(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,s;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await Ct(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?aC(e.webauthn.credential_response):lC(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:sC(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:oC(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:i},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=H0(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await Ct(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ys})})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new ys});const l=await Ct(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&cr()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(i){if(ct(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new ys});const l=await Ct(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&cr()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(i){if(ct(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;return i?this._returnResult({data:null,error:i}):n?await Ct(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ys})})}catch(e){if(ct(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?(await Ct(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ys})})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(c=>c.kid===e);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+gN>s)return i;const{data:a,error:l}=await Ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(c=>c.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:b,error:N}=await this.getSession();if(N||!b.session)return this._returnResult({data:null,error:N});i=b.session.access_token}const{header:s,payload:a,signature:l,raw:{header:c,payload:d}}=H0(i);n!=null&&n.allowExpired||BN(a.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:a,header:s,signature:l},error:null}}const p=FN(s.alg),w=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,w,l,EN(`${c}.${d}`)))throw new _g("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(i){if(ct(i))return this._returnResult({data:null,error:i});throw i}}}Gf.nextInstanceID={};const vC=Gf,yC="2.88.0";let kf="";typeof Deno<"u"?kf="deno":typeof document<"u"?kf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kf="react-native":kf="node";const bC={"X-Client-Info":`supabase-js-${kf}/${yC}`},wC={headers:bC},_C={schema:"public"},SC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xC={};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function AC(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(jf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EC(t){var e=AC(t,"string");return jf(e)=="symbol"?e:e+""}function TC(t,e,n){return(e=EC(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(i){TC(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const NC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),CC=()=>Headers,RC=(t,e,n)=>{const i=NC(n),s=CC();return async(a,l)=>{var c;const d=(c=await e())!==null&&c!==void 0?c:t;let f=new s(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),i(a,bi(bi({},l),{},{headers:f}))}};function kC(t){return t.endsWith("/")?t:t+"/"}function IC(t,e){var n,i;const{db:s,auth:a,realtime:l,global:c}=t,{db:d,auth:f,realtime:p,global:w}=e,S={db:bi(bi({},d),s),auth:bi(bi({},f),a),realtime:bi(bi({},p),l),storage:{},global:bi(bi(bi({},w),c),{},{headers:bi(bi({},(n=w==null?void 0:w.headers)!==null&&n!==void 0?n:{}),(i=c==null?void 0:c.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function LC(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kC(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var MC=class extends vC{constructor(t){super(t)}},PC=class{constructor(t,e,n){var i,s;this.supabaseUrl=t,this.supabaseKey=e;const a=LC(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:_C,realtime:xC,auth:bi(bi({},SC),{},{storageKey:l}),global:wC},d=IC(n??{},c);if(this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=RC(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(bi({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new h3(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new cN(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new l3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:l,lock:c,debug:d,throwOnError:f},p,w){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MC({url:this.authUrl.href,headers:bi(bi({},S),p),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:s,flowType:l,lock:c,debug:d,throwOnError:f,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new k3(this.realtimeUrl.href,bi(bi({},t),{},{params:bi(bi({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const DC=(t,e,n)=>new PC(t,e,n);function UC(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}UC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ow="https://njhmmwcscukshdqflivq.supabase.co",Sg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5qaG1td2NzY3Vrc2hkcWZsaXZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2NDY0NDMsImV4cCI6MjA4MTIyMjQ0M30.Bs6DshZ_IicG9u9PXeOutzQqjGb_1JhxRjHcfoguJBs",xo=DC(Ow,Sg),La=async(t,e,n={})=>{try{xo.from("activity_logs").insert({user_id:t,action_type:e,metadata:n}).then(({error:i})=>{i&&console.warn("Tracking Error:",i.message)})}catch(i){console.warn("Tracking failed silently",i)}},OC=async(t,e)=>{try{const{error:n}=await xo.from("plan_history").insert({user_id:t,full_data:e});n&&console.warn("History Archive Error:",n.message)}catch(n){console.warn("History save failed",n)}},BC=async(t,e,n,i)=>{const s=`${Ow}/functions/v1/create-dodo-checkout`;try{const a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",apikey:Sg,Authorization:`Bearer ${Sg}`},body:JSON.stringify({userId:t,userEmail:e,userName:n,currency:i})});if(!a.ok){const c=await a.json().catch(()=>({}));throw console.error("Edge Function Response Error:",{status:a.status,statusText:a.statusText,data:c}),a.status===404?new Error("Payment service endpoint not found. Please ensure the Edge Function is deployed."):new Error(c.error||`Checkout failed with status ${a.status}`)}const l=await a.json();if(!(l!=null&&l.payment_link))throw console.error("Invalid response format from Edge Function:",l),new Error("No payment link returned from payment provider.");return l.payment_link}catch(a){throw console.error("Payment Link Generation Error Details:",a),a.message==="Failed to fetch"||a.name==="TypeError"?new Error("Unable to reach the payment server. Please check your internet connection or project status."):new Error(a.message||"Failed to initialize secure checkout.")}},ka=()=>{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createGain();e.type="sine",e.frequency.setValueAtTime(800,t.currentTime),e.frequency.exponentialRampToValueAtTime(1200,t.currentTime+.1),n.gain.setValueAtTime(.1,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.1),e.connect(n),n.connect(t.destination),e.start(),e.stop(t.currentTime+.1)},FC=(t,e)=>{const n=t.toLowerCase();return e==="Breakfast"?n.includes("egg")||n.includes("omelet")?"":n.includes("oat")||n.includes("porridge")?"":n.includes("pancake")||n.includes("waffle")?"":n.includes("smoothie")||n.includes("shake")?"":n.includes("yogurt")?"":"":n.includes("chicken")?"":n.includes("beef")||n.includes("steak")?"":n.includes("fish")||n.includes("salmon")||n.includes("tuna")?"":n.includes("pork")?"":n.includes("salad")?"":n.includes("soup")||n.includes("stew")?"":n.includes("pasta")||n.includes("spaghetti")?"":n.includes("rice")?"":n.includes("burger")?"":n.includes("taco")||n.includes("mexican")?"":n.includes("sandwich")||n.includes("wrap")?"":n.includes("pizza")?"":n.includes("curry")?"":e==="Snack"?n.includes("nut")?"":n.includes("fruit")||n.includes("apple")||n.includes("banana")?"":n.includes("bar")?"":"":""},Zd=({meal:t,type:e,isReheat:n})=>{const[i,s]=cn.useState(!1),a=n?"":FC(t.name,e),l=!!t.warning,c=()=>{ka(),s(!i)};return L.jsxs("div",{className:`border-l-4 pl-4 py-1 hover:border-primary transition-all ${l?"border-amber-400 bg-amber-50/50":n?"border-sky-300 bg-sky-50/30":"border-slate-100"}`,children:[L.jsxs("div",{onClick:c,className:"flex justify-between items-center cursor-pointer group",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("span",{className:"text-2xl filter drop-shadow-sm",children:a}),L.jsxs("div",{children:[L.jsxs("p",{className:"text-[10px] uppercase tracking-widest text-slate-400 font-bold mb-0.5 flex items-center gap-2",children:[e,n&&L.jsxs("span",{className:"bg-sky-100 text-sky-600 px-1.5 rounded text-[9px] flex items-center gap-1",children:[L.jsx(eA,{className:"w-3 h-3"})," REHEAT"]}),l&&L.jsx(Y0,{className:"w-3 h-3 text-amber-500"})]}),L.jsx("p",{className:`text-sm font-bold leading-tight group-hover:text-primary transition-colors line-clamp-1 ${n?"text-slate-600":"text-dark"}`,children:t.name})]})]}),L.jsx("div",{className:"flex items-center gap-2",children:i?L.jsx(yx,{className:"w-5 h-5 text-slate-300"}):L.jsx(ah,{className:"w-5 h-5 text-slate-300"})})]}),i&&L.jsxs("div",{className:"mt-3 text-xs text-slate-600 animate-in slide-in-from-top-2 duration-200 bg-slate-50 p-3 rounded-lg",children:[t.warning&&L.jsxs("div",{className:"mb-3 p-2 bg-red-100 text-red-700 rounded-md font-bold border border-red-200 flex items-start gap-2",children:[L.jsx(Y0,{className:"w-4 h-4 shrink-0 mt-0.5"}),t.warning]}),n&&L.jsxs("div",{className:"mb-3 p-2 bg-sky-100 text-sky-700 rounded-md font-bold border border-sky-200 flex items-start gap-2",children:[L.jsx(lA,{className:"w-4 h-4 shrink-0 mt-0.5"}),L.jsx("p",{children:"Leftover Logic: Do not cook. Use the portion you cooked during last night's dinner."})]}),t.description&&L.jsx("p",{className:`mb-2 italic border-b border-slate-200 pb-2 ${t.description.includes("")?"text-amber-600 font-bold":"text-slate-500"}`,children:t.description}),L.jsxs("div",{className:"flex gap-2 mb-2 overflow-x-auto pb-1",children:[L.jsxs("span",{className:"bg-orange-100 text-orange-600 px-2 py-0.5 rounded font-bold",children:[t.calories," kcal"]}),L.jsxs("span",{className:"bg-blue-100 text-blue-600 px-2 py-0.5 rounded font-bold",children:["P: ",t.macros.p,"g"]}),L.jsxs("span",{className:"bg-green-100 text-green-600 px-2 py-0.5 rounded font-bold",children:["C: ",t.macros.c,"g"]}),L.jsxs("span",{className:"bg-yellow-100 text-yellow-600 px-2 py-0.5 rounded font-bold",children:["F: ",t.macros.f,"g"]})]}),L.jsxs("div",{className:"flex gap-2 mb-2 overflow-x-auto pb-1 text-[10px]",children:[t.macros.fiber&&L.jsxs("span",{className:"bg-purple-100 text-purple-600 px-2 py-0.5 rounded font-bold",children:["Fiber: ",t.macros.fiber,"g"]}),t.macros.sugar&&L.jsxs("span",{className:"bg-pink-100 text-pink-600 px-2 py-0.5 rounded font-bold",children:["Sugar: ",t.macros.sugar,"g"]}),t.macros.sodium&&L.jsxs("span",{className:"bg-slate-200 text-slate-600 px-2 py-0.5 rounded font-bold",children:["Na: ",t.macros.sodium,"mg"]})]}),L.jsx("p",{className:"font-bold mb-1 text-dark",children:"Ingredients:"}),L.jsx("p",{className:"mb-3 leading-relaxed text-slate-500",children:t.ingredients.join(", ")}),t.sideDish&&L.jsxs("div",{className:"mb-3 p-2 bg-emerald-50 border border-emerald-100 rounded-md flex items-start gap-2",children:[L.jsx(Vx,{className:"w-4 h-4 text-emerald-500 shrink-0 mt-0.5"}),L.jsxs("div",{children:[L.jsx("span",{className:"block font-bold text-emerald-700",children:"Volume Boost (Required):"}),L.jsx("span",{className:"text-emerald-600",children:t.sideDish})]})]}),t.instructions&&t.instructions.length>0&&!n&&L.jsxs(L.Fragment,{children:[L.jsx("p",{className:"font-bold mb-1 text-dark",children:"Instructions:"}),L.jsx("ol",{className:"space-y-2",children:t.instructions.map((d,f)=>L.jsxs("li",{className:"flex gap-2",children:[L.jsx("span",{className:"bg-primary/10 text-primary w-5 h-5 rounded-full flex items-center justify-center font-bold shrink-0",children:f+1}),L.jsx("span",{children:d})]},f))})]})]})]})},qC=({plan:t,isPaid:e,userId:n,userEmail:i})=>{const[s,a]=cn.useState("month1"),[l,c]=cn.useState(0),[d,f]=cn.useState("meals"),[p,w]=cn.useState(0),[S,b]=cn.useState(!1),[N,T]=cn.useState(!1),[k,I]=cn.useState(840*60);cn.useEffect(()=>{const le=setInterval(()=>{I(ke=>ke>0?ke-1:50400)},1e3);return()=>clearInterval(le)},[]);const F=le=>{const ke=Math.floor(le/3600),$=Math.floor(le%3600/60),M=le%60;return`${ke.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`},U=async()=>{if(ka(),n){b(!0);try{La(n,"checkout_initiated_dodo");const le=await BC(n,i,t.userStats.name,t.userStats.currency);window.location.href=le}catch(le){console.error(le),alert("Checkout Error. Please try again."),b(!1)}}else alert("Please log in first.")},H=()=>{ka(),T(!0)},ae=()=>{ka(),T(!1),r3(t),n&&La(n,"download_pdf",{fileName:`${t.userStats.name}_Plan.pdf`})},de=le=>{ka(),a(le),c(0)},re=le=>{ka(),c(le),f("meals")},se=t.roadmap[s],V=[];for(let le=0;le<se.dailyPlan.length;le+=7)V.push(se.dailyPlan.slice(le,le+7));const ge=V[l]||[],q=`Week ${l+1}`,W=["week1","week2","week3","week4"],ie=l<4?se.groceries[W[l]]:[],te=()=>{ka(),p>=t.userStats.waterTargetLitres?w(0):w(le=>Math.min(le+.25,t.userStats.waterTargetLitres))},ee=(()=>{const le=t.roadmap.month1.targetCalories,ke=se.targetCalories;return ke>=le?null:Math.round((le-ke)/le*100)})(),ce=t.userStats.mealStrategy==="leftovers",he=t.userStats.includeSnacks;return L.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 pb-32",children:[L.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end justify-between gap-4",children:[L.jsxs("div",{children:[L.jsxs("h2",{className:"text-3xl font-black text-dark tracking-tight",children:["Welcome, ",L.jsx("span",{className:"text-primary",children:t.userStats.name})]}),L.jsx("p",{className:"text-slate-400 font-medium",children:"Here is your daily transformation protocol."})]}),L.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-full border border-slate-100 shadow-sm",children:[L.jsx(db,{className:"w-4 h-4 text-slate-400"}),L.jsxs("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:[t.userStats.goal," MODE"]})]})]}),L.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[L.jsxs("div",{className:"bg-white p-5 rounded-3xl shadow-sm border border-slate-100 flex flex-col items-center justify-center text-center gap-2 relative overflow-hidden group",children:[L.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-orange-400"}),L.jsx("div",{className:"p-3 bg-orange-50 rounded-2xl text-orange-500 mb-1 group-hover:scale-110 transition-transform",children:L.jsx(Iv,{className:"w-6 h-6 fill-orange-500/20"})}),L.jsxs("div",{children:[L.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:["Daily Fuel ",L.jsxs("span",{className:"text-orange-300",children:["(",he?"4":"3"," Meals)"]})]}),L.jsxs("p",{className:"text-2xl font-black text-dark tracking-tight",children:[se.targetCalories," ",L.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"kcal"})]})]})]}),L.jsxs("button",{onClick:te,className:"bg-white p-5 rounded-3xl shadow-sm border border-slate-100 flex flex-col items-center justify-center text-center gap-2 relative overflow-hidden group active:scale-95 transition-all cursor-pointer",children:[L.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-blue-500"}),L.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-blue-50 transition-all duration-500",style:{height:`${p/t.userStats.waterTargetLitres*100}%`}}),L.jsx("div",{className:"p-3 bg-blue-100 rounded-2xl text-blue-500 mb-1 z-10",children:L.jsx(Mx,{className:"w-6 h-6 fill-blue-500/20"})}),L.jsxs("div",{className:"z-10",children:[L.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Hydration"}),L.jsxs("p",{className:"text-2xl font-black text-dark tracking-tight",children:[p," ",L.jsx("span",{className:"text-slate-300",children:"/"})," ",t.userStats.waterTargetLitres," ",L.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"L"})]})]})]}),L.jsxs("div",{className:"bg-white p-5 rounded-3xl shadow-sm border border-slate-100 flex flex-col items-center justify-center text-center gap-2 relative overflow-hidden",children:[L.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-emerald-400"}),L.jsx("div",{className:"p-3 bg-emerald-50 rounded-2xl text-emerald-500 mb-1",children:L.jsx(kv,{className:"w-6 h-6"})}),L.jsxs("div",{children:[L.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Base Burn"}),L.jsx("p",{className:"text-2xl font-black text-dark tracking-tight",children:Math.round(t.userStats.bmr)})]})]}),L.jsxs("div",{className:"bg-white p-5 rounded-3xl shadow-sm border border-slate-100 flex flex-col items-center justify-center text-center gap-2 relative overflow-hidden",children:[L.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-purple-400"}),L.jsx("div",{className:"p-3 bg-purple-50 rounded-2xl text-purple-500 mb-1",children:L.jsx(kv,{className:"w-6 h-6"})}),L.jsxs("div",{children:[L.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"BMI"}),L.jsx("p",{className:"text-2xl font-black text-dark tracking-tight",children:t.userStats.bmi})]})]})]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.budgetStrategy&&L.jsxs("div",{className:"bg-emerald-50 border-l-4 border-emerald-400 p-4 rounded-xl flex items-start gap-3 shadow-sm",children:[L.jsx(xA,{className:"w-6 h-6 text-emerald-500 shrink-0 mt-0.5"}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-bold text-emerald-800 text-sm uppercase tracking-wider mb-1",children:"Budget Strategy Applied"}),L.jsx("p",{className:"text-sm text-emerald-700 leading-relaxed font-medium",children:t.budgetStrategy})]})]}),t.climateAnalysis&&L.jsxs("div",{className:"bg-sky-50 border-l-4 border-sky-400 p-4 rounded-xl flex items-start gap-3 shadow-sm",children:[L.jsx(Cx,{className:"w-6 h-6 text-sky-500 shrink-0 mt-0.5"}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-bold text-sky-800 text-sm uppercase tracking-wider mb-1",children:"Regional Climate Analysis"}),L.jsx("p",{className:"text-sm text-sky-700 leading-relaxed font-medium",children:t.climateAnalysis.advice})]})]}),t.userStats.needsElectrolytes&&L.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-xl flex items-start gap-3 shadow-sm md:col-span-2",children:[L.jsx(Y0,{className:"w-6 h-6 text-amber-500 shrink-0 mt-0.5"}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-bold text-amber-800",children:"High Hydration Warning"}),L.jsxs("p",{className:"text-sm text-amber-700 leading-relaxed",children:["Based on your activity and region, your water target is high (",t.userStats.waterTargetLitres,"L). To prevent ",L.jsx("strong",{children:"electrolyte imbalance"}),", consider adding a pinch of sea salt or electrolytes to your water once a day."]})]})]}),t.medicationAnalysis&&L.jsxs("div",{className:"bg-rose-50 border-l-4 border-rose-500 p-4 rounded-xl flex items-start gap-3 shadow-sm md:col-span-2",children:[L.jsx(rA,{className:"w-6 h-6 text-rose-500 shrink-0 mt-0.5"}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-bold text-rose-800",children:"Food-Drug Interaction Safety Check"}),L.jsx("p",{className:"text-sm text-rose-700 leading-relaxed font-medium",children:t.medicationAnalysis})]})]})]}),L.jsxs("div",{className:"bg-dark rounded-[2rem] p-2 flex flex-col md:flex-row gap-2 shadow-xl shadow-slate-200",children:[L.jsx("div",{className:"flex-1 grid grid-cols-3 gap-2",children:["month1","month2","month3"].map((le,ke)=>L.jsxs("button",{onClick:()=>de(le),className:`py-4 px-2 rounded-3xl text-sm font-bold transition-all relative overflow-hidden ${s===le?"bg-primary text-white shadow-lg":"bg-transparent text-slate-400 hover:bg-slate-800"}`,children:[L.jsxs("span",{className:"block text-[10px] opacity-70 uppercase tracking-widest mb-1",children:["Month ",ke+1]}),ke===0?"Ignition":ke===1?"Momentum":"Peak"]},le))}),L.jsx("div",{className:"bg-slate-800/50 rounded-[20px] px-6 py-3 flex items-center justify-between gap-4 text-white",children:L.jsxs("div",{className:"text-left",children:[L.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-widest",children:"Phase Focus"}),L.jsx("p",{className:"font-bold text-sm md:text-lg text-secondary",children:se.phaseName})]})})]}),L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[L.jsxs("h2",{className:"text-2xl font-black text-dark flex items-center gap-2",children:["Monthly Roadmap",!e&&L.jsx("span",{className:"bg-secondary text-white text-[10px] font-bold px-2 py-1 rounded-full",children:"PREVIEW MODE"})]}),L.jsxs("button",{onClick:H,className:"flex bg-white hover:bg-slate-50 text-slate-600 border border-slate-200 px-5 py-3 rounded-2xl font-bold items-center gap-2 transition-all shadow-sm active:scale-95 w-full md:w-auto justify-center",children:[L.jsx(a0,{className:"w-4 h-4"}),"Download Plan"]})]}),L.jsx("div",{className:"bg-white p-2 rounded-3xl shadow-sm border border-slate-100 flex overflow-x-auto gap-2 scrollbar-hide",children:V.map((le,ke)=>L.jsxs("button",{onClick:()=>re(ke),className:`flex-1 min-w-[100px] py-4 rounded-2xl font-bold text-sm transition-all whitespace-nowrap ${l===ke?"bg-dark text-white shadow-lg shadow-slate-200":"hover:bg-slate-50 text-slate-400"}`,children:["Week ",ke+1]},ke))}),L.jsxs("div",{className:"flex gap-6 border-b-2 border-slate-100 px-4",children:[L.jsxs("button",{onClick:()=>{ka(),f("meals")},className:`pb-3 flex items-center gap-2 font-bold text-lg transition-all border-b-4 -mb-[2px] ${d==="meals"?"border-primary text-primary":"border-transparent text-slate-300 hover:text-slate-400"}`,children:[L.jsx(_A,{className:"w-5 h-5"}),"Meals"]}),L.jsxs("button",{onClick:()=>{ka(),f("groceries")},className:`pb-3 flex items-center gap-2 font-bold text-lg transition-all border-b-4 -mb-[2px] ${d==="groceries"?"border-primary text-primary":"border-transparent text-slate-300 hover:text-slate-400"}`,children:[L.jsx(Mv,{className:"w-5 h-5"}),"Shopping"]})]}),L.jsx("div",{className:"min-h-[400px]",children:d==="meals"?L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:ge.map(le=>{const ke=le.day-1>=3,$=!e&&(s!=="month1"||ke),M=ce&&le.day>1;return L.jsxs("div",{className:`bg-white rounded-[2rem] overflow-hidden border border-slate-100 shadow-sm relative transition-all duration-300 ${$?"blur-[2px] select-none opacity-80":"hover:shadow-xl hover:-translate-y-1 hover:border-primary/20"}`,children:[L.jsxs("div",{className:`p-5 flex justify-between items-center ${$?"bg-slate-50":"bg-gradient-to-br from-slate-50 to-white"}`,children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("span",{className:`flex items-center justify-center w-10 h-10 rounded-full font-black text-lg ${$?"bg-slate-200 text-slate-400":"bg-primary text-white shadow-lg shadow-primary/30"}`,children:le.day}),L.jsx("span",{className:"font-bold text-slate-400 text-sm",children:"Day"})]}),L.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-100 shadow-sm",children:[L.jsx(Iv,{className:"w-3.5 h-3.5 text-orange-500 fill-orange-500"}),le.dailyMacros.calories]})]}),L.jsx("div",{className:"p-5 space-y-6",children:$?L.jsxs("div",{className:"space-y-4 opacity-50",children:[L.jsx("div",{className:"h-16 bg-slate-100 rounded-xl w-full animate-pulse"}),L.jsx("div",{className:"h-16 bg-slate-100 rounded-xl w-full animate-pulse"}),L.jsx("div",{className:"h-16 bg-slate-100 rounded-xl w-full animate-pulse"})]}):L.jsxs(L.Fragment,{children:[L.jsx(Zd,{meal:le.meals.breakfast,type:"Breakfast"}),L.jsx(Zd,{meal:le.meals.lunch,type:"Lunch",isReheat:M}),L.jsx(Zd,{meal:le.meals.dinner,type:"Dinner"}),le.meals.snack&&L.jsx(Zd,{meal:le.meals.snack,type:"Snack"})]})}),$&&L.jsx("div",{className:"absolute inset-0 z-10 bg-white/40 backdrop-blur-[2px] flex items-center justify-center",children:L.jsx("div",{className:"bg-white p-4 rounded-full shadow-2xl scale-110",children:L.jsx(l0,{className:"w-8 h-8 text-slate-300"})})})]},le.day)})}):L.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 p-8 md:p-10 shadow-lg animate-in fade-in slide-in-from-right-4 duration-300",children:[L.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[L.jsx("div",{className:"p-4 bg-primary/10 rounded-2xl",children:L.jsx(Mv,{className:"w-8 h-8 text-primary"})}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-2xl font-black text-dark",children:"Shopping List"}),L.jsxs("p",{className:"text-slate-400 font-medium",children:["Items for ",q]})]})]}),t.pantryTips&&L.jsxs("div",{className:"mb-6 p-4 bg-emerald-50 text-emerald-800 rounded-xl border border-emerald-100 text-sm font-medium flex items-start gap-2",children:[L.jsx(Tx,{className:"w-5 h-5 shrink-0"}),L.jsxs("p",{children:[L.jsx("strong",{children:"Chef's Pantry Tips:"})," ",t.pantryTips]})]}),ee&&ee>0&&L.jsxs("div",{className:"mb-8 p-4 bg-blue-50 text-blue-800 rounded-xl border border-blue-100 text-sm font-medium flex items-start gap-2",children:[L.jsx(K0,{className:"w-5 h-5 shrink-0"}),L.jsxs("p",{children:[L.jsx("strong",{children:"Optimization Note:"})," Your calories for this month have dropped by ",ee,"%. Please buy slightly less of your bulk proteins and carbs (Rice, Chicken, etc) than what is listed below to avoid waste."]})]}),e?ie&&ie.length>0?L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:ie.map((le,ke)=>L.jsxs("div",{className:"bg-slate-50/50 p-6 rounded-3xl",children:[L.jsxs("h4",{className:"font-extrabold text-lg text-primary mb-4 uppercase tracking-wider flex items-center gap-2",children:[L.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),le.category]}),L.jsx("ul",{className:"space-y-3",children:le.items.map(($,M)=>L.jsxs("li",{className:"flex items-start gap-3 text-slate-600 font-semibold text-sm group",children:[L.jsx("div",{className:"w-5 h-5 rounded-md border-2 border-slate-200 flex items-center justify-center group-hover:border-primary transition-colors cursor-pointer",children:L.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-primary opacity-0 group-hover:opacity-100 transition-opacity"})}),L.jsx("span",{className:"mt-0.5",children:$})]},M))})]},ke))}):L.jsx("div",{className:"text-center py-10 text-slate-400",children:L.jsx("p",{children:"No specific shopping list generated for this week."})}):L.jsxs("div",{className:"text-center py-12 bg-slate-50 rounded-3xl border border-dashed border-slate-200",children:[L.jsx(l0,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),L.jsx("p",{className:"text-slate-500 font-bold text-lg",children:"Full List Locked"}),L.jsx("p",{className:"text-slate-400 text-sm max-w-xs mx-auto mt-2",children:"Unlock the full 12-week transformation to access precise shopping lists for every week."})]})]})})]}),!e&&L.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 md:p-6 bg-gradient-to-t from-light via-light/95 to-transparent z-50 flex justify-center pb-8 md:pb-12 pointer-events-none",children:L.jsx("div",{className:"bg-dark text-white p-1 rounded-[2rem] shadow-2xl shadow-secondary/30 max-w-2xl w-full text-center relative overflow-hidden ring-4 ring-white pointer-events-auto",children:L.jsxs("div",{className:"bg-slate-900 rounded-[1.8rem] p-6 relative z-10 overflow-hidden",children:[L.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-secondary/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),L.jsx("div",{className:"flex flex-col md:flex-row items-center gap-6",children:L.jsxs("div",{className:"flex-1 text-left",children:[L.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[L.jsx("span",{className:"bg-secondary text-white text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wider",children:"Limited Offer"}),L.jsx("span",{className:"text-secondary font-mono font-bold bg-secondary/10 px-2 rounded text-xs",children:F(k)})]}),L.jsx("h3",{className:"text-xl font-black mb-1 tracking-tight",children:"Unlock Full 12-Week Roadmap"}),L.jsx("p",{className:"text-slate-400 mb-4 text-xs font-medium leading-relaxed",children:"Get all 3 Phases (84 Days), Interactive Shopping Lists, and Chef Instructions."}),L.jsx("button",{onClick:U,disabled:S,className:"w-full bg-secondary hover:bg-secondaryHover text-white font-bold py-3.5 rounded-2xl transition-all shadow-lg shadow-secondary/20 transform active:scale-95 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed",children:S?L.jsxs(L.Fragment,{children:[L.jsx(cb,{className:"w-4 h-4 animate-spin"}),"Preparing Secure Checkout..."]}):L.jsxs(L.Fragment,{children:[L.jsx(l0,{className:"w-4 h-4 group-hover:hidden"}),L.jsx(Dx,{className:"w-4 h-4 hidden group-hover:block"}),"Checkout ($19.99)"]})})]})})]})})}),L.jsx("div",{className:"fixed bottom-8 right-8 z-40 animate-in zoom-in duration-300",children:L.jsxs("button",{onClick:H,className:"bg-primary text-white p-3 md:p-4 rounded-full shadow-2xl shadow-primary/40 hover:bg-primaryDark transition-all flex items-center gap-3 pr-6 md:pr-8 group hover:scale-105",children:[L.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:L.jsx(a0,{className:"w-5 h-5 md:w-6 md:h-6 group-hover:scale-110 transition-transform"})}),L.jsx("span",{className:"font-bold text-sm md:text-lg",children:"PDF Book"})]})}),N&&L.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:L.jsxs("div",{className:"bg-white rounded-[2rem] max-w-sm w-full p-6 shadow-2xl scale-100 animate-in zoom-in-95 duration-200",children:[L.jsxs("div",{className:"flex justify-between items-start mb-6",children:[L.jsx("div",{className:"p-3 bg-primary/10 rounded-2xl",children:L.jsx(Ox,{className:"w-8 h-8 text-primary"})}),L.jsx("button",{onClick:()=>T(!1),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:L.jsx(hb,{className:"w-5 h-5 text-slate-400"})})]}),L.jsx("h3",{className:"text-xl font-black text-dark mb-2",children:"Ready to download?"}),L.jsxs("p",{className:"text-slate-500 text-sm leading-relaxed mb-6 font-medium",children:["This will generate a complete 12-week PDF roadmap customized for ",L.jsx("strong",{children:t.userStats.name}),"."]}),L.jsxs("div",{className:"flex gap-3",children:[L.jsx("button",{onClick:()=>T(!1),className:"flex-1 py-3 rounded-xl font-bold text-slate-500 hover:bg-slate-100 transition-colors",children:"Cancel"}),L.jsxs("button",{onClick:ae,className:"flex-1 py-3 bg-primary text-white rounded-xl font-bold shadow-lg shadow-primary/30 hover:bg-primaryDark transition-all active:scale-95 flex items-center justify-center gap-2",children:[L.jsx(a0,{className:"w-4 h-4"}),"Generate"]})]})]})})]})},HC=({onLogin:t,isModal:e=!1})=>{const[n,i]=cn.useState(!1),[s,a]=cn.useState(""),[l,c]=cn.useState(""),[d,f]=cn.useState("otp_request"),[p,w]=cn.useState(null),[S,b]=cn.useState(null),[N,T]=cn.useState(0);cn.useEffect(()=>{if(N>0){const F=setInterval(()=>T(U=>U-1),1e3);return()=>clearInterval(F)}},[N]);const k=async F=>{F.preventDefault(),i(!0),w(null),b(null);try{if(d==="otp_request"){const{error:U}=await xo.auth.signInWithOtp({email:s,options:{shouldCreateUser:!0}});if(U)throw U;f("otp_verify"),b(`Code sent to ${s}`),T(30)}else if(d==="otp_verify"){let U;const{data:H,error:ae}=await xo.auth.verifyOtp({email:s,token:l,type:"email"});if(!ae&&H.session){t();return}if(ae){console.log("Email verification failed, trying signup verification...");const{data:de,error:re}=await xo.auth.verifyOtp({email:s,token:l,type:"signup"});if(!re&&de.session){t();return}U=re||ae}if(U)throw U}}catch(U){console.error(U);let H=U.message||"Invalid code. Please try again.";H==="Failed to fetch"&&(H="Connection Error: Check Project URL & Key in supabaseClient.ts"),w(H)}finally{i(!1)}},I=async()=>{if(!(N>0)){i(!0),w(null),b(null);try{const{error:F}=await xo.auth.signInWithOtp({email:s});if(F)throw F;b("New code sent!"),T(30)}catch(F){w(F.message==="Failed to fetch"?"Connection failed. Check API Keys.":F.message)}finally{i(!1)}}};return L.jsx("div",{className:`flex flex-col items-center justify-center animate-in fade-in slide-in-from-bottom-8 duration-500 ${e?"min-h-0 py-4":"min-h-[60vh]"}`,children:L.jsxs("div",{className:`bg-white rounded-[2.5rem] shadow-2xl shadow-slate-200 border border-slate-100 w-full relative overflow-hidden ${e?"p-6 md:p-8 max-w-sm":"p-8 md:p-10 max-w-md"}`,children:[L.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-primary to-emerald-400"}),L.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-primary/5 rounded-full blur-2xl"}),L.jsxs("div",{className:"text-center mb-8",children:[L.jsx("div",{className:"bg-primary/10 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 text-primary",children:d==="otp_verify"?L.jsx(Ax,{className:"w-8 h-8"}):L.jsx(Lv,{className:"w-8 h-8"})}),L.jsxs("h2",{className:"text-2xl md:text-3xl font-black text-dark tracking-tight",children:[d==="otp_request"&&"Start Transformation",d==="otp_verify"&&"Verify Code"]}),L.jsx("p",{className:"text-slate-400 font-medium mt-2 text-sm md:text-base",children:d==="otp_request"?"Enter your email to receive a secure login code.":`We sent a 6-digit code to ${s}`})]}),L.jsxs("form",{onSubmit:k,className:"space-y-4",children:[L.jsxs("div",{className:"relative",children:[L.jsx(fb,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300"}),L.jsx("input",{type:"email",required:!0,placeholder:"Email Address",value:s,disabled:d==="otp_verify",onChange:F=>a(F.target.value),className:`w-full pl-12 p-4 rounded-xl border-2 outline-none font-bold text-dark transition-all ${d==="otp_verify"?"bg-slate-50 border-slate-100 text-slate-500":"border-slate-100 focus:border-primary focus:ring-4 focus:ring-primary/10"}`}),d==="otp_verify"&&L.jsx("button",{type:"button",onClick:()=>f("otp_request"),className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-bold text-primary hover:text-primaryDark",children:"Edit"})]}),d==="otp_verify"&&L.jsxs("div",{className:"relative animate-in fade-in slide-in-from-top-2",children:[L.jsx(Lv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300"}),L.jsx("input",{type:"text",required:!0,placeholder:"123456",value:l,onChange:F=>c(F.target.value),autoFocus:!0,className:"w-full pl-12 p-4 rounded-xl border-2 border-primary focus:ring-4 focus:ring-primary/10 outline-none font-bold text-dark text-lg tracking-[0.5em] transition-all"})]}),p&&L.jsxs("div",{className:"p-3 bg-rose-50 text-rose-600 text-sm font-bold rounded-xl text-center border border-rose-100 animate-in shake flex items-center justify-center gap-2",children:[L.jsx(wx,{className:"w-4 h-4 shrink-0"}),p]}),S&&L.jsx("div",{className:"p-3 bg-emerald-50 text-emerald-600 text-sm font-bold rounded-xl text-center border border-emerald-100 animate-in fade-in",children:S}),L.jsxs("button",{type:"submit",disabled:n,className:"w-full bg-primary hover:bg-primaryDark text-white py-4 rounded-xl font-bold text-lg shadow-lg shadow-primary/30 active:scale-95 transition-all flex items-center justify-center gap-2",children:[n?L.jsx(cb,{className:"animate-spin"}):L.jsxs(L.Fragment,{children:[d==="otp_request"&&"Send Secure Code",d==="otp_verify"&&"Confirm & Login"]}),!n&&L.jsx(ub,{className:"w-5 h-5"})]})]}),L.jsxs("div",{className:"mt-6 flex flex-col gap-3 text-center",children:[d==="otp_verify"&&L.jsxs("button",{onClick:I,disabled:N>0||n,className:"text-slate-400 font-bold text-sm hover:text-primary transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[L.jsx(oA,{className:`w-3 h-3 ${n?"animate-spin":""}`}),N>0?`Resend code in ${N}s`:"Resend Code"]}),L.jsx("p",{className:"text-[10px] text-slate-300 font-medium",children:"By continuing, you agree to our Terms & Safety Protocols."})]})]})})};var zC={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let GC,jC;function VC(){return{geminiUrl:GC,vertexUrl:jC}}function $C(t,e,n,i){var s,a;if(!(t!=null&&t.baseUrl)){const l=VC();return e?(s=l.vertexUrl)!==null&&s!==void 0?s:n:(a=l.geminiUrl)!==null&&a!==void 0?a:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ba{}function Ye(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const a=e[s];return a!=null?String(a):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function v(t,e,n){for(let a=0;a<e.length-1;a++){const l=e[a];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[c])){const d=t[c];if(Array.isArray(n))for(let f=0;f<d.length;f++){const p=d[f];v(p,e.slice(a+1),n[f])}else for(const f of d)v(f,e.slice(a+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in t||(t[c]=[{}]);const d=t[c];v(d[0],e.slice(a+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const i=e[e.length-1],s=t[i];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function g(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2);if(a in t){const l=t[a];return Array.isArray(l)?l.map(c=>g(c,e.slice(i+1),n)):n}else return n}else t=t[s]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function JC(t,e){for(const[n,i]of Object.entries(e)){const s=n.split("."),a=i.split("."),l=new Set;let c=-1;for(let d=0;d<s.length;d++)if(s[d]==="*"){c=d;break}if(c!==-1&&a.length>c)for(let d=c;d<a.length;d++){const f=a[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}xg(t,s,a,0,l)}}function xg(t,e,n,i,s){if(i>=e.length||typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const l=a.slice(0,-2),c=t;if(l in c&&Array.isArray(c[l]))for(const d of c[l])xg(d,e,n,i+1,s)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,c=Object.keys(l).filter(f=>!f.startsWith("_")&&!s.has(f)),d={};for(const f of c)d[f]=l[f];for(const[f,p]of Object.entries(d)){const w=[];for(const S of n.slice(i))S==="*"?w.push(f):w.push(S);v(l,w,p)}for(const f of c)delete l[f]}}else{const l=t;a in l&&xg(l[a],e,n,i+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wg(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WC(t){const e={},n=g(t,["operationName"]);n!=null&&v(e,["operationName"],n);const i=g(t,["resourceName"]);return i!=null&&v(e,["_url","resourceName"],i),e}function YC(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const i=g(t,["metadata"]);i!=null&&v(e,["metadata"],i);const s=g(t,["done"]);s!=null&&v(e,["done"],s);const a=g(t,["error"]);a!=null&&v(e,["error"],a);const l=g(t,["response","generateVideoResponse"]);return l!=null&&v(e,["response"],XC(l)),e}function KC(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const i=g(t,["metadata"]);i!=null&&v(e,["metadata"],i);const s=g(t,["done"]);s!=null&&v(e,["done"],s);const a=g(t,["error"]);a!=null&&v(e,["error"],a);const l=g(t,["response"]);return l!=null&&v(e,["response"],ZC(l)),e}function XC(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>QC(l))),v(e,["generatedVideos"],a)}const i=g(t,["raiMediaFilteredCount"]);i!=null&&v(e,["raiMediaFilteredCount"],i);const s=g(t,["raiMediaFilteredReasons"]);return s!=null&&v(e,["raiMediaFilteredReasons"],s),e}function ZC(t){const e={},n=g(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>e6(l))),v(e,["generatedVideos"],a)}const i=g(t,["raiMediaFilteredCount"]);i!=null&&v(e,["raiMediaFilteredCount"],i);const s=g(t,["raiMediaFilteredReasons"]);return s!=null&&v(e,["raiMediaFilteredReasons"],s),e}function QC(t){const e={},n=g(t,["video"]);return n!=null&&v(e,["video"],o6(n)),e}function e6(t){const e={},n=g(t,["_self"]);return n!=null&&v(e,["video"],a6(n)),e}function t6(t){const e={},n=g(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function n6(t){const e={},n=g(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function i6(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const i=g(t,["metadata"]);i!=null&&v(e,["metadata"],i);const s=g(t,["done"]);s!=null&&v(e,["done"],s);const a=g(t,["error"]);a!=null&&v(e,["error"],a);const l=g(t,["response"]);return l!=null&&v(e,["response"],r6(l)),e}function r6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["parent"]);i!=null&&v(e,["parent"],i);const s=g(t,["documentName"]);return s!=null&&v(e,["documentName"],s),e}function Bw(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const i=g(t,["metadata"]);i!=null&&v(e,["metadata"],i);const s=g(t,["done"]);s!=null&&v(e,["done"],s);const a=g(t,["error"]);a!=null&&v(e,["error"],a);const l=g(t,["response"]);return l!=null&&v(e,["response"],s6(l)),e}function s6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["parent"]);i!=null&&v(e,["parent"],i);const s=g(t,["documentName"]);return s!=null&&v(e,["documentName"],s),e}function o6(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["uri"],n);const i=g(t,["encodedVideo"]);i!=null&&v(e,["videoBytes"],Wg(i));const s=g(t,["encoding"]);return s!=null&&v(e,["mimeType"],s),e}function a6(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const i=g(t,["bytesBase64Encoded"]);i!=null&&v(e,["videoBytes"],Wg(i));const s=g(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var T2;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(T2||(T2={}));var N2;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(N2||(N2={}));var C2;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(C2||(C2={}));var St;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(St||(St={}));var R2;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(R2||(R2={}));var k2;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(k2||(k2={}));var I2;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(I2||(I2={}));var L2;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(L2||(L2={}));var M2;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(M2||(M2={}));var P2;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(P2||(P2={}));var D2;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(D2||(D2={}));var U2;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(U2||(U2={}));var O2;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(O2||(O2={}));var B2;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(B2||(B2={}));var F2;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(F2||(F2={}));var q2;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(q2||(q2={}));var H2;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(H2||(H2={}));var z2;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(z2||(z2={}));var G2;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(G2||(G2={}));var Eh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Eh||(Eh={}));var j2;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(j2||(j2={}));var V2;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(V2||(V2={}));var $2;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})($2||($2={}));var Ag;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ag||(Ag={}));var J2;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(J2||(J2={}));var W2;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(W2||(W2={}));var Y2;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Y2||(Y2={}));var K2;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(K2||(K2={}));var X2;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(X2||(X2={}));var Z2;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Z2||(Z2={}));var Q2;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Q2||(Q2={}));var e5;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(e5||(e5={}));var t5;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(t5||(t5={}));var n5;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(n5||(n5={}));var i5;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(i5||(i5={}));var r5;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(r5||(r5={}));var s5;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(s5||(s5={}));var o5;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(o5||(o5={}));var a5;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(a5||(a5={}));var l5;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(l5||(l5={}));var u5;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(u5||(u5={}));var c5;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(c5||(c5={}));var f5;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(f5||(f5={}));var d5;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(d5||(d5={}));var h5;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(h5||(h5={}));var p5;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(p5||(p5={}));var g5;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(g5||(g5={}));var m5;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(m5||(m5={}));var v5;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(v5||(v5={}));var y5;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(y5||(y5={}));var b5;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(b5||(b5={}));var w5;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(w5||(w5={}));var _5;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_5||(_5={}));var S5;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(S5||(S5={}));var x5;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(x5||(x5={}));var Cc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Cc||(Cc={}));class Eg{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Cf{get text(){var e,n,i,s,a,l,c,d;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const w=[];for(const S of(d=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[b,N]of Object.entries(S))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(N!==null||N!==void 0)&&w.push(b);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;p=!0,f+=S.text}}return w.length>0&&console.warn(`there are non-text parts ${w} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var e,n,i,s,a,l,c,d;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const w of(d=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[S,b]of Object.entries(w))S!=="inlineData"&&(b!==null||b!==void 0)&&p.push(S);w.inlineData&&typeof w.inlineData.data=="string"&&(f+=atob(w.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,s,a,l,c,d;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,s,a,l,c,d,f;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(d=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(w=>w.executableCode).map(w=>w.executableCode).filter(w=>w!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,s,a,l,c,d,f;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(d=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(w=>w.codeExecutionResult).map(w=>w.codeExecutionResult).filter(w=>w!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class A5{}class E5{}class l6{}class u6{}class c6{}class f6{}class T5{}class N5{}class C5{}class d6{}class Th{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Th;let s;const a=e;return n?s=KC(a):s=YC(a),Object.assign(i,s),i}}class R5{}class k5{}class I5{}class L5{}class h6{}class p6{}class g6{}class Yg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Yg,a=i6(e);return Object.assign(i,a),i}}class m6{}class v6{}class y6{}class M5{}class b6{get text(){var e,n,i;let s="",a=!1;const l=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[d,f]of Object.entries(c))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,s+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?s:void 0}get data(){var e,n,i;let s="";const a=[];for(const l of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,d]of Object.entries(l))c!=="inlineData"&&d!==null&&a.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(s+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class w6{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Kg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Kg,a=Bw(e);return Object.assign(i,a),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Fw(t,e){const n=bn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function qw(t){return Array.isArray(t)?t.map(e=>Nh(e)):[Nh(t)]}function Nh(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Hw(t){const e=Nh(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zw(t){const e=Nh(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function P5(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Gw(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>P5(e)):[P5(t)]}function Tg(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function D5(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function U5(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function br(t){if(t==null)throw new Error("ContentUnion is required");return Tg(t)?t:{role:"user",parts:Gw(t)}}function Xg(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=br(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=br(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>br(n)):[br(e)]}function Hs(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(D5(t)||U5(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[br(t)]}const e=[],n=[],i=Tg(t[0]);for(const s of t){const a=Tg(s);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(s);else{if(D5(s)||U5(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return i||e.push({role:"user",parts:Gw(n)}),e}function _6(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(St).includes(n[0].toUpperCase())?n[0].toUpperCase():St.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(St).includes(i.toUpperCase())?i.toUpperCase():St.TYPE_UNSPECIFIED})}}function Uc(t){const e={},n=["items"],i=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&_6(t.type,e);for(const[l,c]of Object.entries(t))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(St).includes(c.toUpperCase())?c.toUpperCase():St.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Uc(c);else if(i.includes(l)){const d=[];for(const f of c){if(f.type=="null"){e.nullable=!0;continue}d.push(Uc(f))}e[l]=d}else if(s.includes(l)){const d={};for(const[f,p]of Object.entries(c))d[f]=Uc(p);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=c}return e}function Zg(t){return Uc(t)}function Qg(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function em(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Fc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Uc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Uc(e.response));return t}function qc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function S6(t,e,n,i=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function Fa(t,e){if(typeof e!="string")throw new Error("name must be a string");return S6(t,e,"cachedContents")}function jw(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Nl(t){return Wg(t)}function x6(t){return t!=null&&typeof t=="object"&&"name"in t}function A6(t){return t!=null&&typeof t=="object"&&"video"in t}function E6(t){return t!=null&&typeof t=="object"&&"uri"in t}function Vw(t){var e;let n;if(x6(t)&&(n=t.name),!(E6(t)&&(n=t.uri,n===void 0))&&!(A6(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function $w(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Jw(t){for(const e of["models","tunedModels","publisherModels"])if(T6(t,e))return t[e];return[]}function T6(t,e){return t!==null&&typeof t=="object"&&e in t}function N6(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function C6(t,e={}){const n=[],i=new Set;for(const s of t){const a=s.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const l=N6(s,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Ww(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function R6(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Yw(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let a=!1;for(const l of s){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Hc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Kw(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k6(t){const e={},n=g(t,["responsesFile"]);n!=null&&v(e,["fileName"],n);const i=g(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>cR(l))),v(e,["inlinedResponses"],a)}const s=g(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),v(e,["inlinedEmbedContentResponses"],a)}return e}function I6(t){const e={},n=g(t,["predictionsFormat"]);n!=null&&v(e,["format"],n);const i=g(t,["gcsDestination","outputUriPrefix"]);i!=null&&v(e,["gcsUri"],i);const s=g(t,["bigqueryDestination","outputUri"]);return s!=null&&v(e,["bigqueryUri"],s),e}function L6(t){const e={},n=g(t,["format"]);n!=null&&v(e,["predictionsFormat"],n);const i=g(t,["gcsUri"]);i!=null&&v(e,["gcsDestination","outputUriPrefix"],i);const s=g(t,["bigqueryUri"]);if(s!=null&&v(e,["bigqueryDestination","outputUri"],s),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ph(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const i=g(t,["metadata","displayName"]);i!=null&&v(e,["displayName"],i);const s=g(t,["metadata","state"]);s!=null&&v(e,["state"],Kw(s));const a=g(t,["metadata","createTime"]);a!=null&&v(e,["createTime"],a);const l=g(t,["metadata","endTime"]);l!=null&&v(e,["endTime"],l);const c=g(t,["metadata","updateTime"]);c!=null&&v(e,["updateTime"],c);const d=g(t,["metadata","model"]);d!=null&&v(e,["model"],d);const f=g(t,["metadata","output"]);return f!=null&&v(e,["dest"],k6(Yw(f))),e}function Ng(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const i=g(t,["displayName"]);i!=null&&v(e,["displayName"],i);const s=g(t,["state"]);s!=null&&v(e,["state"],Kw(s));const a=g(t,["error"]);a!=null&&v(e,["error"],a);const l=g(t,["createTime"]);l!=null&&v(e,["createTime"],l);const c=g(t,["startTime"]);c!=null&&v(e,["startTime"],c);const d=g(t,["endTime"]);d!=null&&v(e,["endTime"],d);const f=g(t,["updateTime"]);f!=null&&v(e,["updateTime"],f);const p=g(t,["model"]);p!=null&&v(e,["model"],p);const w=g(t,["inputConfig"]);w!=null&&v(e,["src"],M6(w));const S=g(t,["outputConfig"]);S!=null&&v(e,["dest"],I6(Yw(S)));const b=g(t,["completionStats"]);return b!=null&&v(e,["completionStats"],b),e}function M6(t){const e={},n=g(t,["instancesFormat"]);n!=null&&v(e,["format"],n);const i=g(t,["gcsSource","uris"]);i!=null&&v(e,["gcsUri"],i);const s=g(t,["bigquerySource","inputUri"]);return s!=null&&v(e,["bigqueryUri"],s),e}function P6(t,e){const n={};if(g(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=g(e,["fileName"]);i!=null&&v(n,["fileName"],i);const s=g(e,["inlinedRequests"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>uR(t,l))),v(n,["requests","requests"],a)}return n}function D6(t){const e={},n=g(t,["format"]);n!=null&&v(e,["instancesFormat"],n);const i=g(t,["gcsUri"]);i!=null&&v(e,["gcsSource","uris"],i);const s=g(t,["bigqueryUri"]);if(s!=null&&v(e,["bigquerySource","inputUri"],s),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function U6(t){const e={},n=g(t,["data"]);if(n!=null&&v(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function O6(t,e){const n={},i=g(e,["name"]);return i!=null&&v(n,["_url","name"],Hc(t,i)),n}function B6(t,e){const n={},i=g(e,["name"]);return i!=null&&v(n,["_url","name"],Hc(t,i)),n}function F6(t){const e={},n=g(t,["content"]);n!=null&&v(e,["content"],n);const i=g(t,["citationMetadata"]);i!=null&&v(e,["citationMetadata"],q6(i));const s=g(t,["tokenCount"]);s!=null&&v(e,["tokenCount"],s);const a=g(t,["finishReason"]);a!=null&&v(e,["finishReason"],a);const l=g(t,["avgLogprobs"]);l!=null&&v(e,["avgLogprobs"],l);const c=g(t,["groundingMetadata"]);c!=null&&v(e,["groundingMetadata"],c);const d=g(t,["index"]);d!=null&&v(e,["index"],d);const f=g(t,["logprobsResult"]);f!=null&&v(e,["logprobsResult"],f);const p=g(t,["safetyRatings"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(b=>b)),v(e,["safetyRatings"],S)}const w=g(t,["urlContextMetadata"]);return w!=null&&v(e,["urlContextMetadata"],w),e}function q6(t){const e={},n=g(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),v(e,["citations"],i)}return e}function Xw(t){const e={},n=g(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>vR(a))),v(e,["parts"],s)}const i=g(t,["role"]);return i!=null&&v(e,["role"],i),e}function H6(t,e){const n={},i=g(t,["displayName"]);if(e!==void 0&&i!=null&&v(e,["batch","displayName"],i),g(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function z6(t,e){const n={},i=g(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const s=g(t,["dest"]);return e!==void 0&&s!=null&&v(e,["outputConfig"],L6(R6(s))),n}function O5(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["src"]);s!=null&&v(n,["batch","inputConfig"],P6(t,Ww(t,s)));const a=g(e,["config"]);return a!=null&&H6(a,n),n}function G6(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["model"],bn(t,i));const s=g(e,["src"]);s!=null&&v(n,["inputConfig"],D6(Ww(t,s)));const a=g(e,["config"]);return a!=null&&z6(a,n),n}function j6(t,e){const n={},i=g(t,["displayName"]);return e!==void 0&&i!=null&&v(e,["batch","displayName"],i),n}function V6(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["src"]);s!=null&&v(n,["batch","inputConfig"],Z6(t,s));const a=g(e,["config"]);return a!=null&&j6(a,n),n}function $6(t,e){const n={},i=g(e,["name"]);return i!=null&&v(n,["_url","name"],Hc(t,i)),n}function J6(t,e){const n={},i=g(e,["name"]);return i!=null&&v(n,["_url","name"],Hc(t,i)),n}function W6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["name"]);i!=null&&v(e,["name"],i);const s=g(t,["done"]);s!=null&&v(e,["done"],s);const a=g(t,["error"]);return a!=null&&v(e,["error"],a),e}function Y6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["name"]);i!=null&&v(e,["name"],i);const s=g(t,["done"]);s!=null&&v(e,["done"],s);const a=g(t,["error"]);return a!=null&&v(e,["error"],a),e}function K6(t,e){const n={},i=g(e,["contents"]);if(i!=null){let a=Xg(t,i);Array.isArray(a)&&(a=a.map(l=>l)),v(n,["requests[]","request","content"],a)}const s=g(e,["config"]);return s!=null&&(v(n,["_self"],X6(s,n)),JC(n,{"requests[].*":"requests[].request.*"})),n}function X6(t,e){const n={},i=g(t,["taskType"]);e!==void 0&&i!=null&&v(e,["requests[]","taskType"],i);const s=g(t,["title"]);e!==void 0&&s!=null&&v(e,["requests[]","title"],s);const a=g(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&v(e,["requests[]","outputDimensionality"],a),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Z6(t,e){const n={},i=g(e,["fileName"]);i!=null&&v(n,["file_name"],i);const s=g(e,["inlinedRequests"]);return s!=null&&v(n,["requests"],K6(t,s)),n}function Q6(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function eR(t){const e={},n=g(t,["id"]);n!=null&&v(e,["id"],n);const i=g(t,["args"]);i!=null&&v(e,["args"],i);const s=g(t,["name"]);if(s!=null&&v(e,["name"],s),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tR(t){const e={},n=g(t,["mode"]);n!=null&&v(e,["mode"],n);const i=g(t,["allowedFunctionNames"]);if(i!=null&&v(e,["allowedFunctionNames"],i),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function nR(t,e,n){const i={},s=g(e,["systemInstruction"]);n!==void 0&&s!=null&&v(n,["systemInstruction"],Xw(br(s)));const a=g(e,["temperature"]);a!=null&&v(i,["temperature"],a);const l=g(e,["topP"]);l!=null&&v(i,["topP"],l);const c=g(e,["topK"]);c!=null&&v(i,["topK"],c);const d=g(e,["candidateCount"]);d!=null&&v(i,["candidateCount"],d);const f=g(e,["maxOutputTokens"]);f!=null&&v(i,["maxOutputTokens"],f);const p=g(e,["stopSequences"]);p!=null&&v(i,["stopSequences"],p);const w=g(e,["responseLogprobs"]);w!=null&&v(i,["responseLogprobs"],w);const S=g(e,["logprobs"]);S!=null&&v(i,["logprobs"],S);const b=g(e,["presencePenalty"]);b!=null&&v(i,["presencePenalty"],b);const N=g(e,["frequencyPenalty"]);N!=null&&v(i,["frequencyPenalty"],N);const T=g(e,["seed"]);T!=null&&v(i,["seed"],T);const k=g(e,["responseMimeType"]);k!=null&&v(i,["responseMimeType"],k);const I=g(e,["responseSchema"]);I!=null&&v(i,["responseSchema"],Zg(I));const F=g(e,["responseJsonSchema"]);if(F!=null&&v(i,["responseJsonSchema"],F),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=g(e,["safetySettings"]);if(n!==void 0&&U!=null){let ie=U;Array.isArray(ie)&&(ie=ie.map(te=>yR(te))),v(n,["safetySettings"],ie)}const H=g(e,["tools"]);if(n!==void 0&&H!=null){let ie=qc(H);Array.isArray(ie)&&(ie=ie.map(te=>wR(Fc(te)))),v(n,["tools"],ie)}const ae=g(e,["toolConfig"]);if(n!==void 0&&ae!=null&&v(n,["toolConfig"],bR(ae)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const de=g(e,["cachedContent"]);n!==void 0&&de!=null&&v(n,["cachedContent"],Fa(t,de));const re=g(e,["responseModalities"]);re!=null&&v(i,["responseModalities"],re);const se=g(e,["mediaResolution"]);se!=null&&v(i,["mediaResolution"],se);const V=g(e,["speechConfig"]);if(V!=null&&v(i,["speechConfig"],Qg(V)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ge=g(e,["thinkingConfig"]);ge!=null&&v(i,["thinkingConfig"],ge);const q=g(e,["imageConfig"]);q!=null&&v(i,["imageConfig"],lR(q));const W=g(e,["enableEnhancedCivicAnswers"]);return W!=null&&v(i,["enableEnhancedCivicAnswers"],W),i}function iR(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>F6(f))),v(e,["candidates"],d)}const s=g(t,["modelVersion"]);s!=null&&v(e,["modelVersion"],s);const a=g(t,["promptFeedback"]);a!=null&&v(e,["promptFeedback"],a);const l=g(t,["responseId"]);l!=null&&v(e,["responseId"],l);const c=g(t,["usageMetadata"]);return c!=null&&v(e,["usageMetadata"],c),e}function rR(t,e){const n={},i=g(e,["name"]);return i!=null&&v(n,["_url","name"],Hc(t,i)),n}function sR(t,e){const n={},i=g(e,["name"]);return i!=null&&v(n,["_url","name"],Hc(t,i)),n}function oR(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function aR(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function lR(t){const e={},n=g(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const i=g(t,["imageSize"]);if(i!=null&&v(e,["imageSize"],i),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function uR(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["request","model"],bn(t,i));const s=g(e,["contents"]);if(s!=null){let c=Hs(s);Array.isArray(c)&&(c=c.map(d=>Xw(d))),v(n,["request","contents"],c)}const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const l=g(e,["config"]);return l!=null&&v(n,["request","generationConfig"],nR(t,l,g(n,["request"],{}))),n}function cR(t){const e={},n=g(t,["response"]);n!=null&&v(e,["response"],iR(n));const i=g(t,["error"]);return i!=null&&v(e,["error"],i),e}function fR(t,e){const n={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const s=g(t,["pageToken"]);if(e!==void 0&&s!=null&&v(e,["_query","pageToken"],s),g(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function dR(t,e){const n={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const s=g(t,["pageToken"]);e!==void 0&&s!=null&&v(e,["_query","pageToken"],s);const a=g(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),n}function hR(t){const e={},n=g(t,["config"]);return n!=null&&fR(n,e),e}function pR(t){const e={},n=g(t,["config"]);return n!=null&&dR(n,e),e}function gR(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const s=g(t,["operations"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>ph(l))),v(e,["batchJobs"],a)}return e}function mR(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const s=g(t,["batchPredictionJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>Ng(l))),v(e,["batchJobs"],a)}return e}function vR(t){const e={},n=g(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const i=g(t,["codeExecutionResult"]);i!=null&&v(e,["codeExecutionResult"],i);const s=g(t,["executableCode"]);s!=null&&v(e,["executableCode"],s);const a=g(t,["fileData"]);a!=null&&v(e,["fileData"],Q6(a));const l=g(t,["functionCall"]);l!=null&&v(e,["functionCall"],eR(l));const c=g(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const d=g(t,["inlineData"]);d!=null&&v(e,["inlineData"],U6(d));const f=g(t,["text"]);f!=null&&v(e,["text"],f);const p=g(t,["thought"]);p!=null&&v(e,["thought"],p);const w=g(t,["thoughtSignature"]);w!=null&&v(e,["thoughtSignature"],w);const S=g(t,["videoMetadata"]);return S!=null&&v(e,["videoMetadata"],S),e}function yR(t){const e={},n=g(t,["category"]);if(n!=null&&v(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=g(t,["threshold"]);return i!=null&&v(e,["threshold"],i),e}function bR(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],tR(n));const i=g(t,["retrievalConfig"]);return i!=null&&v(e,["retrievalConfig"],i),e}function wR(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(w=>w)),v(e,["functionDeclarations"],p)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=g(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const s=g(t,["computerUse"]);s!=null&&v(e,["computerUse"],s);const a=g(t,["fileSearch"]);a!=null&&v(e,["fileSearch"],a);const l=g(t,["codeExecution"]);if(l!=null&&v(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],oR(c));const d=g(t,["googleSearch"]);d!=null&&v(e,["googleSearch"],aR(d));const f=g(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ua;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ua||(Ua={}));class wu{constructor(e,n,i,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,s)}init(e,n,i){var s,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!i||Object.keys(i).length===0?l={config:{}}:typeof i=="object"?l=Object.assign({},i):l=i,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(s=l.config)===null||s===void 0?void 0:s.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _R extends Ba{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wu(Ua.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=O5(this.apiClient,e),i=n._url,s=Ye("{model}:batchGenerateContent",i),c=n.batch.inputConfig.requests,d=c.requests,f=[];for(const p of d){const w=Object.assign({},p);if(w.systemInstruction){const S=w.systemInstruction;delete w.systemInstruction;const b=w.request;b.systemInstruction=S,w.request=b}f.push(w)}return c.requests=f,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},s=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${s}`),i.dest===void 0){const a=this.getGcsUri(e),l=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${s}`;else if(l)i.dest=`${l}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=G6(this.apiClient,e);return c=Ye("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>Ng(p))}else{const f=O5(this.apiClient,e);return c=Ye("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>ph(p))}}async createEmbeddingsInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=V6(this.apiClient,e);return a=Ye("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>ph(d))}}async get(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=sR(this.apiClient,e);return c=Ye("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>Ng(p))}else{const f=rR(this.apiClient,e);return c=Ye("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>ph(p))}}async cancel(e){var n,i,s,a;let l="",c={};if(this.apiClient.isVertexAI()){const d=B6(this.apiClient,e);l=Ye("batchPredictionJobs/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const d=O6(this.apiClient,e);l=Ye("batches/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=pR(e);return c=Ye("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=mR(p),S=new M5;return Object.assign(S,w),S})}else{const f=hR(e);return c=Ye("batches",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=gR(p),S=new M5;return Object.assign(S,w),S})}}async delete(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=J6(this.apiClient,e);return c=Ye("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>Y6(p))}else{const f=$6(this.apiClient,e);return c=Ye("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>W6(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SR(t){const e={},n=g(t,["data"]);if(n!=null&&v(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function B5(t){const e={},n=g(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>VR(a))),v(e,["parts"],s)}const i=g(t,["role"]);return i!=null&&v(e,["role"],i),e}function xR(t,e){const n={},i=g(t,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const s=g(t,["expireTime"]);e!==void 0&&s!=null&&v(e,["expireTime"],s);const a=g(t,["displayName"]);e!==void 0&&a!=null&&v(e,["displayName"],a);const l=g(t,["contents"]);if(e!==void 0&&l!=null){let p=Hs(l);Array.isArray(p)&&(p=p.map(w=>B5(w))),v(e,["contents"],p)}const c=g(t,["systemInstruction"]);e!==void 0&&c!=null&&v(e,["systemInstruction"],B5(br(c)));const d=g(t,["tools"]);if(e!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(w=>JR(w))),v(e,["tools"],p)}const f=g(t,["toolConfig"]);if(e!==void 0&&f!=null&&v(e,["toolConfig"],$R(f)),g(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function AR(t,e){const n={},i=g(t,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const s=g(t,["expireTime"]);e!==void 0&&s!=null&&v(e,["expireTime"],s);const a=g(t,["displayName"]);e!==void 0&&a!=null&&v(e,["displayName"],a);const l=g(t,["contents"]);if(e!==void 0&&l!=null){let w=Hs(l);Array.isArray(w)&&(w=w.map(S=>S)),v(e,["contents"],w)}const c=g(t,["systemInstruction"]);e!==void 0&&c!=null&&v(e,["systemInstruction"],br(c));const d=g(t,["tools"]);if(e!==void 0&&d!=null){let w=d;Array.isArray(w)&&(w=w.map(S=>WR(S))),v(e,["tools"],w)}const f=g(t,["toolConfig"]);e!==void 0&&f!=null&&v(e,["toolConfig"],f);const p=g(t,["kmsKeyName"]);return e!==void 0&&p!=null&&v(e,["encryption_spec","kmsKeyName"],p),n}function ER(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["model"],Fw(t,i));const s=g(e,["config"]);return s!=null&&xR(s,n),n}function TR(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["model"],Fw(t,i));const s=g(e,["config"]);return s!=null&&AR(s,n),n}function NR(t,e){const n={},i=g(e,["name"]);return i!=null&&v(n,["_url","name"],Fa(t,i)),n}function CR(t,e){const n={},i=g(e,["name"]);return i!=null&&v(n,["_url","name"],Fa(t,i)),n}function RR(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function kR(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function IR(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function LR(t){const e={},n=g(t,["id"]);n!=null&&v(e,["id"],n);const i=g(t,["args"]);i!=null&&v(e,["args"],i);const s=g(t,["name"]);if(s!=null&&v(e,["name"],s),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function MR(t){const e={},n=g(t,["mode"]);n!=null&&v(e,["mode"],n);const i=g(t,["allowedFunctionNames"]);if(i!=null&&v(e,["allowedFunctionNames"],i),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function PR(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&v(e,["description"],n);const i=g(t,["name"]);i!=null&&v(e,["name"],i);const s=g(t,["parameters"]);s!=null&&v(e,["parameters"],s);const a=g(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const l=g(t,["response"]);l!=null&&v(e,["response"],l);const c=g(t,["responseJsonSchema"]);return c!=null&&v(e,["responseJsonSchema"],c),e}function DR(t,e){const n={},i=g(e,["name"]);return i!=null&&v(n,["_url","name"],Fa(t,i)),n}function UR(t,e){const n={},i=g(e,["name"]);return i!=null&&v(n,["_url","name"],Fa(t,i)),n}function OR(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function BR(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function FR(t,e){const n={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const s=g(t,["pageToken"]);return e!==void 0&&s!=null&&v(e,["_query","pageToken"],s),n}function qR(t,e){const n={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const s=g(t,["pageToken"]);return e!==void 0&&s!=null&&v(e,["_query","pageToken"],s),n}function HR(t){const e={},n=g(t,["config"]);return n!=null&&FR(n,e),e}function zR(t){const e={},n=g(t,["config"]);return n!=null&&qR(n,e),e}function GR(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const s=g(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),v(e,["cachedContents"],a)}return e}function jR(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const s=g(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),v(e,["cachedContents"],a)}return e}function VR(t){const e={},n=g(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const i=g(t,["codeExecutionResult"]);i!=null&&v(e,["codeExecutionResult"],i);const s=g(t,["executableCode"]);s!=null&&v(e,["executableCode"],s);const a=g(t,["fileData"]);a!=null&&v(e,["fileData"],IR(a));const l=g(t,["functionCall"]);l!=null&&v(e,["functionCall"],LR(l));const c=g(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const d=g(t,["inlineData"]);d!=null&&v(e,["inlineData"],SR(d));const f=g(t,["text"]);f!=null&&v(e,["text"],f);const p=g(t,["thought"]);p!=null&&v(e,["thought"],p);const w=g(t,["thoughtSignature"]);w!=null&&v(e,["thoughtSignature"],w);const S=g(t,["videoMetadata"]);return S!=null&&v(e,["videoMetadata"],S),e}function $R(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],MR(n));const i=g(t,["retrievalConfig"]);return i!=null&&v(e,["retrievalConfig"],i),e}function JR(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(w=>w)),v(e,["functionDeclarations"],p)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=g(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const s=g(t,["computerUse"]);s!=null&&v(e,["computerUse"],s);const a=g(t,["fileSearch"]);a!=null&&v(e,["fileSearch"],a);const l=g(t,["codeExecution"]);if(l!=null&&v(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],OR(c));const d=g(t,["googleSearch"]);d!=null&&v(e,["googleSearch"],BR(d));const f=g(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}function WR(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(S=>PR(S))),v(e,["functionDeclarations"],w)}const i=g(t,["retrieval"]);i!=null&&v(e,["retrieval"],i);const s=g(t,["googleSearchRetrieval"]);s!=null&&v(e,["googleSearchRetrieval"],s);const a=g(t,["computerUse"]);if(a!=null&&v(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(t,["codeExecution"]);l!=null&&v(e,["codeExecution"],l);const c=g(t,["enterpriseWebSearch"]);c!=null&&v(e,["enterpriseWebSearch"],c);const d=g(t,["googleMaps"]);d!=null&&v(e,["googleMaps"],d);const f=g(t,["googleSearch"]);f!=null&&v(e,["googleSearch"],f);const p=g(t,["urlContext"]);return p!=null&&v(e,["urlContext"],p),e}function YR(t,e){const n={},i=g(t,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const s=g(t,["expireTime"]);return e!==void 0&&s!=null&&v(e,["expireTime"],s),n}function KR(t,e){const n={},i=g(t,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const s=g(t,["expireTime"]);return e!==void 0&&s!=null&&v(e,["expireTime"],s),n}function XR(t,e){const n={},i=g(e,["name"]);i!=null&&v(n,["_url","name"],Fa(t,i));const s=g(e,["config"]);return s!=null&&YR(s,n),n}function ZR(t,e){const n={},i=g(e,["name"]);i!=null&&v(n,["_url","name"],Fa(t,i));const s=g(e,["config"]);return s!=null&&KR(s,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QR extends Ba{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wu(Ua.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=TR(this.apiClient,e);return c=Ye("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=ER(this.apiClient,e);return c=Ye("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async get(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=UR(this.apiClient,e);return c=Ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=DR(this.apiClient,e);return c=Ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=CR(this.apiClient,e);return c=Ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=kR(p),S=new I5;return Object.assign(S,w),S})}else{const f=NR(this.apiClient,e);return c=Ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=RR(p),S=new I5;return Object.assign(S,w),S})}}async update(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=ZR(this.apiClient,e);return c=Ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=XR(this.apiClient,e);return c=Ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async listInternal(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=zR(e);return c=Ye("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=jR(p),S=new L5;return Object.assign(S,w),S})}else{const f=HR(e);return c=Ye("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=GR(p),S=new L5;return Object.assign(S,w),S})}}}function Ch(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function F5(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ut(t){return this instanceof Ut?(this.v=t,this):new Ut(t)}function Ao(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(b){return function(N){return Promise.resolve(N).then(b,w)}}function c(b,N){i[b]&&(s[b]=function(T){return new Promise(function(k,I){a.push([b,T,k,I])>1||d(b,T)})},N&&(s[b]=N(s[b])))}function d(b,N){try{f(i[b](N))}catch(T){S(a[0][3],T)}}function f(b){b.value instanceof Ut?Promise.resolve(b.value.v).then(p,w):S(a[0][2],b)}function p(b){d("next",b)}function w(b){d("throw",b)}function S(b,N){b(N),a.shift(),a.length&&d(a[0][0],a[0][1])}}function Eo(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof F5=="function"?F5(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(l){return new Promise(function(c,d){l=t[a](l),s(c,d,l.done,l.value)})}}function s(a,l,c,d){Promise.resolve(d).then(function(f){a({value:f,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ek(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Zw(n)}function Zw(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function tk(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function q5(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const s=[];let a=!0;for(;i<n&&t[i].role==="model";)s.push(t[i]),a&&!Zw(t[i])&&(a=!1),i++;a?e.push(...s):e.pop()}return e}class nk{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new ik(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ik{constructor(e,n,i,s={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=s,this.history=a,this.sendPromise=Promise.resolve(),tk(a)}async sendMessage(e){var n;await this.sendPromise;const i=br(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,c;const d=await s,f=(l=(a=d.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,p=d.automaticFunctionCallingHistory,w=this.getHistory(!0).length;let S=[];p!=null&&(S=(c=p.slice(w))!==null&&c!==void 0?c:[]);const b=f?[f]:[];this.recordHistory(i,b,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const i=br(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const a=await s;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?q5(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ao(this,arguments,function*(){var s,a,l,c,d,f;const p=[];try{for(var w=!0,S=Eo(e),b;b=yield Ut(S.next()),s=b.done,!s;w=!0){c=b.value,w=!1;const N=c;if(ek(N)){const T=(f=(d=N.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content;T!==void 0&&p.push(T)}yield yield Ut(N)}}catch(N){a={error:N}}finally{try{!w&&!s&&(l=S.return)&&(yield Ut(l.call(S)))}finally{if(a)throw a.error}}this.recordHistory(n,p)})}recordHistory(e,n,i){let s=[];n.length>0&&n.every(a=>a.role!==void 0)?s=n:s.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...q5(i)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Oh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rk(t){const e={},n=g(t,["file"]);return n!=null&&v(e,["file"],n),e}function sk(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function ok(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","file"],Vw(n)),e}function ak(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function lk(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","file"],Vw(n)),e}function uk(t,e){const n={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const s=g(t,["pageToken"]);return e!==void 0&&s!=null&&v(e,["_query","pageToken"],s),n}function ck(t){const e={},n=g(t,["config"]);return n!=null&&uk(n,e),e}function fk(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const s=g(t,["files"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),v(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dk extends Ba{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wu(Ua.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=ck(e);return a=Ye("files",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const f=fk(d),p=new m6;return Object.assign(p,f),p})}}async createInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=rk(e);return a=Ye("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const f=sk(d),p=new v6;return Object.assign(p,f),p})}}async get(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=lk(e);return a=Ye("files/{file}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=ok(e);return a=Ye("files/{file}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const f=ak(d),p=new y6;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gh(t){const e={},n=g(t,["data"]);if(n!=null&&v(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function hk(t){const e={},n=g(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Rk(a))),v(e,["parts"],s)}const i=g(t,["role"]);return i!=null&&v(e,["role"],i),e}function pk(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function gk(t){const e={},n=g(t,["id"]);n!=null&&v(e,["id"],n);const i=g(t,["args"]);i!=null&&v(e,["args"],i);const s=g(t,["name"]);if(s!=null&&v(e,["name"],s),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mk(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&v(e,["description"],n);const i=g(t,["name"]);i!=null&&v(e,["name"],i);const s=g(t,["parameters"]);s!=null&&v(e,["parameters"],s);const a=g(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const l=g(t,["response"]);l!=null&&v(e,["response"],l);const c=g(t,["responseJsonSchema"]);return c!=null&&v(e,["responseJsonSchema"],c),e}function vk(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const i=g(t,["responseJsonSchema"]);i!=null&&v(e,["responseJsonSchema"],i);const s=g(t,["audioTimestamp"]);s!=null&&v(e,["audioTimestamp"],s);const a=g(t,["candidateCount"]);a!=null&&v(e,["candidateCount"],a);const l=g(t,["enableAffectiveDialog"]);l!=null&&v(e,["enableAffectiveDialog"],l);const c=g(t,["frequencyPenalty"]);c!=null&&v(e,["frequencyPenalty"],c);const d=g(t,["logprobs"]);d!=null&&v(e,["logprobs"],d);const f=g(t,["maxOutputTokens"]);f!=null&&v(e,["maxOutputTokens"],f);const p=g(t,["mediaResolution"]);p!=null&&v(e,["mediaResolution"],p);const w=g(t,["presencePenalty"]);w!=null&&v(e,["presencePenalty"],w);const S=g(t,["responseLogprobs"]);S!=null&&v(e,["responseLogprobs"],S);const b=g(t,["responseMimeType"]);b!=null&&v(e,["responseMimeType"],b);const N=g(t,["responseModalities"]);N!=null&&v(e,["responseModalities"],N);const T=g(t,["responseSchema"]);T!=null&&v(e,["responseSchema"],T);const k=g(t,["routingConfig"]);k!=null&&v(e,["routingConfig"],k);const I=g(t,["seed"]);I!=null&&v(e,["seed"],I);const F=g(t,["speechConfig"]);F!=null&&v(e,["speechConfig"],F);const U=g(t,["stopSequences"]);U!=null&&v(e,["stopSequences"],U);const H=g(t,["temperature"]);H!=null&&v(e,["temperature"],H);const ae=g(t,["thinkingConfig"]);ae!=null&&v(e,["thinkingConfig"],ae);const de=g(t,["topK"]);de!=null&&v(e,["topK"],de);const re=g(t,["topP"]);if(re!=null&&v(e,["topP"],re),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function yk(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function bk(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function wk(t,e){const n={},i=g(t,["generationConfig"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig"],i);const s=g(t,["responseModalities"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","responseModalities"],s);const a=g(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const l=g(t,["topP"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","topP"],l);const c=g(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const d=g(t,["maxOutputTokens"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","maxOutputTokens"],d);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const p=g(t,["seed"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","seed"],p);const w=g(t,["speechConfig"]);e!==void 0&&w!=null&&v(e,["setup","generationConfig","speechConfig"],em(w));const S=g(t,["thinkingConfig"]);e!==void 0&&S!=null&&v(e,["setup","generationConfig","thinkingConfig"],S);const b=g(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],b);const N=g(t,["systemInstruction"]);e!==void 0&&N!=null&&v(e,["setup","systemInstruction"],hk(br(N)));const T=g(t,["tools"]);if(e!==void 0&&T!=null){let de=qc(T);Array.isArray(de)&&(de=de.map(re=>Ik(Fc(re)))),v(e,["setup","tools"],de)}const k=g(t,["sessionResumption"]);e!==void 0&&k!=null&&v(e,["setup","sessionResumption"],kk(k));const I=g(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&v(e,["setup","inputAudioTranscription"],I);const F=g(t,["outputAudioTranscription"]);e!==void 0&&F!=null&&v(e,["setup","outputAudioTranscription"],F);const U=g(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&v(e,["setup","realtimeInputConfig"],U);const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&v(e,["setup","contextWindowCompression"],H);const ae=g(t,["proactivity"]);if(e!==void 0&&ae!=null&&v(e,["setup","proactivity"],ae),g(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function _k(t,e){const n={},i=g(t,["generationConfig"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig"],vk(i));const s=g(t,["responseModalities"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","responseModalities"],s);const a=g(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const l=g(t,["topP"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","topP"],l);const c=g(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const d=g(t,["maxOutputTokens"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","maxOutputTokens"],d);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const p=g(t,["seed"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","seed"],p);const w=g(t,["speechConfig"]);e!==void 0&&w!=null&&v(e,["setup","generationConfig","speechConfig"],em(w));const S=g(t,["thinkingConfig"]);e!==void 0&&S!=null&&v(e,["setup","generationConfig","thinkingConfig"],S);const b=g(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],b);const N=g(t,["systemInstruction"]);e!==void 0&&N!=null&&v(e,["setup","systemInstruction"],br(N));const T=g(t,["tools"]);if(e!==void 0&&T!=null){let re=qc(T);Array.isArray(re)&&(re=re.map(se=>Lk(Fc(se)))),v(e,["setup","tools"],re)}const k=g(t,["sessionResumption"]);e!==void 0&&k!=null&&v(e,["setup","sessionResumption"],k);const I=g(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&v(e,["setup","inputAudioTranscription"],I);const F=g(t,["outputAudioTranscription"]);e!==void 0&&F!=null&&v(e,["setup","outputAudioTranscription"],F);const U=g(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&v(e,["setup","realtimeInputConfig"],U);const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&v(e,["setup","contextWindowCompression"],H);const ae=g(t,["proactivity"]);e!==void 0&&ae!=null&&v(e,["setup","proactivity"],ae);const de=g(t,["explicitVadSignal"]);return e!==void 0&&de!=null&&v(e,["setup","explicitVadSignal"],de),n}function Sk(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["setup","model"],bn(t,i));const s=g(e,["config"]);return s!=null&&v(n,["config"],wk(s,n)),n}function xk(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["setup","model"],bn(t,i));const s=g(e,["config"]);return s!=null&&v(n,["config"],_k(s,n)),n}function Ak(t){const e={},n=g(t,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],n),e}function Ek(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),v(e,["weightedPrompts"],i)}return e}function Tk(t){const e={},n=g(t,["media"]);if(n!=null){let f=qw(n);Array.isArray(f)&&(f=f.map(p=>gh(p))),v(e,["mediaChunks"],f)}const i=g(t,["audio"]);i!=null&&v(e,["audio"],gh(zw(i)));const s=g(t,["audioStreamEnd"]);s!=null&&v(e,["audioStreamEnd"],s);const a=g(t,["video"]);a!=null&&v(e,["video"],gh(Hw(a)));const l=g(t,["text"]);l!=null&&v(e,["text"],l);const c=g(t,["activityStart"]);c!=null&&v(e,["activityStart"],c);const d=g(t,["activityEnd"]);return d!=null&&v(e,["activityEnd"],d),e}function Nk(t){const e={},n=g(t,["media"]);if(n!=null){let f=qw(n);Array.isArray(f)&&(f=f.map(p=>p)),v(e,["mediaChunks"],f)}const i=g(t,["audio"]);i!=null&&v(e,["audio"],zw(i));const s=g(t,["audioStreamEnd"]);s!=null&&v(e,["audioStreamEnd"],s);const a=g(t,["video"]);a!=null&&v(e,["video"],Hw(a));const l=g(t,["text"]);l!=null&&v(e,["text"],l);const c=g(t,["activityStart"]);c!=null&&v(e,["activityStart"],c);const d=g(t,["activityEnd"]);return d!=null&&v(e,["activityEnd"],d),e}function Ck(t){const e={},n=g(t,["setupComplete"]);n!=null&&v(e,["setupComplete"],n);const i=g(t,["serverContent"]);i!=null&&v(e,["serverContent"],i);const s=g(t,["toolCall"]);s!=null&&v(e,["toolCall"],s);const a=g(t,["toolCallCancellation"]);a!=null&&v(e,["toolCallCancellation"],a);const l=g(t,["usageMetadata"]);l!=null&&v(e,["usageMetadata"],Mk(l));const c=g(t,["goAway"]);c!=null&&v(e,["goAway"],c);const d=g(t,["sessionResumptionUpdate"]);d!=null&&v(e,["sessionResumptionUpdate"],d);const f=g(t,["voiceActivityDetectionSignal"]);return f!=null&&v(e,["voiceActivityDetectionSignal"],f),e}function Rk(t){const e={},n=g(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const i=g(t,["codeExecutionResult"]);i!=null&&v(e,["codeExecutionResult"],i);const s=g(t,["executableCode"]);s!=null&&v(e,["executableCode"],s);const a=g(t,["fileData"]);a!=null&&v(e,["fileData"],pk(a));const l=g(t,["functionCall"]);l!=null&&v(e,["functionCall"],gk(l));const c=g(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const d=g(t,["inlineData"]);d!=null&&v(e,["inlineData"],gh(d));const f=g(t,["text"]);f!=null&&v(e,["text"],f);const p=g(t,["thought"]);p!=null&&v(e,["thought"],p);const w=g(t,["thoughtSignature"]);w!=null&&v(e,["thoughtSignature"],w);const S=g(t,["videoMetadata"]);return S!=null&&v(e,["videoMetadata"],S),e}function kk(t){const e={},n=g(t,["handle"]);if(n!=null&&v(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ik(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(w=>w)),v(e,["functionDeclarations"],p)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=g(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const s=g(t,["computerUse"]);s!=null&&v(e,["computerUse"],s);const a=g(t,["fileSearch"]);a!=null&&v(e,["fileSearch"],a);const l=g(t,["codeExecution"]);if(l!=null&&v(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],yk(c));const d=g(t,["googleSearch"]);d!=null&&v(e,["googleSearch"],bk(d));const f=g(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}function Lk(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(S=>mk(S))),v(e,["functionDeclarations"],w)}const i=g(t,["retrieval"]);i!=null&&v(e,["retrieval"],i);const s=g(t,["googleSearchRetrieval"]);s!=null&&v(e,["googleSearchRetrieval"],s);const a=g(t,["computerUse"]);if(a!=null&&v(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(t,["codeExecution"]);l!=null&&v(e,["codeExecution"],l);const c=g(t,["enterpriseWebSearch"]);c!=null&&v(e,["enterpriseWebSearch"],c);const d=g(t,["googleMaps"]);d!=null&&v(e,["googleMaps"],d);const f=g(t,["googleSearch"]);f!=null&&v(e,["googleSearch"],f);const p=g(t,["urlContext"]);return p!=null&&v(e,["urlContext"],p),e}function Mk(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const i=g(t,["cachedContentTokenCount"]);i!=null&&v(e,["cachedContentTokenCount"],i);const s=g(t,["candidatesTokenCount"]);s!=null&&v(e,["responseTokenCount"],s);const a=g(t,["toolUsePromptTokenCount"]);a!=null&&v(e,["toolUsePromptTokenCount"],a);const l=g(t,["thoughtsTokenCount"]);l!=null&&v(e,["thoughtsTokenCount"],l);const c=g(t,["totalTokenCount"]);c!=null&&v(e,["totalTokenCount"],c);const d=g(t,["promptTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(N=>N)),v(e,["promptTokensDetails"],b)}const f=g(t,["cacheTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(N=>N)),v(e,["cacheTokensDetails"],b)}const p=g(t,["candidatesTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(N=>N)),v(e,["responseTokensDetails"],b)}const w=g(t,["toolUsePromptTokensDetails"]);if(w!=null){let b=w;Array.isArray(b)&&(b=b.map(N=>N)),v(e,["toolUsePromptTokensDetails"],b)}const S=g(t,["trafficType"]);return S!=null&&v(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pk(t){const e={},n=g(t,["data"]);if(n!=null&&v(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function Dk(t){const e={},n=g(t,["content"]);n!=null&&v(e,["content"],n);const i=g(t,["citationMetadata"]);i!=null&&v(e,["citationMetadata"],Uk(i));const s=g(t,["tokenCount"]);s!=null&&v(e,["tokenCount"],s);const a=g(t,["finishReason"]);a!=null&&v(e,["finishReason"],a);const l=g(t,["avgLogprobs"]);l!=null&&v(e,["avgLogprobs"],l);const c=g(t,["groundingMetadata"]);c!=null&&v(e,["groundingMetadata"],c);const d=g(t,["index"]);d!=null&&v(e,["index"],d);const f=g(t,["logprobsResult"]);f!=null&&v(e,["logprobsResult"],f);const p=g(t,["safetyRatings"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(b=>b)),v(e,["safetyRatings"],S)}const w=g(t,["urlContextMetadata"]);return w!=null&&v(e,["urlContextMetadata"],w),e}function Uk(t){const e={},n=g(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),v(e,["citations"],i)}return e}function Ok(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["contents"]);if(s!=null){let a=Hs(s);Array.isArray(a)&&(a=a.map(l=>l)),v(n,["contents"],a)}return n}function Bk(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),v(e,["tokensInfo"],s)}return e}function Fk(t){const e={},n=g(t,["values"]);n!=null&&v(e,["values"],n);const i=g(t,["statistics"]);return i!=null&&v(e,["statistics"],qk(i)),e}function qk(t){const e={},n=g(t,["truncated"]);n!=null&&v(e,["truncated"],n);const i=g(t,["token_count"]);return i!=null&&v(e,["tokenCount"],i),e}function Bh(t){const e={},n=g(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Y8(a))),v(e,["parts"],s)}const i=g(t,["role"]);return i!=null&&v(e,["role"],i),e}function Hk(t){const e={},n=g(t,["controlType"]);n!=null&&v(e,["controlType"],n);const i=g(t,["enableControlImageComputation"]);return i!=null&&v(e,["computeControl"],i),e}function zk(t){const e={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Gk(t,e){const n={},i=g(t,["systemInstruction"]);e!==void 0&&i!=null&&v(e,["systemInstruction"],br(i));const s=g(t,["tools"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>n_(c))),v(e,["tools"],l)}const a=g(t,["generationConfig"]);return e!==void 0&&a!=null&&v(e,["generationConfig"],P8(a)),n}function jk(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["contents"]);if(s!=null){let l=Hs(s);Array.isArray(l)&&(l=l.map(c=>Bh(c))),v(n,["contents"],l)}const a=g(e,["config"]);return a!=null&&zk(a),n}function Vk(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["contents"]);if(s!=null){let l=Hs(s);Array.isArray(l)&&(l=l.map(c=>c)),v(n,["contents"],l)}const a=g(e,["config"]);return a!=null&&Gk(a,n),n}function $k(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["totalTokens"]);i!=null&&v(e,["totalTokens"],i);const s=g(t,["cachedContentTokenCount"]);return s!=null&&v(e,["cachedContentTokenCount"],s),e}function Jk(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["totalTokens"]);return i!=null&&v(e,["totalTokens"],i),e}function Wk(t,e){const n={},i=g(e,["model"]);return i!=null&&v(n,["_url","name"],bn(t,i)),n}function Yk(t,e){const n={},i=g(e,["model"]);return i!=null&&v(n,["_url","name"],bn(t,i)),n}function Kk(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function Xk(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function Zk(t,e){const n={},i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const s=g(t,["negativePrompt"]);e!==void 0&&s!=null&&v(e,["parameters","negativePrompt"],s);const a=g(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&v(e,["parameters","aspectRatio"],l);const c=g(t,["guidanceScale"]);e!==void 0&&c!=null&&v(e,["parameters","guidanceScale"],c);const d=g(t,["seed"]);e!==void 0&&d!=null&&v(e,["parameters","seed"],d);const f=g(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&v(e,["parameters","safetySetting"],f);const p=g(t,["personGeneration"]);e!==void 0&&p!=null&&v(e,["parameters","personGeneration"],p);const w=g(t,["includeSafetyAttributes"]);e!==void 0&&w!=null&&v(e,["parameters","includeSafetyAttributes"],w);const S=g(t,["includeRaiReason"]);e!==void 0&&S!=null&&v(e,["parameters","includeRaiReason"],S);const b=g(t,["language"]);e!==void 0&&b!=null&&v(e,["parameters","language"],b);const N=g(t,["outputMimeType"]);e!==void 0&&N!=null&&v(e,["parameters","outputOptions","mimeType"],N);const T=g(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&v(e,["parameters","outputOptions","compressionQuality"],T);const k=g(t,["addWatermark"]);e!==void 0&&k!=null&&v(e,["parameters","addWatermark"],k);const I=g(t,["labels"]);e!==void 0&&I!=null&&v(e,["labels"],I);const F=g(t,["editMode"]);e!==void 0&&F!=null&&v(e,["parameters","editMode"],F);const U=g(t,["baseSteps"]);return e!==void 0&&U!=null&&v(e,["parameters","editConfig","baseSteps"],U),n}function Qk(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["prompt"]);s!=null&&v(n,["instances[0]","prompt"],s);const a=g(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>tI(d))),v(n,["instances[0]","referenceImages"],c)}const l=g(e,["config"]);return l!=null&&Zk(l,n),n}function e8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Fh(a))),v(e,["generatedImages"],s)}return e}function t8(t,e){const n={},i=g(t,["taskType"]);e!==void 0&&i!=null&&v(e,["requests[]","taskType"],i);const s=g(t,["title"]);e!==void 0&&s!=null&&v(e,["requests[]","title"],s);const a=g(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&v(e,["requests[]","outputDimensionality"],a),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function n8(t,e){const n={},i=g(t,["taskType"]);e!==void 0&&i!=null&&v(e,["instances[]","task_type"],i);const s=g(t,["title"]);e!==void 0&&s!=null&&v(e,["instances[]","title"],s);const a=g(t,["outputDimensionality"]);e!==void 0&&a!=null&&v(e,["parameters","outputDimensionality"],a);const l=g(t,["mimeType"]);e!==void 0&&l!=null&&v(e,["instances[]","mimeType"],l);const c=g(t,["autoTruncate"]);return e!==void 0&&c!=null&&v(e,["parameters","autoTruncate"],c),n}function i8(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["contents"]);if(s!=null){let c=Xg(t,s);Array.isArray(c)&&(c=c.map(d=>d)),v(n,["requests[]","content"],c)}const a=g(e,["config"]);a!=null&&t8(a,n);const l=g(e,["model"]);return l!==void 0&&v(n,["requests[]","model"],bn(t,l)),n}function r8(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["contents"]);if(s!=null){let l=Xg(t,s);Array.isArray(l)&&(l=l.map(c=>c)),v(n,["instances[]","content"],l)}const a=g(e,["config"]);return a!=null&&n8(a,n),n}function s8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),v(e,["embeddings"],a)}const s=g(t,["metadata"]);return s!=null&&v(e,["metadata"],s),e}function o8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Fk(l))),v(e,["embeddings"],a)}const s=g(t,["metadata"]);return s!=null&&v(e,["metadata"],s),e}function a8(t){const e={},n=g(t,["endpoint"]);n!=null&&v(e,["name"],n);const i=g(t,["deployedModelId"]);return i!=null&&v(e,["deployedModelId"],i),e}function l8(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function u8(t){const e={},n=g(t,["id"]);n!=null&&v(e,["id"],n);const i=g(t,["args"]);i!=null&&v(e,["args"],i);const s=g(t,["name"]);if(s!=null&&v(e,["name"],s),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function c8(t){const e={},n=g(t,["mode"]);n!=null&&v(e,["mode"],n);const i=g(t,["allowedFunctionNames"]);if(i!=null&&v(e,["allowedFunctionNames"],i),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function f8(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&v(e,["description"],n);const i=g(t,["name"]);i!=null&&v(e,["name"],i);const s=g(t,["parameters"]);s!=null&&v(e,["parameters"],s);const a=g(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const l=g(t,["response"]);l!=null&&v(e,["response"],l);const c=g(t,["responseJsonSchema"]);return c!=null&&v(e,["responseJsonSchema"],c),e}function d8(t,e,n){const i={},s=g(e,["systemInstruction"]);n!==void 0&&s!=null&&v(n,["systemInstruction"],Bh(br(s)));const a=g(e,["temperature"]);a!=null&&v(i,["temperature"],a);const l=g(e,["topP"]);l!=null&&v(i,["topP"],l);const c=g(e,["topK"]);c!=null&&v(i,["topK"],c);const d=g(e,["candidateCount"]);d!=null&&v(i,["candidateCount"],d);const f=g(e,["maxOutputTokens"]);f!=null&&v(i,["maxOutputTokens"],f);const p=g(e,["stopSequences"]);p!=null&&v(i,["stopSequences"],p);const w=g(e,["responseLogprobs"]);w!=null&&v(i,["responseLogprobs"],w);const S=g(e,["logprobs"]);S!=null&&v(i,["logprobs"],S);const b=g(e,["presencePenalty"]);b!=null&&v(i,["presencePenalty"],b);const N=g(e,["frequencyPenalty"]);N!=null&&v(i,["frequencyPenalty"],N);const T=g(e,["seed"]);T!=null&&v(i,["seed"],T);const k=g(e,["responseMimeType"]);k!=null&&v(i,["responseMimeType"],k);const I=g(e,["responseSchema"]);I!=null&&v(i,["responseSchema"],Zg(I));const F=g(e,["responseJsonSchema"]);if(F!=null&&v(i,["responseJsonSchema"],F),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=g(e,["safetySettings"]);if(n!==void 0&&U!=null){let ie=U;Array.isArray(ie)&&(ie=ie.map(te=>nI(te))),v(n,["safetySettings"],ie)}const H=g(e,["tools"]);if(n!==void 0&&H!=null){let ie=qc(H);Array.isArray(ie)&&(ie=ie.map(te=>uI(Fc(te)))),v(n,["tools"],ie)}const ae=g(e,["toolConfig"]);if(n!==void 0&&ae!=null&&v(n,["toolConfig"],lI(ae)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const de=g(e,["cachedContent"]);n!==void 0&&de!=null&&v(n,["cachedContent"],Fa(t,de));const re=g(e,["responseModalities"]);re!=null&&v(i,["responseModalities"],re);const se=g(e,["mediaResolution"]);se!=null&&v(i,["mediaResolution"],se);const V=g(e,["speechConfig"]);if(V!=null&&v(i,["speechConfig"],Qg(V)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ge=g(e,["thinkingConfig"]);ge!=null&&v(i,["thinkingConfig"],ge);const q=g(e,["imageConfig"]);q!=null&&v(i,["imageConfig"],F8(q));const W=g(e,["enableEnhancedCivicAnswers"]);return W!=null&&v(i,["enableEnhancedCivicAnswers"],W),i}function h8(t,e,n){const i={},s=g(e,["systemInstruction"]);n!==void 0&&s!=null&&v(n,["systemInstruction"],br(s));const a=g(e,["temperature"]);a!=null&&v(i,["temperature"],a);const l=g(e,["topP"]);l!=null&&v(i,["topP"],l);const c=g(e,["topK"]);c!=null&&v(i,["topK"],c);const d=g(e,["candidateCount"]);d!=null&&v(i,["candidateCount"],d);const f=g(e,["maxOutputTokens"]);f!=null&&v(i,["maxOutputTokens"],f);const p=g(e,["stopSequences"]);p!=null&&v(i,["stopSequences"],p);const w=g(e,["responseLogprobs"]);w!=null&&v(i,["responseLogprobs"],w);const S=g(e,["logprobs"]);S!=null&&v(i,["logprobs"],S);const b=g(e,["presencePenalty"]);b!=null&&v(i,["presencePenalty"],b);const N=g(e,["frequencyPenalty"]);N!=null&&v(i,["frequencyPenalty"],N);const T=g(e,["seed"]);T!=null&&v(i,["seed"],T);const k=g(e,["responseMimeType"]);k!=null&&v(i,["responseMimeType"],k);const I=g(e,["responseSchema"]);I!=null&&v(i,["responseSchema"],Zg(I));const F=g(e,["responseJsonSchema"]);F!=null&&v(i,["responseJsonSchema"],F);const U=g(e,["routingConfig"]);U!=null&&v(i,["routingConfig"],U);const H=g(e,["modelSelectionConfig"]);H!=null&&v(i,["modelConfig"],H);const ae=g(e,["safetySettings"]);if(n!==void 0&&ae!=null){let ee=ae;Array.isArray(ee)&&(ee=ee.map(ce=>ce)),v(n,["safetySettings"],ee)}const de=g(e,["tools"]);if(n!==void 0&&de!=null){let ee=qc(de);Array.isArray(ee)&&(ee=ee.map(ce=>n_(Fc(ce)))),v(n,["tools"],ee)}const re=g(e,["toolConfig"]);n!==void 0&&re!=null&&v(n,["toolConfig"],re);const se=g(e,["labels"]);n!==void 0&&se!=null&&v(n,["labels"],se);const V=g(e,["cachedContent"]);n!==void 0&&V!=null&&v(n,["cachedContent"],Fa(t,V));const ge=g(e,["responseModalities"]);ge!=null&&v(i,["responseModalities"],ge);const q=g(e,["mediaResolution"]);q!=null&&v(i,["mediaResolution"],q);const W=g(e,["speechConfig"]);W!=null&&v(i,["speechConfig"],Qg(W));const ie=g(e,["audioTimestamp"]);ie!=null&&v(i,["audioTimestamp"],ie);const te=g(e,["thinkingConfig"]);te!=null&&v(i,["thinkingConfig"],te);const Se=g(e,["imageConfig"]);if(Se!=null&&v(i,["imageConfig"],q8(Se)),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function H5(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["contents"]);if(s!=null){let l=Hs(s);Array.isArray(l)&&(l=l.map(c=>Bh(c))),v(n,["contents"],l)}const a=g(e,["config"]);return a!=null&&v(n,["generationConfig"],d8(t,a,n)),n}function z5(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["contents"]);if(s!=null){let l=Hs(s);Array.isArray(l)&&(l=l.map(c=>c)),v(n,["contents"],l)}const a=g(e,["config"]);return a!=null&&v(n,["generationConfig"],h8(t,a,n)),n}function G5(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>Dk(f))),v(e,["candidates"],d)}const s=g(t,["modelVersion"]);s!=null&&v(e,["modelVersion"],s);const a=g(t,["promptFeedback"]);a!=null&&v(e,["promptFeedback"],a);const l=g(t,["responseId"]);l!=null&&v(e,["responseId"],l);const c=g(t,["usageMetadata"]);return c!=null&&v(e,["usageMetadata"],c),e}function j5(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),v(e,["candidates"],f)}const s=g(t,["createTime"]);s!=null&&v(e,["createTime"],s);const a=g(t,["modelVersion"]);a!=null&&v(e,["modelVersion"],a);const l=g(t,["promptFeedback"]);l!=null&&v(e,["promptFeedback"],l);const c=g(t,["responseId"]);c!=null&&v(e,["responseId"],c);const d=g(t,["usageMetadata"]);return d!=null&&v(e,["usageMetadata"],d),e}function p8(t,e){const n={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=g(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const s=g(t,["aspectRatio"]);e!==void 0&&s!=null&&v(e,["parameters","aspectRatio"],s);const a=g(t,["guidanceScale"]);if(e!==void 0&&a!=null&&v(e,["parameters","guidanceScale"],a),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&v(e,["parameters","safetySetting"],l);const c=g(t,["personGeneration"]);e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c);const d=g(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&v(e,["parameters","includeSafetyAttributes"],d);const f=g(t,["includeRaiReason"]);e!==void 0&&f!=null&&v(e,["parameters","includeRaiReason"],f);const p=g(t,["language"]);e!==void 0&&p!=null&&v(e,["parameters","language"],p);const w=g(t,["outputMimeType"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","mimeType"],w);const S=g(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&v(e,["parameters","outputOptions","compressionQuality"],S),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=g(t,["imageSize"]);if(e!==void 0&&b!=null&&v(e,["parameters","sampleImageSize"],b),g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function g8(t,e){const n={},i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const s=g(t,["negativePrompt"]);e!==void 0&&s!=null&&v(e,["parameters","negativePrompt"],s);const a=g(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&v(e,["parameters","aspectRatio"],l);const c=g(t,["guidanceScale"]);e!==void 0&&c!=null&&v(e,["parameters","guidanceScale"],c);const d=g(t,["seed"]);e!==void 0&&d!=null&&v(e,["parameters","seed"],d);const f=g(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&v(e,["parameters","safetySetting"],f);const p=g(t,["personGeneration"]);e!==void 0&&p!=null&&v(e,["parameters","personGeneration"],p);const w=g(t,["includeSafetyAttributes"]);e!==void 0&&w!=null&&v(e,["parameters","includeSafetyAttributes"],w);const S=g(t,["includeRaiReason"]);e!==void 0&&S!=null&&v(e,["parameters","includeRaiReason"],S);const b=g(t,["language"]);e!==void 0&&b!=null&&v(e,["parameters","language"],b);const N=g(t,["outputMimeType"]);e!==void 0&&N!=null&&v(e,["parameters","outputOptions","mimeType"],N);const T=g(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&v(e,["parameters","outputOptions","compressionQuality"],T);const k=g(t,["addWatermark"]);e!==void 0&&k!=null&&v(e,["parameters","addWatermark"],k);const I=g(t,["labels"]);e!==void 0&&I!=null&&v(e,["labels"],I);const F=g(t,["imageSize"]);e!==void 0&&F!=null&&v(e,["parameters","sampleImageSize"],F);const U=g(t,["enhancePrompt"]);return e!==void 0&&U!=null&&v(e,["parameters","enhancePrompt"],U),n}function m8(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["prompt"]);s!=null&&v(n,["instances[0]","prompt"],s);const a=g(e,["config"]);return a!=null&&p8(a,n),n}function v8(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["prompt"]);s!=null&&v(n,["instances[0]","prompt"],s);const a=g(e,["config"]);return a!=null&&g8(a,n),n}function y8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>k8(l))),v(e,["generatedImages"],a)}const s=g(t,["positivePromptSafetyAttributes"]);return s!=null&&v(e,["positivePromptSafetyAttributes"],e_(s)),e}function b8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Fh(l))),v(e,["generatedImages"],a)}const s=g(t,["positivePromptSafetyAttributes"]);return s!=null&&v(e,["positivePromptSafetyAttributes"],t_(s)),e}function w8(t,e){const n={},i=g(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=g(t,["durationSeconds"]);if(e!==void 0&&s!=null&&v(e,["parameters","durationSeconds"],s),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=g(t,["aspectRatio"]);e!==void 0&&a!=null&&v(e,["parameters","aspectRatio"],a);const l=g(t,["resolution"]);e!==void 0&&l!=null&&v(e,["parameters","resolution"],l);const c=g(t,["personGeneration"]);if(e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=g(t,["negativePrompt"]);e!==void 0&&d!=null&&v(e,["parameters","negativePrompt"],d);const f=g(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&v(e,["parameters","enhancePrompt"],f),g(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=g(t,["lastFrame"]);e!==void 0&&p!=null&&v(e,["instances[0]","lastFrame"],qh(p));const w=g(t,["referenceImages"]);if(e!==void 0&&w!=null){let S=w;Array.isArray(S)&&(S=S.map(b=>SI(b))),v(e,["instances[0]","referenceImages"],S)}if(g(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function _8(t,e){const n={},i=g(t,["numberOfVideos"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const s=g(t,["outputGcsUri"]);e!==void 0&&s!=null&&v(e,["parameters","storageUri"],s);const a=g(t,["fps"]);e!==void 0&&a!=null&&v(e,["parameters","fps"],a);const l=g(t,["durationSeconds"]);e!==void 0&&l!=null&&v(e,["parameters","durationSeconds"],l);const c=g(t,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const d=g(t,["aspectRatio"]);e!==void 0&&d!=null&&v(e,["parameters","aspectRatio"],d);const f=g(t,["resolution"]);e!==void 0&&f!=null&&v(e,["parameters","resolution"],f);const p=g(t,["personGeneration"]);e!==void 0&&p!=null&&v(e,["parameters","personGeneration"],p);const w=g(t,["pubsubTopic"]);e!==void 0&&w!=null&&v(e,["parameters","pubsubTopic"],w);const S=g(t,["negativePrompt"]);e!==void 0&&S!=null&&v(e,["parameters","negativePrompt"],S);const b=g(t,["enhancePrompt"]);e!==void 0&&b!=null&&v(e,["parameters","enhancePrompt"],b);const N=g(t,["generateAudio"]);e!==void 0&&N!=null&&v(e,["parameters","generateAudio"],N);const T=g(t,["lastFrame"]);e!==void 0&&T!=null&&v(e,["instances[0]","lastFrame"],Ro(T));const k=g(t,["referenceImages"]);if(e!==void 0&&k!=null){let U=k;Array.isArray(U)&&(U=U.map(H=>xI(H))),v(e,["instances[0]","referenceImages"],U)}const I=g(t,["mask"]);e!==void 0&&I!=null&&v(e,["instances[0]","mask"],_I(I));const F=g(t,["compressionQuality"]);return e!==void 0&&F!=null&&v(e,["parameters","compressionQuality"],F),n}function S8(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const i=g(t,["metadata"]);i!=null&&v(e,["metadata"],i);const s=g(t,["done"]);s!=null&&v(e,["done"],s);const a=g(t,["error"]);a!=null&&v(e,["error"],a);const l=g(t,["response","generateVideoResponse"]);return l!=null&&v(e,["response"],T8(l)),e}function x8(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const i=g(t,["metadata"]);i!=null&&v(e,["metadata"],i);const s=g(t,["done"]);s!=null&&v(e,["done"],s);const a=g(t,["error"]);a!=null&&v(e,["error"],a);const l=g(t,["response"]);return l!=null&&v(e,["response"],N8(l)),e}function A8(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["prompt"]);s!=null&&v(n,["instances[0]","prompt"],s);const a=g(e,["image"]);a!=null&&v(n,["instances[0]","image"],qh(a));const l=g(e,["video"]);l!=null&&v(n,["instances[0]","video"],i_(l));const c=g(e,["source"]);c!=null&&C8(c,n);const d=g(e,["config"]);return d!=null&&w8(d,n),n}function E8(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["prompt"]);s!=null&&v(n,["instances[0]","prompt"],s);const a=g(e,["image"]);a!=null&&v(n,["instances[0]","image"],Ro(a));const l=g(e,["video"]);l!=null&&v(n,["instances[0]","video"],r_(l));const c=g(e,["source"]);c!=null&&R8(c,n);const d=g(e,["config"]);return d!=null&&_8(d,n),n}function T8(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>L8(l))),v(e,["generatedVideos"],a)}const i=g(t,["raiMediaFilteredCount"]);i!=null&&v(e,["raiMediaFilteredCount"],i);const s=g(t,["raiMediaFilteredReasons"]);return s!=null&&v(e,["raiMediaFilteredReasons"],s),e}function N8(t){const e={},n=g(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>M8(l))),v(e,["generatedVideos"],a)}const i=g(t,["raiMediaFilteredCount"]);i!=null&&v(e,["raiMediaFilteredCount"],i);const s=g(t,["raiMediaFilteredReasons"]);return s!=null&&v(e,["raiMediaFilteredReasons"],s),e}function C8(t,e){const n={},i=g(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const s=g(t,["image"]);e!==void 0&&s!=null&&v(e,["instances[0]","image"],qh(s));const a=g(t,["video"]);return e!==void 0&&a!=null&&v(e,["instances[0]","video"],i_(a)),n}function R8(t,e){const n={},i=g(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const s=g(t,["image"]);e!==void 0&&s!=null&&v(e,["instances[0]","image"],Ro(s));const a=g(t,["video"]);return e!==void 0&&a!=null&&v(e,["instances[0]","video"],r_(a)),n}function k8(t){const e={},n=g(t,["_self"]);n!=null&&v(e,["image"],H8(n));const i=g(t,["raiFilteredReason"]);i!=null&&v(e,["raiFilteredReason"],i);const s=g(t,["_self"]);return s!=null&&v(e,["safetyAttributes"],e_(s)),e}function Fh(t){const e={},n=g(t,["_self"]);n!=null&&v(e,["image"],Qw(n));const i=g(t,["raiFilteredReason"]);i!=null&&v(e,["raiFilteredReason"],i);const s=g(t,["_self"]);s!=null&&v(e,["safetyAttributes"],t_(s));const a=g(t,["prompt"]);return a!=null&&v(e,["enhancedPrompt"],a),e}function I8(t){const e={},n=g(t,["_self"]);n!=null&&v(e,["mask"],Qw(n));const i=g(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),v(e,["labels"],s)}return e}function L8(t){const e={},n=g(t,["video"]);return n!=null&&v(e,["video"],bI(n)),e}function M8(t){const e={},n=g(t,["_self"]);return n!=null&&v(e,["video"],wI(n)),e}function P8(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const i=g(t,["responseJsonSchema"]);i!=null&&v(e,["responseJsonSchema"],i);const s=g(t,["audioTimestamp"]);s!=null&&v(e,["audioTimestamp"],s);const a=g(t,["candidateCount"]);a!=null&&v(e,["candidateCount"],a);const l=g(t,["enableAffectiveDialog"]);l!=null&&v(e,["enableAffectiveDialog"],l);const c=g(t,["frequencyPenalty"]);c!=null&&v(e,["frequencyPenalty"],c);const d=g(t,["logprobs"]);d!=null&&v(e,["logprobs"],d);const f=g(t,["maxOutputTokens"]);f!=null&&v(e,["maxOutputTokens"],f);const p=g(t,["mediaResolution"]);p!=null&&v(e,["mediaResolution"],p);const w=g(t,["presencePenalty"]);w!=null&&v(e,["presencePenalty"],w);const S=g(t,["responseLogprobs"]);S!=null&&v(e,["responseLogprobs"],S);const b=g(t,["responseMimeType"]);b!=null&&v(e,["responseMimeType"],b);const N=g(t,["responseModalities"]);N!=null&&v(e,["responseModalities"],N);const T=g(t,["responseSchema"]);T!=null&&v(e,["responseSchema"],T);const k=g(t,["routingConfig"]);k!=null&&v(e,["routingConfig"],k);const I=g(t,["seed"]);I!=null&&v(e,["seed"],I);const F=g(t,["speechConfig"]);F!=null&&v(e,["speechConfig"],F);const U=g(t,["stopSequences"]);U!=null&&v(e,["stopSequences"],U);const H=g(t,["temperature"]);H!=null&&v(e,["temperature"],H);const ae=g(t,["thinkingConfig"]);ae!=null&&v(e,["thinkingConfig"],ae);const de=g(t,["topK"]);de!=null&&v(e,["topK"],de);const re=g(t,["topP"]);if(re!=null&&v(e,["topP"],re),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function D8(t,e){const n={},i=g(e,["model"]);return i!=null&&v(n,["_url","name"],bn(t,i)),n}function U8(t,e){const n={},i=g(e,["model"]);return i!=null&&v(n,["_url","name"],bn(t,i)),n}function O8(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function B8(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function F8(t){const e={},n=g(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const i=g(t,["imageSize"]);if(i!=null&&v(e,["imageSize"],i),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function q8(t){const e={},n=g(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const i=g(t,["imageSize"]);i!=null&&v(e,["imageSize"],i);const s=g(t,["outputMimeType"]);s!=null&&v(e,["imageOutputOptions","mimeType"],s);const a=g(t,["outputCompressionQuality"]);return a!=null&&v(e,["imageOutputOptions","compressionQuality"],a),e}function H8(t){const e={},n=g(t,["bytesBase64Encoded"]);n!=null&&v(e,["imageBytes"],Nl(n));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function Qw(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const i=g(t,["bytesBase64Encoded"]);i!=null&&v(e,["imageBytes"],Nl(i));const s=g(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function qh(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(t,["imageBytes"]);n!=null&&v(e,["bytesBase64Encoded"],Nl(n));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function Ro(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const i=g(t,["imageBytes"]);i!=null&&v(e,["bytesBase64Encoded"],Nl(i));const s=g(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function z8(t,e,n){const i={},s=g(e,["pageSize"]);n!==void 0&&s!=null&&v(n,["_query","pageSize"],s);const a=g(e,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const l=g(e,["filter"]);n!==void 0&&l!=null&&v(n,["_query","filter"],l);const c=g(e,["queryBase"]);return n!==void 0&&c!=null&&v(n,["_url","models_url"],$w(t,c)),i}function G8(t,e,n){const i={},s=g(e,["pageSize"]);n!==void 0&&s!=null&&v(n,["_query","pageSize"],s);const a=g(e,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const l=g(e,["filter"]);n!==void 0&&l!=null&&v(n,["_query","filter"],l);const c=g(e,["queryBase"]);return n!==void 0&&c!=null&&v(n,["_url","models_url"],$w(t,c)),i}function j8(t,e){const n={},i=g(e,["config"]);return i!=null&&z8(t,i,n),n}function V8(t,e){const n={},i=g(e,["config"]);return i!=null&&G8(t,i,n),n}function $8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const s=g(t,["_self"]);if(s!=null){let a=Jw(s);Array.isArray(a)&&(a=a.map(l=>Cg(l))),v(e,["models"],a)}return e}function J8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const s=g(t,["_self"]);if(s!=null){let a=Jw(s);Array.isArray(a)&&(a=a.map(l=>Rg(l))),v(e,["models"],a)}return e}function W8(t){const e={},n=g(t,["maskMode"]);n!=null&&v(e,["maskMode"],n);const i=g(t,["segmentationClasses"]);i!=null&&v(e,["maskClasses"],i);const s=g(t,["maskDilation"]);return s!=null&&v(e,["dilation"],s),e}function Cg(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const i=g(t,["displayName"]);i!=null&&v(e,["displayName"],i);const s=g(t,["description"]);s!=null&&v(e,["description"],s);const a=g(t,["version"]);a!=null&&v(e,["version"],a);const l=g(t,["_self"]);l!=null&&v(e,["tunedModelInfo"],cI(l));const c=g(t,["inputTokenLimit"]);c!=null&&v(e,["inputTokenLimit"],c);const d=g(t,["outputTokenLimit"]);d!=null&&v(e,["outputTokenLimit"],d);const f=g(t,["supportedGenerationMethods"]);f!=null&&v(e,["supportedActions"],f);const p=g(t,["temperature"]);p!=null&&v(e,["temperature"],p);const w=g(t,["maxTemperature"]);w!=null&&v(e,["maxTemperature"],w);const S=g(t,["topP"]);S!=null&&v(e,["topP"],S);const b=g(t,["topK"]);b!=null&&v(e,["topK"],b);const N=g(t,["thinking"]);return N!=null&&v(e,["thinking"],N),e}function Rg(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const i=g(t,["displayName"]);i!=null&&v(e,["displayName"],i);const s=g(t,["description"]);s!=null&&v(e,["description"],s);const a=g(t,["versionId"]);a!=null&&v(e,["version"],a);const l=g(t,["deployedModels"]);if(l!=null){let w=l;Array.isArray(w)&&(w=w.map(S=>a8(S))),v(e,["endpoints"],w)}const c=g(t,["labels"]);c!=null&&v(e,["labels"],c);const d=g(t,["_self"]);d!=null&&v(e,["tunedModelInfo"],fI(d));const f=g(t,["defaultCheckpointId"]);f!=null&&v(e,["defaultCheckpointId"],f);const p=g(t,["checkpoints"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(S=>S)),v(e,["checkpoints"],w)}return e}function Y8(t){const e={},n=g(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const i=g(t,["codeExecutionResult"]);i!=null&&v(e,["codeExecutionResult"],i);const s=g(t,["executableCode"]);s!=null&&v(e,["executableCode"],s);const a=g(t,["fileData"]);a!=null&&v(e,["fileData"],l8(a));const l=g(t,["functionCall"]);l!=null&&v(e,["functionCall"],u8(l));const c=g(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const d=g(t,["inlineData"]);d!=null&&v(e,["inlineData"],Pk(d));const f=g(t,["text"]);f!=null&&v(e,["text"],f);const p=g(t,["thought"]);p!=null&&v(e,["thought"],p);const w=g(t,["thoughtSignature"]);w!=null&&v(e,["thoughtSignature"],w);const S=g(t,["videoMetadata"]);return S!=null&&v(e,["videoMetadata"],S),e}function K8(t){const e={},n=g(t,["productImage"]);return n!=null&&v(e,["image"],Ro(n)),e}function X8(t,e){const n={},i=g(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const s=g(t,["baseSteps"]);e!==void 0&&s!=null&&v(e,["parameters","baseSteps"],s);const a=g(t,["outputGcsUri"]);e!==void 0&&a!=null&&v(e,["parameters","storageUri"],a);const l=g(t,["seed"]);e!==void 0&&l!=null&&v(e,["parameters","seed"],l);const c=g(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&v(e,["parameters","safetySetting"],c);const d=g(t,["personGeneration"]);e!==void 0&&d!=null&&v(e,["parameters","personGeneration"],d);const f=g(t,["addWatermark"]);e!==void 0&&f!=null&&v(e,["parameters","addWatermark"],f);const p=g(t,["outputMimeType"]);e!==void 0&&p!=null&&v(e,["parameters","outputOptions","mimeType"],p);const w=g(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","compressionQuality"],w);const S=g(t,["enhancePrompt"]);e!==void 0&&S!=null&&v(e,["parameters","enhancePrompt"],S);const b=g(t,["labels"]);return e!==void 0&&b!=null&&v(e,["labels"],b),n}function Z8(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["source"]);s!=null&&eI(s,n);const a=g(e,["config"]);return a!=null&&X8(a,n),n}function Q8(t){const e={},n=g(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Fh(s))),v(e,["generatedImages"],i)}return e}function eI(t,e){const n={},i=g(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const s=g(t,["personImage"]);e!==void 0&&s!=null&&v(e,["instances[0]","personImage","image"],Ro(s));const a=g(t,["productImages"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>K8(c))),v(e,["instances[0]","productImages"],l)}return n}function tI(t){const e={},n=g(t,["referenceImage"]);n!=null&&v(e,["referenceImage"],Ro(n));const i=g(t,["referenceId"]);i!=null&&v(e,["referenceId"],i);const s=g(t,["referenceType"]);s!=null&&v(e,["referenceType"],s);const a=g(t,["maskImageConfig"]);a!=null&&v(e,["maskImageConfig"],W8(a));const l=g(t,["controlImageConfig"]);l!=null&&v(e,["controlImageConfig"],Hk(l));const c=g(t,["styleImageConfig"]);c!=null&&v(e,["styleImageConfig"],c);const d=g(t,["subjectImageConfig"]);return d!=null&&v(e,["subjectImageConfig"],d),e}function e_(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const i=g(t,["safetyAttributes","scores"]);i!=null&&v(e,["scores"],i);const s=g(t,["contentType"]);return s!=null&&v(e,["contentType"],s),e}function t_(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const i=g(t,["safetyAttributes","scores"]);i!=null&&v(e,["scores"],i);const s=g(t,["contentType"]);return s!=null&&v(e,["contentType"],s),e}function nI(t){const e={},n=g(t,["category"]);if(n!=null&&v(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=g(t,["threshold"]);return i!=null&&v(e,["threshold"],i),e}function iI(t){const e={},n=g(t,["image"]);return n!=null&&v(e,["image"],Ro(n)),e}function rI(t,e){const n={},i=g(t,["mode"]);e!==void 0&&i!=null&&v(e,["parameters","mode"],i);const s=g(t,["maxPredictions"]);e!==void 0&&s!=null&&v(e,["parameters","maxPredictions"],s);const a=g(t,["confidenceThreshold"]);e!==void 0&&a!=null&&v(e,["parameters","confidenceThreshold"],a);const l=g(t,["maskDilation"]);e!==void 0&&l!=null&&v(e,["parameters","maskDilation"],l);const c=g(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&v(e,["parameters","binaryColorThreshold"],c);const d=g(t,["labels"]);return e!==void 0&&d!=null&&v(e,["labels"],d),n}function sI(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["source"]);s!=null&&aI(s,n);const a=g(e,["config"]);return a!=null&&rI(a,n),n}function oI(t){const e={},n=g(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>I8(s))),v(e,["generatedMasks"],i)}return e}function aI(t,e){const n={},i=g(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const s=g(t,["image"]);e!==void 0&&s!=null&&v(e,["instances[0]","image"],Ro(s));const a=g(t,["scribbleImage"]);return e!==void 0&&a!=null&&v(e,["instances[0]","scribble"],iI(a)),n}function lI(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],c8(n));const i=g(t,["retrievalConfig"]);return i!=null&&v(e,["retrievalConfig"],i),e}function uI(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(w=>w)),v(e,["functionDeclarations"],p)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=g(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const s=g(t,["computerUse"]);s!=null&&v(e,["computerUse"],s);const a=g(t,["fileSearch"]);a!=null&&v(e,["fileSearch"],a);const l=g(t,["codeExecution"]);if(l!=null&&v(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],O8(c));const d=g(t,["googleSearch"]);d!=null&&v(e,["googleSearch"],B8(d));const f=g(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}function n_(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(S=>f8(S))),v(e,["functionDeclarations"],w)}const i=g(t,["retrieval"]);i!=null&&v(e,["retrieval"],i);const s=g(t,["googleSearchRetrieval"]);s!=null&&v(e,["googleSearchRetrieval"],s);const a=g(t,["computerUse"]);if(a!=null&&v(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(t,["codeExecution"]);l!=null&&v(e,["codeExecution"],l);const c=g(t,["enterpriseWebSearch"]);c!=null&&v(e,["enterpriseWebSearch"],c);const d=g(t,["googleMaps"]);d!=null&&v(e,["googleMaps"],d);const f=g(t,["googleSearch"]);f!=null&&v(e,["googleSearch"],f);const p=g(t,["urlContext"]);return p!=null&&v(e,["urlContext"],p),e}function cI(t){const e={},n=g(t,["baseModel"]);n!=null&&v(e,["baseModel"],n);const i=g(t,["createTime"]);i!=null&&v(e,["createTime"],i);const s=g(t,["updateTime"]);return s!=null&&v(e,["updateTime"],s),e}function fI(t){const e={},n=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&v(e,["baseModel"],n);const i=g(t,["createTime"]);i!=null&&v(e,["createTime"],i);const s=g(t,["updateTime"]);return s!=null&&v(e,["updateTime"],s),e}function dI(t,e){const n={},i=g(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const s=g(t,["description"]);e!==void 0&&s!=null&&v(e,["description"],s);const a=g(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&v(e,["defaultCheckpointId"],a),n}function hI(t,e){const n={},i=g(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const s=g(t,["description"]);e!==void 0&&s!=null&&v(e,["description"],s);const a=g(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&v(e,["defaultCheckpointId"],a),n}function pI(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","name"],bn(t,i));const s=g(e,["config"]);return s!=null&&dI(s,n),n}function gI(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["config"]);return s!=null&&hI(s,n),n}function mI(t,e){const n={},i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const s=g(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&v(e,["parameters","safetySetting"],s);const a=g(t,["personGeneration"]);e!==void 0&&a!=null&&v(e,["parameters","personGeneration"],a);const l=g(t,["includeRaiReason"]);e!==void 0&&l!=null&&v(e,["parameters","includeRaiReason"],l);const c=g(t,["outputMimeType"]);e!==void 0&&c!=null&&v(e,["parameters","outputOptions","mimeType"],c);const d=g(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&v(e,["parameters","outputOptions","compressionQuality"],d);const f=g(t,["enhanceInputImage"]);e!==void 0&&f!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],f);const p=g(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const w=g(t,["labels"]);e!==void 0&&w!=null&&v(e,["labels"],w);const S=g(t,["numberOfImages"]);e!==void 0&&S!=null&&v(e,["parameters","sampleCount"],S);const b=g(t,["mode"]);return e!==void 0&&b!=null&&v(e,["parameters","mode"],b),n}function vI(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["_url","model"],bn(t,i));const s=g(e,["image"]);s!=null&&v(n,["instances[0]","image"],Ro(s));const a=g(e,["upscaleFactor"]);a!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=g(e,["config"]);return l!=null&&mI(l,n),n}function yI(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Fh(a))),v(e,["generatedImages"],s)}return e}function bI(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["uri"],n);const i=g(t,["encodedVideo"]);i!=null&&v(e,["videoBytes"],Nl(i));const s=g(t,["encoding"]);return s!=null&&v(e,["mimeType"],s),e}function wI(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const i=g(t,["bytesBase64Encoded"]);i!=null&&v(e,["videoBytes"],Nl(i));const s=g(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}function _I(t){const e={},n=g(t,["image"]);n!=null&&v(e,["_self"],Ro(n));const i=g(t,["maskMode"]);return i!=null&&v(e,["maskMode"],i),e}function SI(t){const e={},n=g(t,["image"]);n!=null&&v(e,["image"],qh(n));const i=g(t,["referenceType"]);return i!=null&&v(e,["referenceType"],i),e}function xI(t){const e={},n=g(t,["image"]);n!=null&&v(e,["image"],Ro(n));const i=g(t,["referenceType"]);return i!=null&&v(e,["referenceType"],i),e}function i_(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["uri"],n);const i=g(t,["videoBytes"]);i!=null&&v(e,["encodedVideo"],Nl(i));const s=g(t,["mimeType"]);return s!=null&&v(e,["encoding"],s),e}function r_(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["gcsUri"],n);const i=g(t,["videoBytes"]);i!=null&&v(e,["bytesBase64Encoded"],Nl(i));const s=g(t,["mimeType"]);return s!=null&&v(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AI(t,e){const n={},i=g(t,["displayName"]);return e!==void 0&&i!=null&&v(e,["displayName"],i),n}function EI(t){const e={},n=g(t,["config"]);return n!=null&&AI(n,e),e}function TI(t,e){const n={},i=g(t,["force"]);return e!==void 0&&i!=null&&v(e,["_query","force"],i),n}function NI(t){const e={},n=g(t,["name"]);n!=null&&v(e,["_url","name"],n);const i=g(t,["config"]);return i!=null&&TI(i,e),e}function CI(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function RI(t,e){const n={},i=g(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),v(e,["customMetadata"],a)}const s=g(t,["chunkingConfig"]);return e!==void 0&&s!=null&&v(e,["chunkingConfig"],s),n}function kI(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const i=g(t,["metadata"]);i!=null&&v(e,["metadata"],i);const s=g(t,["done"]);s!=null&&v(e,["done"],s);const a=g(t,["error"]);a!=null&&v(e,["error"],a);const l=g(t,["response"]);return l!=null&&v(e,["response"],LI(l)),e}function II(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const i=g(t,["fileName"]);i!=null&&v(e,["fileName"],i);const s=g(t,["config"]);return s!=null&&RI(s,e),e}function LI(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["parent"]);i!=null&&v(e,["parent"],i);const s=g(t,["documentName"]);return s!=null&&v(e,["documentName"],s),e}function MI(t,e){const n={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const s=g(t,["pageToken"]);return e!==void 0&&s!=null&&v(e,["_query","pageToken"],s),n}function PI(t){const e={},n=g(t,["config"]);return n!=null&&MI(n,e),e}function DI(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const s=g(t,["fileSearchStores"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),v(e,["fileSearchStores"],a)}return e}function s_(t,e){const n={},i=g(t,["mimeType"]);e!==void 0&&i!=null&&v(e,["mimeType"],i);const s=g(t,["displayName"]);e!==void 0&&s!=null&&v(e,["displayName"],s);const a=g(t,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),v(e,["customMetadata"],c)}const l=g(t,["chunkingConfig"]);return e!==void 0&&l!=null&&v(e,["chunkingConfig"],l),n}function UI(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const i=g(t,["config"]);return i!=null&&s_(i,e),e}function OI(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BI="Content-Type",FI="X-Server-Timeout",qI="User-Agent",kg="x-goog-api-client",HI="1.34.0",zI=`google-genai-sdk/${HI}`,GI="v1beta1",jI="v1beta";class VI{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:GI,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:jI,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const s=[this.getRequestUrlInternal(n)];return i&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))s.searchParams.append(l,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,s.toString(),e.abortSignal),this.unaryApiCall(s,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[s,a]of Object.entries(n))typeof a=="object"?i[s]=Object.assign(Object.assign({},i[s]),a):a!==void 0&&(i[s]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,s.toString(),e.abortSignal),this.streamApiCall(s,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,s){if(n&&n.timeout||s){const a=new AbortController,l=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}s&&s.addEventListener("abort",()=>{a.abort()}),e.signal=l}return n&&n.extraBody!==null&&$I(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await V5(s),new Eg(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await V5(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return Ao(this,arguments,function*(){var i;const s=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let l="";const c="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:p}=yield Ut(s.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const w=a.decode(p,{stream:!0});try{const N=JSON.parse(w);if("error"in N){const T=JSON.parse(JSON.stringify(N.error)),k=T.status,I=T.code,F=`got status: ${k}. ${JSON.stringify(N)}`;if(I>=400&&I<600)throw new Oh({message:F,status:I})}}catch(N){if(N.name==="ApiError")throw N}l+=w;let S=-1,b=0;for(;;){S=-1,b=0;for(const k of d){const I=l.indexOf(k);I!==-1&&(S===-1||I<S)&&(S=I,b=k.length)}if(S===-1)break;const N=l.substring(0,S);l=l.substring(S+b);const T=N.trim();if(T.startsWith(c)){const k=T.substring(c.length).trim();try{const I=new Response(k,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ut(new Eg(I))}catch(I){throw new Error(`exception parsing stream chunk ${k}. ${I}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=zI+" "+this.clientOptions.userAgentExtra;return e[qI]=n,e[kg]=n,e[BI]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[s,a]of Object.entries(e.headers))i.append(s,a);e.timeout&&e.timeout>0&&i.append(FI,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const a=this.clientOptions.uploader,l=await a.stat(e);s.sizeBytes=String(l.size);const c=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=c;const d={file:s},f=this.getFileName(e),p=Ye("upload/v1beta/files",d._url),w=await this.fetchUploadUrl(p,s.sizeBytes,s.mimeType,f,d,n==null?void 0:n.httpOptions);return a.upload(e,w,this)}async uploadFileToFileSearchStore(e,n,i){var s;const a=this.clientOptions.uploader,l=await a.stat(n),c=String(l.size),d=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,p=this.getFileName(n),w={};i!=null&&s_(i,w);const S=await this.fetchUploadUrl(f,c,d,p,w,i==null?void 0:i.httpOptions);return a.uploadToFileSearchStore(n,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,s,a,l){var c;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},s?{"X-Goog-Upload-File-Name":s}:{})};const f=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(c=f==null?void 0:f.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function V5(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(i);throw n>=400&&n<600?new Oh({message:s,status:n}):new Error(s)}}function $I(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,l){const c=Object.assign({},a);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=l[d],p=c[d];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?c[d]=i(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),c[d]=f)}return c}const s=i(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JI="mcp_used/unknown";let WI=!1;function o_(t){for(const e of t)if(YI(e)||typeof e=="object"&&"inputSchema"in e)return!0;return WI}function a_(t){var e;const n=(e=t[kg])!==null&&e!==void 0?e:"";t[kg]=(n+` ${JI}`).trimStart()}function YI(t){return t!==null&&typeof t=="object"&&t instanceof tm}function KI(t){return Ao(this,arguments,function*(n,i=100){let s,a=0;for(;a<i;){const l=yield Ut(n.listTools({cursor:s}));for(const c of l.tools)yield yield Ut(c),a++;if(!l.nextCursor)break;s=l.nextCursor}})}class tm{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new tm(e,n)}async initialize(){var e,n,i,s;if(this.mcpTools.length>0)return;const a={},l=[];for(const p of this.mcpClients)try{for(var c=!0,d=(n=void 0,Eo(KI(p))),f;f=await d.next(),e=f.done,!e;c=!0){s=f.value,c=!1;const w=s;l.push(w);const S=w.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=p}}catch(w){n={error:w}}finally{try{!c&&!e&&(i=d.return)&&await i.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),C6(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await s.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function XI(t,e,n){const i=new w6;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(i,s),e(i)}class ZI{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=tL(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),d=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let f=()=>{};const p=new Promise(U=>{f=U}),w=e.callbacks,S=function(){f({})},b=this.apiClient,N={onopen:S,onmessage:U=>{XI(b,w.onmessage,U)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(U){},onclose:(i=w==null?void 0:w.onclose)!==null&&i!==void 0?i:function(U){}},T=this.webSocketFactory.create(d,eL(l),N);T.connect(),await p;const F={setup:{model:bn(this.apiClient,e.model)}};return T.send(JSON.stringify(F)),new QI(T,this.apiClient)}}class QI{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Ek(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Ak(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Cc.PLAY)}pause(){this.sendPlaybackControl(Cc.PAUSE)}stop(){this.sendPlaybackControl(Cc.STOP)}resetContext(){this.sendPlaybackControl(Cc.RESET_CONTEXT)}close(){this.conn.close()}}function eL(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function tL(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nL="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function iL(t,e,n){const i=new b6;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const a=JSON.parse(s);if(t.isVertexAI()){const l=Ck(a);Object.assign(i,l)}else Object.assign(i,a);e(i)}class rL{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new ZI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,s,a,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const w=this.apiClient.getHeaders();e.config&&e.config.tools&&o_(e.config.tools)&&a_(w);const S=lL(w);if(this.apiClient.isVertexAI())p=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,p);else{const V=this.apiClient.getApiKey();let ge="BidiGenerateContent",q="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ge="BidiGenerateContentConstrained",q="access_token"),p=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${ge}?${q}=${V}`}let b=()=>{};const N=new Promise(V=>{b=V}),T=e.callbacks,k=function(){var V;(V=T==null?void 0:T.onopen)===null||V===void 0||V.call(T),b({})},I=this.apiClient,F={onopen:k,onmessage:V=>{iL(I,T.onmessage,V)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(V){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(V){}},U=this.webSocketFactory.create(p,aL(S),F);U.connect(),await N;let H=bn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const V=this.apiClient.getProject(),ge=this.apiClient.getLocation();H=`projects/${V}/locations/${ge}/`+H}let ae={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Eh.AUDIO]}:e.config.responseModalities=[Eh.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const de=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],re=[];for(const V of de)if(this.isCallableTool(V)){const ge=V;re.push(await ge.tool())}else re.push(V);re.length>0&&(e.config.tools=re);const se={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ae=xk(this.apiClient,se):ae=Sk(this.apiClient,se),delete ae.config,U.send(JSON.stringify(ae)),new oL(U,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const sL={turnComplete:!0};class oL{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Hs(n.turns),e.isVertexAI()||(i=i.map(s=>Bh(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(nL)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},sL),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Nk(e)}:n={realtimeInput:Tk(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function aL(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function lL(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $5=10;function J5(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Oc(l)){s=!0;break}if(!s)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Oc(t){return"callTool"in t&&typeof t.callTool=="function"}function uL(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>Oc(s)))!==null&&i!==void 0?i:!1}function W5(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,s)=>{if(Oc(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(s)}),n}function Y5(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cL extends Ba{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,s,a,l,c;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!uL(n)||J5(n.config))return await this.generateContentInternal(d);const f=W5(n);if(f.length>0){const T=f.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let p,w;const S=Hs(d.contents),b=(a=(s=(i=d.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:$5;let N=0;for(;N<b&&(p=await this.generateContentInternal(d),!(!p.functionCalls||p.functionCalls.length===0));){const T=p.candidates[0].content,k=[];for(const I of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(Oc(I)){const U=await I.callTool(p.functionCalls);k.push(...U)}N++,w={role:"user",parts:k},d.contents=Hs(d.contents),d.contents.push(T),d.contents.push(w),Y5(d.config)&&(S.push(T),S.push(w))}return Y5(d.config)&&(p.automaticFunctionCallingHistory=S),p},this.generateContentStream=async n=>{var i,s,a,l,c;if(this.maybeMoveToResponseJsonSchem(n),J5(n.config)){const w=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(w)}const d=W5(n);if(d.length>0){const w=d.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${w}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(s=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,p=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(f&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var s;let a;const l=[];if(i!=null&&i.generatedImages)for(const d of i.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((s=d==null?void 0:d.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?a=d==null?void 0:d.safetyAttributes:l.push(d);let c;return a?c={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:i.sdkHttpResponse},c}),this.list=async n=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new wu(Ua.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var i,s,a,l,c,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((d=(c=n.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,s;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const l=await Promise.all(a.map(async d=>Oc(d)?await d.tool():d)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&o_(e.config.tools)){const d=(s=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&s!==void 0?s:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),a_(f),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return c}async initAfcToolsMap(e){var n,i,s;const a=new Map;for(const l of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Oc(l)){const c=l,d=await c.tool();for(const f of(s=d.functionDeclarations)!==null&&s!==void 0?s:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,c)}}return a}async processAfcStream(e){var n,i,s;const a=(s=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:$5;let l=!1,c=0;const d=await this.initAfcToolsMap(e);return(function(f,p,w){return Ao(this,arguments,function*(){for(var S,b,N,T,k,I;c<a;){l&&(c++,l=!1);const ae=yield Ut(f.processParamsMaybeAddMcpUsage(w)),de=yield Ut(f.generateContentStreamInternal(ae)),re=[],se=[];try{for(var F=!0,U=(b=void 0,Eo(de)),H;H=yield Ut(U.next()),S=H.done,!S;F=!0){T=H.value,F=!1;const V=T;if(yield yield Ut(V),V.candidates&&(!((k=V.candidates[0])===null||k===void 0)&&k.content)){se.push(V.candidates[0].content);for(const ge of(I=V.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(c<a&&ge.functionCall){if(!ge.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(ge.functionCall.name)){const q=yield Ut(p.get(ge.functionCall.name).callTool([ge.functionCall]));re.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${ge.functionCall.name}`)}}}}catch(V){b={error:V}}finally{try{!F&&!S&&(N=U.return)&&(yield Ut(N.call(U)))}finally{if(b)throw b.error}}if(re.length>0){l=!0;const V=new Cf;V.candidates=[{content:{role:"user",parts:re}}],yield yield Ut(V);const ge=[];ge.push(...se),ge.push({role:"user",parts:re});const q=Hs(w.contents).concat(ge);w.contents=q}else break}})})(this,d,e)}async generateContentInternal(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=z5(this.apiClient,e);return c=Ye("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=j5(p),S=new Cf;return Object.assign(S,w),S})}else{const f=H5(this.apiClient,e);return c=Ye("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=G5(p),S=new Cf;return Object.assign(S,w),S})}}async generateContentStreamInternal(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=z5(this.apiClient,e);return c=Ye("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(w){return Ao(this,arguments,function*(){var S,b,N,T;try{for(var k=!0,I=Eo(w),F;F=yield Ut(I.next()),S=F.done,!S;k=!0){T=F.value,k=!1;const U=T,H=j5(yield Ut(U.json()));H.sdkHttpResponse={headers:U.headers};const ae=new Cf;Object.assign(ae,H),yield yield Ut(ae)}}catch(U){b={error:U}}finally{try{!k&&!S&&(N=I.return)&&(yield Ut(N.call(I)))}finally{if(b)throw b.error}}})})}else{const f=H5(this.apiClient,e);return c=Ye("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(w){return Ao(this,arguments,function*(){var S,b,N,T;try{for(var k=!0,I=Eo(w),F;F=yield Ut(I.next()),S=F.done,!S;k=!0){T=F.value,k=!1;const U=T,H=G5(yield Ut(U.json()));H.sdkHttpResponse={headers:U.headers};const ae=new Cf;Object.assign(ae,H),yield yield Ut(ae)}}catch(U){b={error:U}}finally{try{!k&&!S&&(N=I.return)&&(yield Ut(N.call(I)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=r8(this.apiClient,e);return c=Ye("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=o8(p),S=new A5;return Object.assign(S,w),S})}else{const f=i8(this.apiClient,e);return c=Ye("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=s8(p),S=new A5;return Object.assign(S,w),S})}}async generateImagesInternal(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=v8(this.apiClient,e);return c=Ye("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=b8(p),S=new E5;return Object.assign(S,w),S})}else{const f=m8(this.apiClient,e);return c=Ye("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=y8(p),S=new E5;return Object.assign(S,w),S})}}async editImageInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=Qk(this.apiClient,e);return a=Ye("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const f=e8(d),p=new l6;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=vI(this.apiClient,e);return a=Ye("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const f=yI(d),p=new u6;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=Z8(this.apiClient,e);return a=Ye("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const f=Q8(d),p=new c6;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=sI(this.apiClient,e);return a=Ye("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const f=oI(d),p=new f6;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=U8(this.apiClient,e);return c=Ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>Rg(p))}else{const f=D8(this.apiClient,e);return c=Ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>Cg(p))}}async listInternal(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=V8(this.apiClient,e);return c=Ye("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=J8(p),S=new T5;return Object.assign(S,w),S})}else{const f=j8(this.apiClient,e);return c=Ye("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=$8(p),S=new T5;return Object.assign(S,w),S})}}async update(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=gI(this.apiClient,e);return c=Ye("{model}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>Rg(p))}else{const f=pI(this.apiClient,e);return c=Ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>Cg(p))}}async delete(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=Yk(this.apiClient,e);return c=Ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=Xk(p),S=new N5;return Object.assign(S,w),S})}else{const f=Wk(this.apiClient,e);return c=Ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=Kk(p),S=new N5;return Object.assign(S,w),S})}}async countTokens(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=Vk(this.apiClient,e);return c=Ye("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=Jk(p),S=new C5;return Object.assign(S,w),S})}else{const f=jk(this.apiClient,e);return c=Ye("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=$k(p),S=new C5;return Object.assign(S,w),S})}}async computeTokens(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=Ok(this.apiClient,e);return a=Ye("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const f=Bk(d),p=new d6;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=E8(this.apiClient,e);return c=Ye("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>{const w=x8(p),S=new Th;return Object.assign(S,w),S})}else{const f=A8(this.apiClient,e);return c=Ye("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>{const w=S8(p),S=new Th;return Object.assign(S,w),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fL extends Ba{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=n6(e);return c=Ye("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l}else{const f=t6(e);return c=Ye("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l}}async fetchPredictVideosOperationInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=WC(e);return a=Ye("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dL(t){const e={},n=g(t,["data"]);if(n!=null&&v(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function hL(t){const e={},n=g(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>SL(a))),v(e,["parts"],s)}const i=g(t,["role"]);return i!=null&&v(e,["role"],i),e}function pL(t,e,n){const i={},s=g(e,["expireTime"]);n!==void 0&&s!=null&&v(n,["expireTime"],s);const a=g(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&v(n,["newSessionExpireTime"],a);const l=g(e,["uses"]);n!==void 0&&l!=null&&v(n,["uses"],l);const c=g(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&v(n,["bidiGenerateContentSetup"],_L(t,c));const d=g(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&v(n,["fieldMask"],d),i}function gL(t,e){const n={},i=g(e,["config"]);return i!=null&&v(n,["config"],pL(t,i,n)),n}function mL(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function vL(t){const e={},n=g(t,["id"]);n!=null&&v(e,["id"],n);const i=g(t,["args"]);i!=null&&v(e,["args"],i);const s=g(t,["name"]);if(s!=null&&v(e,["name"],s),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function yL(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function bL(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function wL(t,e){const n={},i=g(t,["generationConfig"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig"],i);const s=g(t,["responseModalities"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","responseModalities"],s);const a=g(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const l=g(t,["topP"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","topP"],l);const c=g(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const d=g(t,["maxOutputTokens"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","maxOutputTokens"],d);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const p=g(t,["seed"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","seed"],p);const w=g(t,["speechConfig"]);e!==void 0&&w!=null&&v(e,["setup","generationConfig","speechConfig"],em(w));const S=g(t,["thinkingConfig"]);e!==void 0&&S!=null&&v(e,["setup","generationConfig","thinkingConfig"],S);const b=g(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],b);const N=g(t,["systemInstruction"]);e!==void 0&&N!=null&&v(e,["setup","systemInstruction"],hL(br(N)));const T=g(t,["tools"]);if(e!==void 0&&T!=null){let de=qc(T);Array.isArray(de)&&(de=de.map(re=>AL(Fc(re)))),v(e,["setup","tools"],de)}const k=g(t,["sessionResumption"]);e!==void 0&&k!=null&&v(e,["setup","sessionResumption"],xL(k));const I=g(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&v(e,["setup","inputAudioTranscription"],I);const F=g(t,["outputAudioTranscription"]);e!==void 0&&F!=null&&v(e,["setup","outputAudioTranscription"],F);const U=g(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&v(e,["setup","realtimeInputConfig"],U);const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&v(e,["setup","contextWindowCompression"],H);const ae=g(t,["proactivity"]);if(e!==void 0&&ae!=null&&v(e,["setup","proactivity"],ae),g(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function _L(t,e){const n={},i=g(e,["model"]);i!=null&&v(n,["setup","model"],bn(t,i));const s=g(e,["config"]);return s!=null&&v(n,["config"],wL(s,n)),n}function SL(t){const e={},n=g(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const i=g(t,["codeExecutionResult"]);i!=null&&v(e,["codeExecutionResult"],i);const s=g(t,["executableCode"]);s!=null&&v(e,["executableCode"],s);const a=g(t,["fileData"]);a!=null&&v(e,["fileData"],mL(a));const l=g(t,["functionCall"]);l!=null&&v(e,["functionCall"],vL(l));const c=g(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const d=g(t,["inlineData"]);d!=null&&v(e,["inlineData"],dL(d));const f=g(t,["text"]);f!=null&&v(e,["text"],f);const p=g(t,["thought"]);p!=null&&v(e,["thought"],p);const w=g(t,["thoughtSignature"]);w!=null&&v(e,["thoughtSignature"],w);const S=g(t,["videoMetadata"]);return S!=null&&v(e,["videoMetadata"],S),e}function xL(t){const e={},n=g(t,["handle"]);if(n!=null&&v(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function AL(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(w=>w)),v(e,["functionDeclarations"],p)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=g(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const s=g(t,["computerUse"]);s!=null&&v(e,["computerUse"],s);const a=g(t,["fileSearch"]);a!=null&&v(e,["fileSearch"],a);const l=g(t,["codeExecution"]);if(l!=null&&v(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],yL(c));const d=g(t,["googleSearch"]);d!=null&&v(e,["googleSearch"],bL(d));const f=g(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EL(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const s=Object.keys(i).map(a=>`${n}.${a}`);e.push(...s)}else e.push(n)}return e.join(",")}function TL(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const a=EL(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];s.length>0&&(c=s.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];a&&d.push(a),c.length>0&&d.push(...c),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class NL extends Ba{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=gL(this.apiClient,e);a=Ye("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const d=TL(c,e.config);return s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CL(t,e){const n={},i=g(t,["force"]);return e!==void 0&&i!=null&&v(e,["_query","force"],i),n}function RL(t){const e={},n=g(t,["name"]);n!=null&&v(e,["_url","name"],n);const i=g(t,["config"]);return i!=null&&CL(i,e),e}function kL(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function IL(t,e){const n={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const s=g(t,["pageToken"]);return e!==void 0&&s!=null&&v(e,["_query","pageToken"],s),n}function LL(t){const e={},n=g(t,["parent"]);n!=null&&v(e,["_url","parent"],n);const i=g(t,["config"]);return i!=null&&IL(i,e),e}function ML(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=g(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const s=g(t,["documents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),v(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PL extends Ba{constructor(e){super(),this.apiClient=e,this.list=async n=>new wu(Ua.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=kL(e);return a=Ye("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(e){var n,i;let s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=RL(e);s=Ye("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=LL(e);return a=Ye("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const f=ML(d),p=new h6;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DL extends Ba{constructor(e,n=new PL(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new wu(Ua.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=EI(e);return a=Ye("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=CI(e);return a=Ye("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(e){var n,i;let s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=NI(e);s=Ye("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=PI(e);return a=Ye("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const f=DI(d),p=new p6;return Object.assign(p,f),p})}}async uploadToFileSearchStoreInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=UI(e);return a=Ye("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const f=OI(d),p=new g6;return Object.assign(p,f),p})}}async importFile(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=II(e);return a=Ye("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const f=kI(d),p=new Yg;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let l_=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return l_=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const UL=()=>l_();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ig(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Lg=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gs extends Error{}class Lr extends Gs{constructor(e,n,i,s){super(`${Lr.makeMessage(e,n,i)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,i){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,i,s){if(!e||!s)return new Hh({message:i,cause:Lg(n)});const a=n;return e===400?new c_(e,a,i,s):e===401?new f_(e,a,i,s):e===403?new d_(e,a,i,s):e===404?new h_(e,a,i,s):e===409?new p_(e,a,i,s):e===422?new g_(e,a,i,s):e===429?new m_(e,a,i,s):e>=500?new v_(e,a,i,s):new Lr(e,a,i,s)}}class Mg extends Lr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Hh extends Lr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class u_ extends Hh{constructor({message:e}={}){super({message:e??"Request timed out."})}}class c_ extends Lr{}class f_ extends Lr{}class d_ extends Lr{}class h_ extends Lr{}class p_ extends Lr{}class g_ extends Lr{}class m_ extends Lr{}class v_ extends Lr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OL=/^[a-z][a-z0-9+.-]*:/i,BL=t=>OL.test(t);let Pg=t=>(Pg=Array.isArray,Pg(t));const FL=Pg;let qL=FL;const K5=qL;function HL(t){if(!t)return!0;for(const e in t)return!1;return!0}function zL(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const GL=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Gs(`${t} must be an integer`);if(e<0)throw new Gs(`${t} must be a positive integer`);return e},jL=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VL=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ec="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $L(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const JL=()=>{var t,e,n,i,s;const a=$L();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ec,"X-Stainless-OS":Z5(Deno.build.os),"X-Stainless-Arch":X5(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ec,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ec,"X-Stainless-OS":Z5((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":X5((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const l=WL();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ec,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ec,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function WL(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const s=i[1]||0,a=i[2]||0,l=i[3]||0;return{browser:e,version:`${s}.${a}.${l}`}}}return null}const X5=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Z5=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Qd;const YL=()=>Qd??(Qd=JL());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KL(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function y_(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function XL(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return y_({start(){},async pull(n){const{done:i,value:s}=await e.next();i?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function b_(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function ZL(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),s=i.cancel();i.releaseLock(),await s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QL=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w_=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function j0(t,e,n){return w_(),new File(t,e??"unknown_file",n)}function eM(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const tM=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const __=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",nM=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&__(t),iM=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function rM(t,e,n){if(w_(),t=await t,nM(t))return t instanceof File?t:j0([await t.arrayBuffer()],t.name);if(iM(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),j0(await Dg(s),e,n)}const i=await Dg(t);if(e||(e=eM(t)),!(n!=null&&n.type)){const s=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof s=="string"&&(n=Object.assign(Object.assign({},n),{type:s}))}return j0(i,e,n)}async function Dg(t){var e,n,i,s,a;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(__(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(tM(t))try{for(var c=!0,d=Eo(t),f;f=await d.next(),e=f.done,!e;c=!0){s=f.value,c=!1;const p=s;l.push(...await Dg(p))}}catch(p){n={error:p}}finally{try{!c&&!e&&(i=d.return)&&await i.call(d)}finally{if(n)throw n.error}}else{const p=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${p?`; constructor: ${p}`:""}${sM(t)}`)}return l}function sM(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S_{constructor(e){this._client=e}}S_._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x_(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Q5=Object.freeze(Object.create(null)),oM=(t=x_)=>(function(n,...i){if(n.length===1)return n[0];let s=!1;const a=[],l=n.reduce((p,w,S)=>{var b,N,T;/[?#]/.test(w)&&(s=!0);const k=i[S];let I=(s?encodeURIComponent:t)(""+k);return S!==i.length&&(k==null||typeof k=="object"&&k.toString===((T=Object.getPrototypeOf((N=Object.getPrototypeOf((b=k.hasOwnProperty)!==null&&b!==void 0?b:Q5))!==null&&N!==void 0?N:Q5))===null||T===void 0?void 0:T.toString))&&(I=k+"",a.push({start:p.length+w.length,length:I.length,error:`Value of type ${Object.prototype.toString.call(k).slice(8,-1)} is not a valid path parameter`})),p+w+(S===i.length?"":I)},""),c=l.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=d.exec(c))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((p,w)=>p.start-w.start),a.length>0){let p=0;const w=a.reduce((S,b)=>{const N=" ".repeat(b.start-p),T="^".repeat(b.length);return p=b.start+b.length,S+N+T},"");throw new Gs(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${l}
${w}`)}return l}),eh=oM(x_);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A_ extends S_{create(e,n){var i;const{api_version:s=this._client.apiVersion}=e,a=Ch(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Gs("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Gs("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(eh`/${s}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:s=this._client.apiVersion}=n??{};return this._client.delete(eh`/${s}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:s=this._client.apiVersion}=n??{};return this._client.post(eh`/${s}/interactions/${e}/cancel`,i)}get(e,n={},i){var s;const a=n??{},{api_version:l=this._client.apiVersion}=a,c=Ch(a,["api_version"]);return this._client.get(eh`/${l}/interactions/${e}`,Object.assign(Object.assign({query:c},i),{stream:(s=n==null?void 0:n.stream)!==null&&s!==void 0?s:!1}))}}A_._key=Object.freeze(["interactions"]);class E_ extends A_{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aM(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let i=0;for(const s of t)n.set(s,i),i+=s.length;return n}let th;function nm(t){let e;return(th??(e=new globalThis.TextEncoder,th=e.encode.bind(e)))(t)}let nh;function eb(t){let e;return(nh??(e=new globalThis.TextDecoder,nh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?nm(e):e;this.buffer=aM([this.buffer,n]);const i=[];let s;for(;(s=lM(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){i.push(eb(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,l=eb(this.buffer.subarray(0,a));i.push(l),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}zh.NEWLINE_CHARS=new Set([`
`,"\r"]);zh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function lM(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function uM(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rh={off:0,error:200,warn:300,info:400,debug:500},tb=(t,e,n)=>{if(t){if(zL(Rh,t))return t;Ir(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Rh))}`)}};function If(){}function ih(t,e,n){return!e||Rh[t]>Rh[n]?If:e[t].bind(e)}const cM={error:If,warn:If,info:If,debug:If};let nb=new WeakMap;function Ir(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return cM;const s=nb.get(n);if(s&&s[0]===i)return s[1];const a={error:ih("error",n,i),warn:ih("warn",n,i),info:ih("info",n,i),debug:ih("debug",n,i)};return nb.set(n,[i,a]),a}const cu=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rc{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let s=!1;const a=i?Ir(i):console;function l(){return Ao(this,arguments,function*(){var d,f,p,w;if(s)throw new Gs("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let S=!1;try{try{for(var b=!0,N=Eo(fM(e,n)),T;T=yield Ut(N.next()),d=T.done,!d;b=!0){w=T.value,b=!1;const k=w;if(!S)if(k.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Ut(JSON.parse(k.data))}catch(I){throw a.error("Could not parse message into JSON:",k.data),a.error("From chunk:",k.raw),I}}}catch(k){f={error:k}}finally{try{!b&&!d&&(p=N.return)&&(yield Ut(p.call(N)))}finally{if(f)throw f.error}}S=!0}catch(k){if(Ig(k))return yield Ut(void 0);throw k}finally{S||n.abort()}})}return new Rc(l,n,i)}static fromReadableStream(e,n,i){let s=!1;function a(){return Ao(this,arguments,function*(){var d,f,p,w;const S=new zh,b=b_(e);try{for(var N=!0,T=Eo(b),k;k=yield Ut(T.next()),d=k.done,!d;N=!0){w=k.value,N=!1;const I=w;for(const F of S.decode(I))yield yield Ut(F)}}catch(I){f={error:I}}finally{try{!N&&!d&&(p=T.return)&&(yield Ut(p.call(T)))}finally{if(f)throw f.error}}for(const I of S.flush())yield yield Ut(I)})}function l(){return Ao(this,arguments,function*(){var d,f,p,w;if(s)throw new Gs("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let S=!1;try{try{for(var b=!0,N=Eo(a()),T;T=yield Ut(N.next()),d=T.done,!d;b=!0){w=T.value,b=!1;const k=w;S||k&&(yield yield Ut(JSON.parse(k)))}}catch(k){f={error:k}}finally{try{!b&&!d&&(p=N.return)&&(yield Ut(p.call(N)))}finally{if(f)throw f.error}}S=!0}catch(k){if(Ig(k))return yield Ut(void 0);throw k}finally{S||n.abort()}})}return new Rc(l,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),s=a=>({next:()=>{if(a.length===0){const l=i.next();e.push(l),n.push(l)}return a.shift()}});return[new Rc(()=>s(e),this.controller,this.client),new Rc(()=>s(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return y_({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const l=nm(JSON.stringify(s)+`
`);i.enqueue(l)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function fM(t,e){return Ao(this,arguments,function*(){var i,s,a,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Gs("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Gs("Attempted to iterate over a response with no body");const c=new hM,d=new zh,f=b_(t.body);try{for(var p=!0,w=Eo(dM(f)),S;S=yield Ut(w.next()),i=S.done,!i;p=!0){l=S.value,p=!1;const b=l;for(const N of d.decode(b)){const T=c.decode(N);T&&(yield yield Ut(T))}}}catch(b){s={error:b}}finally{try{!p&&!i&&(a=w.return)&&(yield Ut(a.call(w)))}finally{if(s)throw s.error}}for(const b of d.flush()){const N=c.decode(b);N&&(yield yield Ut(N))}})}function dM(t){return Ao(this,arguments,function*(){var n,i,s,a;let l=new Uint8Array;try{for(var c=!0,d=Eo(t),f;f=yield Ut(d.next()),n=f.done,!n;c=!0){a=f.value,c=!1;const p=a;if(p==null)continue;const w=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?nm(p):p;let S=new Uint8Array(l.length+w.length);S.set(l),S.set(w,l.length),l=S;let b;for(;(b=uM(l))!==-1;)yield yield Ut(l.slice(0,b)),l=l.slice(b)}}catch(p){i={error:p}}finally{try{!c&&!n&&(s=d.return)&&(yield Ut(s.call(d)))}finally{if(i)throw i.error}}l.length>0&&(yield yield Ut(l))})}class hM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,s]=pM(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function pM(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function gM(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:s,startTime:a}=e,l=await(async()=>{var c;if(e.options.stream)return Ir(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Rc.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const d=n.headers.get("content-type"),f=(c=d==null?void 0:d.split(";")[0])===null||c===void 0?void 0:c.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return Ir(t).debug(`[${i}] response parsed`,cu({retryOfRequestLogID:s,url:n.url,status:n.status,body:l,durationMs:Date.now()-a})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class im extends Promise{constructor(e,n,i=gM){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new im(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T_=Symbol("brand.privateNullableHeaders");function*mM(t){if(!t)return;if(T_ in t){const{values:i,nulls:s}=t;yield*i.entries();for(const a of s)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():K5(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const s=i[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const a=K5(i[1])?i[1]:[i[1]];let l=!1;for(const c of a)c!==void 0&&(e&&!l&&(l=!0,yield[s,null]),yield[s,c])}}const Rf=t=>{const e=new Headers,n=new Set;for(const i of t){const s=new Set;for(const[a,l]of mM(i)){const c=a.toLowerCase();s.has(c)||(e.delete(a),s.add(c)),l===null?(e.delete(a),n.add(c)):(e.append(a,l),n.delete(c))}}return{[T_]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V0=t=>{var e,n,i,s,a,l;if(typeof globalThis.process<"u")return(i=(n=(e=zC)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(l=(a=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||a===void 0?void 0:a.call(s,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var N_;class Gh{constructor(e){var n,i,s,a,l,c,d,{baseURL:f=V0("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(n=V0("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:w="v1beta"}=e,S=Ch(e,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:p,apiVersion:w},S),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(i=b.timeout)!==null&&i!==void 0?i:Gh.DEFAULT_TIMEOUT,this.logger=(s=b.logger)!==null&&s!==void 0?s:console;const N="warn";this.logLevel=N,this.logLevel=(l=(a=tb(b.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:tb(V0("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:N,this.fetchOptions=b.fetchOptions,this.maxRetries=(c=b.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(d=b.fetch)!==null&&d!==void 0?d:KL(),this.encoder=QL,this._options=b,this.apiKey=p,this.apiVersion=w,this.clientAdapter=b.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Rf([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Rf([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Rf([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new Gs(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ec}`}defaultIdempotencyKey(){return`stainless-node-retry-${UL()}`}makeStatusError(e,n,i,s){return Lr.generate(e,n,i,s)}buildURL(e,n,i){const s=!this.baseURLOverridden()&&i||this.baseURL,a=BL(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return HL(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(s=>Object.assign({method:e,path:n},s)))}request(e,n=null){return new im(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var s,a,l;const c=await e,d=(s=c.maxRetries)!==null&&s!==void 0?s:this.maxRetries;n==null&&(n=d),await this.prepareOptions(c);const{req:f,url:p,timeout:w}=await this.buildRequest(c,{retryCount:d-n});await this.prepareRequest(f,{url:p,options:c});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=i===void 0?"":`, retryOf: ${i}`,N=Date.now();if(Ir(this).debug(`[${S}] sending request`,cu({retryOfRequestLogID:i,method:c.method,url:p,options:c,headers:f.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new Mg;const T=new AbortController,k=await this.fetchWithTimeout(p,f,w,T).catch(Lg),I=Date.now();if(k instanceof globalThis.Error){const U=`retrying, ${n} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new Mg;const H=Ig(k)||/timed? ?out/i.test(String(k)+("cause"in k?String(k.cause):""));if(n)return Ir(this).info(`[${S}] connection ${H?"timed out":"failed"} - ${U}`),Ir(this).debug(`[${S}] connection ${H?"timed out":"failed"} (${U})`,cu({retryOfRequestLogID:i,url:p,durationMs:I-N,message:k.message})),this.retryRequest(c,n,i??S);throw Ir(this).info(`[${S}] connection ${H?"timed out":"failed"} - error; no more retries left`),Ir(this).debug(`[${S}] connection ${H?"timed out":"failed"} (error; no more retries left)`,cu({retryOfRequestLogID:i,url:p,durationMs:I-N,message:k.message})),H?new u_:new Hh({cause:k})}const F=`[${S}${b}] ${f.method} ${p} ${k.ok?"succeeded":"failed"} with status ${k.status} in ${I-N}ms`;if(!k.ok){const U=await this.shouldRetry(k);if(n&&U){const V=`retrying, ${n} attempts remaining`;return await ZL(k.body),Ir(this).info(`${F} - ${V}`),Ir(this).debug(`[${S}] response error (${V})`,cu({retryOfRequestLogID:i,url:k.url,status:k.status,headers:k.headers,durationMs:I-N})),this.retryRequest(c,n,i??S,k.headers)}const H=U?"error; no more retries left":"error; not retryable";Ir(this).info(`${F} - ${H}`);const ae=await k.text().catch(V=>Lg(V).message),de=jL(ae),re=de?void 0:ae;throw Ir(this).debug(`[${S}] response error (${H})`,cu({retryOfRequestLogID:i,url:k.url,status:k.status,headers:k.headers,message:re,durationMs:Date.now()-N})),this.makeStatusError(k.status,de,re,k.headers)}return Ir(this).info(F),Ir(this).debug(`[${S}] response start`,cu({retryOfRequestLogID:i,url:k.url,status:k.status,headers:k.headers,durationMs:I-N})),{response:k,options:c,controller:T,requestLogID:S,retryOfRequestLogID:i,startTime:N}}async fetchWithTimeout(e,n,i,s){const a=n||{},{signal:l,method:c}=a,d=Ch(a,["signal","method"]);l&&l.addEventListener("abort",()=>s.abort());const f=setTimeout(()=>s.abort(),i),p=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,w=Object.assign(Object.assign(Object.assign({signal:s.signal},p?{duplex:"half"}:{}),{method:"GET"}),d);c&&(w.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,w)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,s){var a;let l;const c=s==null?void 0:s.get("retry-after-ms");if(c){const f=parseFloat(c);Number.isNaN(f)||(l=f)}const d=s==null?void 0:s.get("retry-after");if(d&&!l){const f=parseFloat(d);Number.isNaN(f)?l=Date.parse(d)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await VL(l),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,l=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,s,a;const l=Object.assign({},e),{method:c,path:d,query:f,defaultBaseURL:p}=l,w=this.buildURL(d,f,p);"timeout"in l&&GL("timeout",l.timeout),l.timeout=(i=l.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:S,body:b}=this.buildBody({options:l}),N=await this.buildHeaders({options:e,method:c,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:N},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(a=l.fetchOptions)!==null&&a!==void 0?a:{}),url:w,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:s}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let c=Rf([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),YL()),this._options.defaultHeaders,i,e.headers,l]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=Rf([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:XL(e)}:this.encoder({body:e,headers:i})}}Gh.DEFAULT_TIMEOUT=6e4;class Qi extends Gh{constructor(){super(...arguments),this.interactions=new E_(this)}}N_=Qi;Qi.GeminiNextGenAPIClient=N_;Qi.GeminiNextGenAPIClientError=Gs;Qi.APIError=Lr;Qi.APIConnectionError=Hh;Qi.APIConnectionTimeoutError=u_;Qi.APIUserAbortError=Mg;Qi.NotFoundError=h_;Qi.ConflictError=p_;Qi.RateLimitError=m_;Qi.BadRequestError=c_;Qi.AuthenticationError=f_;Qi.InternalServerError=v_;Qi.PermissionDeniedError=d_;Qi.UnprocessableEntityError=g_;Qi.toFile=rM;Qi.Interactions=E_;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vM(t,e){const n={},i=g(t,["name"]);return i!=null&&v(n,["_url","name"],i),n}function yM(t,e){const n={},i=g(t,["name"]);return i!=null&&v(n,["_url","name"],i),n}function bM(t,e){const n={},i=g(t,["sdkHttpResponse"]);return i!=null&&v(n,["sdkHttpResponse"],i),n}function wM(t,e){const n={},i=g(t,["sdkHttpResponse"]);return i!=null&&v(n,["sdkHttpResponse"],i),n}function _M(t,e,n){const i={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=g(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&v(e,["displayName"],s),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=g(t,["epochCount"]);e!==void 0&&a!=null&&v(e,["tuningTask","hyperparameters","epochCount"],a);const l=g(t,["learningRateMultiplier"]);if(l!=null&&v(i,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=g(t,["batchSize"]);e!==void 0&&c!=null&&v(e,["tuningTask","hyperparameters","batchSize"],c);const d=g(t,["learningRate"]);if(e!==void 0&&d!=null&&v(e,["tuningTask","hyperparameters","learningRate"],d),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function SM(t,e,n){const i={};let s=g(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const b=g(t,["validationDataset"]);e!==void 0&&b!=null&&v(e,["supervisedTuningSpec"],ib(b))}else if(s==="PREFERENCE_TUNING"){const b=g(t,["validationDataset"]);e!==void 0&&b!=null&&v(e,["preferenceOptimizationSpec"],ib(b))}const a=g(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&v(e,["tunedModelDisplayName"],a);const l=g(t,["description"]);e!==void 0&&l!=null&&v(e,["description"],l);let c=g(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const b=g(t,["epochCount"]);e!==void 0&&b!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(c==="PREFERENCE_TUNING"){const b=g(t,["epochCount"]);e!==void 0&&b!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const b=g(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(d==="PREFERENCE_TUNING"){const b=g(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const b=g(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(f==="PREFERENCE_TUNING"){const b=g(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&v(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let p=g(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const b=g(t,["adapterSize"]);e!==void 0&&b!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(p==="PREFERENCE_TUNING"){const b=g(t,["adapterSize"]);e!==void 0&&b!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const w=g(t,["labels"]);e!==void 0&&w!=null&&v(e,["labels"],w);const S=g(t,["beta"]);return e!==void 0&&S!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),i}function xM(t,e){const n={},i=g(t,["baseModel"]);i!=null&&v(n,["baseModel"],i);const s=g(t,["preTunedModel"]);s!=null&&v(n,["preTunedModel"],s);const a=g(t,["trainingDataset"]);a!=null&&PM(a);const l=g(t,["config"]);return l!=null&&_M(l,n),n}function AM(t,e){const n={},i=g(t,["baseModel"]);i!=null&&v(n,["baseModel"],i);const s=g(t,["preTunedModel"]);s!=null&&v(n,["preTunedModel"],s);const a=g(t,["trainingDataset"]);a!=null&&DM(a,n,e);const l=g(t,["config"]);return l!=null&&SM(l,n,e),n}function EM(t,e){const n={},i=g(t,["name"]);return i!=null&&v(n,["_url","name"],i),n}function TM(t,e){const n={},i=g(t,["name"]);return i!=null&&v(n,["_url","name"],i),n}function NM(t,e,n){const i={},s=g(t,["pageSize"]);e!==void 0&&s!=null&&v(e,["_query","pageSize"],s);const a=g(t,["pageToken"]);e!==void 0&&a!=null&&v(e,["_query","pageToken"],a);const l=g(t,["filter"]);return e!==void 0&&l!=null&&v(e,["_query","filter"],l),i}function CM(t,e,n){const i={},s=g(t,["pageSize"]);e!==void 0&&s!=null&&v(e,["_query","pageSize"],s);const a=g(t,["pageToken"]);e!==void 0&&a!=null&&v(e,["_query","pageToken"],a);const l=g(t,["filter"]);return e!==void 0&&l!=null&&v(e,["_query","filter"],l),i}function RM(t,e){const n={},i=g(t,["config"]);return i!=null&&NM(i,n),n}function kM(t,e){const n={},i=g(t,["config"]);return i!=null&&CM(i,n),n}function IM(t,e){const n={},i=g(t,["sdkHttpResponse"]);i!=null&&v(n,["sdkHttpResponse"],i);const s=g(t,["nextPageToken"]);s!=null&&v(n,["nextPageToken"],s);const a=g(t,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>C_(c))),v(n,["tuningJobs"],l)}return n}function LM(t,e){const n={},i=g(t,["sdkHttpResponse"]);i!=null&&v(n,["sdkHttpResponse"],i);const s=g(t,["nextPageToken"]);s!=null&&v(n,["nextPageToken"],s);const a=g(t,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Ug(c))),v(n,["tuningJobs"],l)}return n}function MM(t,e){const n={},i=g(t,["name"]);i!=null&&v(n,["model"],i);const s=g(t,["name"]);return s!=null&&v(n,["endpoint"],s),n}function PM(t,e){const n={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=g(t,["examples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),v(n,["examples","examples"],s)}return n}function DM(t,e,n){const i={};let s=g(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=g(t,["gcsUri"]);e!==void 0&&l!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=g(t,["gcsUri"]);e!==void 0&&l!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=g(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=g(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function C_(t,e){const n={},i=g(t,["sdkHttpResponse"]);i!=null&&v(n,["sdkHttpResponse"],i);const s=g(t,["name"]);s!=null&&v(n,["name"],s);const a=g(t,["state"]);a!=null&&v(n,["state"],jw(a));const l=g(t,["createTime"]);l!=null&&v(n,["createTime"],l);const c=g(t,["tuningTask","startTime"]);c!=null&&v(n,["startTime"],c);const d=g(t,["tuningTask","completeTime"]);d!=null&&v(n,["endTime"],d);const f=g(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const p=g(t,["description"]);p!=null&&v(n,["description"],p);const w=g(t,["baseModel"]);w!=null&&v(n,["baseModel"],w);const S=g(t,["_self"]);return S!=null&&v(n,["tunedModel"],MM(S)),n}function Ug(t,e){const n={},i=g(t,["sdkHttpResponse"]);i!=null&&v(n,["sdkHttpResponse"],i);const s=g(t,["name"]);s!=null&&v(n,["name"],s);const a=g(t,["state"]);a!=null&&v(n,["state"],jw(a));const l=g(t,["createTime"]);l!=null&&v(n,["createTime"],l);const c=g(t,["startTime"]);c!=null&&v(n,["startTime"],c);const d=g(t,["endTime"]);d!=null&&v(n,["endTime"],d);const f=g(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const p=g(t,["error"]);p!=null&&v(n,["error"],p);const w=g(t,["description"]);w!=null&&v(n,["description"],w);const S=g(t,["baseModel"]);S!=null&&v(n,["baseModel"],S);const b=g(t,["tunedModel"]);b!=null&&v(n,["tunedModel"],b);const N=g(t,["preTunedModel"]);N!=null&&v(n,["preTunedModel"],N);const T=g(t,["supervisedTuningSpec"]);T!=null&&v(n,["supervisedTuningSpec"],T);const k=g(t,["preferenceOptimizationSpec"]);k!=null&&v(n,["preferenceOptimizationSpec"],k);const I=g(t,["tuningDataStats"]);I!=null&&v(n,["tuningDataStats"],I);const F=g(t,["encryptionSpec"]);F!=null&&v(n,["encryptionSpec"],F);const U=g(t,["partnerModelTuningSpec"]);U!=null&&v(n,["partnerModelTuningSpec"],U);const H=g(t,["customBaseModel"]);H!=null&&v(n,["customBaseModel"],H);const ae=g(t,["experiment"]);ae!=null&&v(n,["experiment"],ae);const de=g(t,["labels"]);de!=null&&v(n,["labels"],de);const re=g(t,["outputUri"]);re!=null&&v(n,["outputUri"],re);const se=g(t,["pipelineJob"]);se!=null&&v(n,["pipelineJob"],se);const V=g(t,["serviceAccount"]);V!=null&&v(n,["serviceAccount"],V);const ge=g(t,["tunedModelDisplayName"]);ge!=null&&v(n,["tunedModelDisplayName"],ge);const q=g(t,["veoTuningSpec"]);return q!=null&&v(n,["veoTuningSpec"],q),n}function UM(t,e){const n={},i=g(t,["sdkHttpResponse"]);i!=null&&v(n,["sdkHttpResponse"],i);const s=g(t,["name"]);s!=null&&v(n,["name"],s);const a=g(t,["metadata"]);a!=null&&v(n,["metadata"],a);const l=g(t,["done"]);l!=null&&v(n,["done"],l);const c=g(t,["error"]);return c!=null&&v(n,["error"],c),n}function ib(t,e){const n={},i=g(t,["gcsUri"]);i!=null&&v(n,["validationDatasetUri"],i);const s=g(t,["vertexDatasetResource"]);return s!=null&&v(n,["validationDatasetUri"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OM extends Ba{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wu(Ua.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:s});return a.baseModel=void 0,await this.tuneInternal(a)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),a=await this.tuneMldevInternal(s);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:Ag.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=TM(e);return c=Ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>Ug(p))}else{const f=EM(e);return c=Ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>C_(p))}}async listInternal(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=kM(e);return c=Ye("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=LM(p),S=new R5;return Object.assign(S,w),S})}else{const f=RM(e);return c=Ye("tunedModels",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=IM(p),S=new R5;return Object.assign(S,w),S})}}async cancel(e){var n,i,s,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=yM(e);return c=Ye("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=wM(p),S=new k5;return Object.assign(S,w),S})}else{const f=vM(e);return c=Ye("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const w=bM(p),S=new k5;return Object.assign(S,w),S})}}async tuneInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=AM(e,e);return a=Ye("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>Ug(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=xM(e);return a=Ye("tunedModels",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>UM(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BM{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const FM=1024*1024*8,qM=3,HM=1e3,zM=2,kh="x-goog-upload-status";async function GM(t,e,n){var i;const s=await R_(t,e,n),a=await(s==null?void 0:s.json());if(((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[kh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function jM(t,e,n){var i;const s=await R_(t,e,n),a=await(s==null?void 0:s.json());if(((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[kh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Bw(a),c=new Kg;return Object.assign(c,l),c}async function R_(t,e,n){var i,s;let a=0,l=0,c=new Eg(new Response),d="upload";for(a=t.size;l<a;){const f=Math.min(FM,a-l),p=t.slice(l,l+f);l+f>=a&&(d+=", finalize");let w=0,S=HM;for(;w<qM&&(c=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[kh]));)w++,await $M(S),S=S*zM;if(l+=f,((s=c==null?void 0:c.headers)===null||s===void 0?void 0:s[kh])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function VM(t){return{size:t.size,type:t.type}}function $M(t){return new Promise(e=>setTimeout(e,t))}class JM{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GM(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jM(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await VM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WM{create(e,n,i){return new YM(e,n,i)}}class YM{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rb="x-goog-api-key";class KM{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(rb)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(rb,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XM="gl-node/";class ZM{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Qi({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=$C(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new KM(this.apiKey);this.apiClient=new VI({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:XM+"web",uploader:new JM,downloader:new BM}),this.models=new cL(this.apiClient),this.live=new rL(this.apiClient,s,new WM),this.batches=new _R(this.apiClient),this.chats=new nk(this.models,this.apiClient),this.caches=new QR(this.apiClient),this.files=new dk(this.apiClient),this.operations=new fL(this.apiClient),this.authTokens=new NL(this.apiClient),this.tunings=new OM(this.apiClient),this.fileSearchStores=new DL(this.apiClient)}}const k_={modelName:"gemini-3-flash-preview",apiKey:"AIzaSyC4x8kjOCutn6XJtPDL_vkBsl2WizyU8kM"},QM=(t,e,n)=>{let i=t*.033;return i=i*({sedentary:1,light:1.1,moderate:1.25,active:1.4,athlete:1.6}[e]||1),n&&(i+=.8),parseFloat(i.toFixed(1))},e7=(t,e,n,i,s)=>{const a=t/(e/100)**2;let l=t;if(a>30){const p=e/2.54,S=(i==="male"?50:45.5)+2.3*(p-60);l=S+.4*(t-S)}let c=10*l+6.25*e-5*n;return c+=i==="male"?5:-161,/thyroid|levo|synthroid|hashimoto/i.test(s)&&(c=c*.9),Math.round(c)},t7=(t,e)=>Math.round(t*({sedentary:1.2,light:1.375,moderate:1.55,active:1.725,athlete:1.9}[e]||1.2)),$0=(t,e)=>{const n=(t.medications||"")+" "+(t.allergies||""),i=/diabetes|insulin|metformin|sugar/i.test(n),s=/kidney|renal|ckd|dialysis/i.test(n),a=/pcos|polycystic/i.test(n);let l=1;t.goal==="lose"&&(l=1.8),(t.activity==="active"||t.activity==="athlete")&&(l=2),t.goal==="gain"&&(l=2.2),t.age>50&&(l+=.2),(t.isPregnant||t.isBreastfeeding)&&(l=Math.max(l,1.5)),s&&(l=.8);let c=Math.round(t.weight*l);c>250&&(c=250);let d=.9;t.dietType==="Keto"&&(d=2.5),t.dietType==="Low Carb"&&(d=1.2),a&&(d=Math.max(d,1.1));let f=Math.round(t.weight*d);const p=c*4,w=f*9;let S=e-(p+w);S<0&&(f=Math.max(30,f-Math.abs(Math.round(S/9))),S=e-c*4-f*9),S<0&&(c=Math.round((e-f*9)/4),S=0);let b=Math.round(S/4);if(t.dietType==="Keto"){b=Math.min(b,30);const N=S-b*4;f+=Math.round(N/9)}else if(a){const N=e*.4,T=Math.round(N/4);if(b>T){const k=b-T;b=T,f+=Math.round(k*4/9)}}return{protein:c,fats:f,carbs:b,calories:e,fiber:25+(t.gender==="male"?10:0),sugar:i||a?25:void 0}},sb={gluten:["wheat","rye","barley","malt","seitan","soy sauce","bread","pasta","flour","beer"],dairy:["milk","cheese","yogurt","butter","cream","whey","casein","ghee","lactose"],nut:["peanut","almond","cashew","walnut","pecan","pistachio","macadamia","hazelnut"],peanut:["satay","arachis"],egg:["albumin","mayonnaise","meringue"],soy:["tofu","tempeh","edamame","miso","soya","tamari"],shellfish:["shrimp","crab","lobster","prawn","mussel","oyster","clam","scallop"],seafood:["fish","tuna","salmon","cod","tilapia","shrimp","crab","lobster"]},rh=(t,e)=>{if(!e||e.length<3)return t;const n=e.toLowerCase().split(/,|;/).map(l=>l.trim()).filter(l=>l.length>2),i=t.ingredients.join(" ").toLowerCase(),s=t.name.toLowerCase();let a=null;for(const l of n){if(i.includes(l)||s.includes(l)){a=`CRITICAL WARNING: Contains '${l}'.`;break}if(sb[l]){for(const c of sb[l])if(i.includes(c)||s.includes(c)){a=`CRITICAL WARNING: Contains '${c}' (Hidden ${l} source).`;break}}if(a)break}return a?{...t,warning:a}:t},n7={type:St.OBJECT,properties:{p:{type:St.NUMBER},c:{type:St.NUMBER},f:{type:St.NUMBER},fiber:{type:St.NUMBER},sugar:{type:St.NUMBER},sodium:{type:St.NUMBER}},required:["p","c","f"]},sh={type:St.OBJECT,properties:{name:{type:St.STRING},description:{type:St.STRING},ingredients:{type:St.ARRAY,items:{type:St.STRING}},instructions:{type:St.ARRAY,items:{type:St.STRING}},calories:{type:St.NUMBER},macros:n7,sideDish:{type:St.STRING},warning:{type:St.STRING}},required:["name","ingredients","instructions","calories","macros"]},i7={type:St.OBJECT,properties:{protein:{type:St.NUMBER},carbs:{type:St.NUMBER},fats:{type:St.NUMBER},fiber:{type:St.NUMBER},calories:{type:St.NUMBER}},required:["protein","carbs","fats","calories"]},I_={type:St.OBJECT,properties:{dayIndex:{type:St.INTEGER},meals:{type:St.OBJECT,properties:{breakfast:sh,lunch:sh,dinner:sh,snack:sh},required:["breakfast","lunch","dinner"]},dailyMacros:i7},required:["meals","dailyMacros","dayIndex"]},L_={type:St.OBJECT,properties:{category:{type:St.STRING},items:{type:St.ARRAY,items:{type:St.STRING}}},required:["category","items"]},r7={type:St.OBJECT,properties:{safetyVerification:{type:St.STRING},medicationAnalysis:{type:St.STRING},climateAnalysis:{type:St.OBJECT,properties:{isHot:{type:St.BOOLEAN},advice:{type:St.STRING}},required:["isHot","advice"]},budgetStrategy:{type:St.STRING},pantryTips:{type:St.STRING},phaseName:{type:St.STRING},weekTemplate:{type:St.ARRAY,items:I_},shoppingList:{type:St.ARRAY,items:L_}},required:["safetyVerification","phaseName","weekTemplate","shoppingList","climateAnalysis","budgetStrategy"]},ob={type:St.OBJECT,properties:{phaseName:{type:St.STRING},weekTemplate:{type:St.ARRAY,items:I_},shoppingList:{type:St.ARRAY,items:L_}},required:["phaseName","weekTemplate","shoppingList"]},s7=t=>new Promise(e=>setTimeout(e,t)),o7=t=>{let e=t.replace(/```json\n?|\n?```/g,"");const n=e.indexOf("{"),i=e.lastIndexOf("}");return n!==-1&&i!==-1&&(e=e.substring(n,i+1)),e},oh=t=>{const e=t.macros.p,n=t.macros.f,i=t.macros.c,s=t.macros.fiber||0,a=Math.max(0,i-s),l=e*4+n*9+a*4+s*2;return Math.abs(t.calories-l)>t.calories*.15?{...t,calories:Math.round(l)}:t},a7=async(t,e)=>{var ae;const n=new ZM({apiKey:k_.apiKey}),i=e7(t.weight,t.height,t.age,t.gender,t.medications),s=t7(i,t.activity),a=QM(t.weight,t.activity,t.isBreastfeeding),l=parseFloat((t.weight/(t.height/100)**2).toFixed(1));let c=s;const d=l<18.5;if(t.age<18)t.goal==="lose"?(c=s,e&&e("Safety Alert: Pediatric User (<18). Overriding 'Lose' goal to 'Maintain' to protect growth.")):t.goal==="gain"&&(c=Math.round(s*1.1));else if(t.isPregnant||t.isBreastfeeding)t.isPregnant?(c=t.goal==="gain"?Math.round(s*1.15):s,t.goal==="lose"&&e&&e("Notice: Pregnancy detected. Overriding 'Lose' goal to 'Maintain'.")):t.isBreastfeeding&&(c=s+500,e&&e("Medical Notice: Lactation detected. Adding +500kcal/day for milk supply."));else if(d)c=Math.round(s*1.2),e&&e("Medical Notice: BMI < 18.5 detected. Applying Refeeding Protocol (+20% Calories).");else{t.goal==="lose"&&(c=Math.round(s*.8)),t.goal==="gain"&&(c=Math.round(s*1.1));const de=t.gender==="male"?1500:1200;t.goal==="lose"&&c<de&&(c=de)}const f=$0(t,c),p=c,w=t.isPregnant||t.isBreastfeeding||t.age<18?c:t.goal==="lose"?Math.round(c*.95):Math.round(c*1.05),S=t.isPregnant||t.isBreastfeeding||t.age<18?c:t.goal==="lose"?Math.round(c*.9):Math.round(c*1.1),b=(de,re)=>`
    ACT AS: Michelin Nutritionist & Clinical Dietitian.
    DAILY CALORIES: ${de} kcal
    MACRO TARGETS: Protein ${re.protein}g | Fats ${re.fats}g | Carbs ${re.carbs}g
    DIET: ${t.dietType} | CUISINE: ${t.cuisine}
    ALLERGIES: ${t.allergies||"None"} | MEDICATIONS: ${t.medications||"None"}
    REGION: ${t.region||"Unknown"} | BUDGET: ${t.budgetAmount} ${t.currency}
    STRATEGY: ${t.mealStrategy} | SNACKS: ${t.includeSnacks}
    UNIT SYSTEM: ${t.unit.toUpperCase()}
  `;e&&e("Designing Month 1 (Ignition)...");const N=await J0(n,b(p,f)+`
Generate MONTH 1 (Week 1 Template).`,r7,6e4);e&&e("Evolving to Month 2 (Momentum)...");const T=$0(t,w),k=await J0(n,b(w,T)+`
Generate MONTH 2 (Week 1 Template).`,ob,6e4);e&&e("Finalizing Month 3 (Peak)...");const I=$0(t,S),F=await J0(n,b(S,I)+`
Generate MONTH 3 (Week 1 Template).`,ob,6e4);let U=a;(ae=N.climateAnalysis)!=null&&ae.isHot&&(U+=.3);const H=Math.min(parseFloat(U.toFixed(1)),5.5);return{userStats:{...t,bmr:i,tdee:s,bmi:l,waterTargetLitres:H,needsElectrolytes:H>3},safetyVerification:N.safetyVerification,medicationAnalysis:N.medicationAnalysis,climateAnalysis:N.climateAnalysis,budgetStrategy:N.budgetStrategy,pantryTips:N.pantryTips,roadmap:{month1:W0(1,N,p,H,t.includeSnacks,t.mealStrategy,t.allergies),month2:W0(2,k,w,H,t.includeSnacks,t.mealStrategy,t.allergies),month3:W0(3,F,S,H,t.includeSnacks,t.mealStrategy,t.allergies)}}};async function J0(t,e,n,i){let s=0;for(;s<2;)try{const a=await t.models.generateContent({model:k_.modelName,contents:[{role:"user",parts:[{text:e}]}],config:{responseMimeType:"application/json",responseSchema:n,maxOutputTokens:i}});return JSON.parse(o7(a.text||""))}catch{s++,await s7(3e3)}throw new Error("AI Generation Failed")}function W0(t,e,n,i,s,a,l){var d;const c=[];for(let f=0;f<4;f++)for(let p=0;p<7;p++){const w=e.weekTemplate[p]||e.weekTemplate[0],S=JSON.parse(JSON.stringify(w.meals));if(a==="leftovers"&&(p>0||f>0)){const b=p>0?e.weekTemplate[p-1].meals.dinner:e.weekTemplate[6].meals.dinner;S.lunch=JSON.parse(JSON.stringify(b)),S.lunch.name=`(Leftover) ${S.lunch.name}`}s||delete S.snack,S.breakfast=oh(S.breakfast),S.lunch=oh(S.lunch),S.dinner=oh(S.dinner),S.snack&&(S.snack=oh(S.snack)),S.breakfast=rh(S.breakfast,l),S.lunch=rh(S.lunch,l),S.dinner=rh(S.dinner,l),S.snack&&(S.snack=rh(S.snack,l)),c.push({day:f*7+p+1,meals:S,dailyMacros:{...w.dailyMacros,calories:S.breakfast.calories+S.lunch.calories+S.dinner.calories+(((d=S.snack)==null?void 0:d.calories)||0)},waterTarget:i})}return{monthIndex:t,phaseName:e.phaseName||`Phase ${t}`,targetCalories:n,dailyPlan:c,groceries:{week1:e.shoppingList,week2:e.shoppingList,week3:e.shoppingList,week4:e.shoppingList}}}const l7=()=>{var U,H;const[t,e]=cn.useState(null),[n,i]=cn.useState("wizard"),[s,a]=cn.useState("Initializing AI..."),[l,c]=cn.useState(null),[d,f]=cn.useState(!1),[p,w]=cn.useState(!1),[S,b]=cn.useState(!1),N=cn.useRef(!1);cn.useEffect(()=>{xo.auth.getSession().then(({data:{session:re}})=>{e(re),re&&(T(re.user.id),N.current||(La(re.user.id,"session_restored",{method:"auto"}),N.current=!0))});const{data:{subscription:ae}}=xo.auth.onAuthStateChange((re,se)=>{e(se),se?(T(se.user.id),w(!1),re==="SIGNED_IN"&&La(se.user.id,"user_login",{method:"auth_change"})):(c(null),f(!1),i("wizard"))});return new URLSearchParams(window.location.search).get("success")==="true"&&(b(!0),window.history.replaceState({},document.title,"/"),localStorage.setItem("dietly_temp_unlock",Date.now().toString()),f(!0)),()=>ae.unsubscribe()},[]);const T=async ae=>{try{const{data:de,error:re}=await xo.from("plans").select("*").eq("user_id",ae).single();if(re&&re.code!=="PGRST116"&&console.error("Error fetching plan:",re),de){c(de.data);const se=de.is_paid,V=localStorage.getItem("dietly_temp_unlock"),ge=V&&Date.now()-parseInt(V)<300*1e3;se||ge?(f(!0),se&&ge&&localStorage.removeItem("dietly_temp_unlock")):f(!1),i("dashboard")}}catch(de){console.error("DB Fetch Error",de)}},k=async ae=>{if(!t){w(!0);return}i("loading"),a("Starting Analysis..."),La(t.user.id,"generation_started",{inputs:ae});try{const de=await a7(ae,se=>{a(se)});c(de),i("dashboard"),localStorage.removeItem("dietly_wizard_data"),localStorage.removeItem("dietly_wizard_step");const{error:re}=await xo.from("plans").upsert({user_id:t.user.id,data:de,updated_at:new Date});re&&console.error("Failed to save to Cloud:",re),OC(t.user.id,de),La(t.user.id,"generation_complete",{calories:de.userStats.tdee,goal:de.userStats.goal})}catch(de){console.error(de),La(t.user.id,"generation_failed",{error:String(de)}),alert("Failed to generate plan. Please try again."),i("wizard")}},I=async()=>{t&&La(t.user.id,"user_logout"),await xo.auth.signOut(),i("wizard")},F=async()=>{window.confirm("Start over? This will generate a new plan.")&&(i("wizard"),t&&La(t.user.id,"app_reset_clicked"))};return L.jsxs("div",{className:"min-h-screen bg-light font-sans text-dark selection:bg-primary selection:text-white relative",children:[L.jsxs("nav",{className:"p-4 md:p-6 flex justify-between items-center sticky top-0 bg-light/80 backdrop-blur-md z-40 border-b border-slate-200",children:[L.jsxs("div",{className:"flex items-center gap-2 text-primary font-extrabold text-2xl tracking-tighter cursor-default",children:[L.jsx("div",{className:"bg-gradient-to-br from-primary to-emerald-400 text-white p-1.5 rounded-lg shadow-lg shadow-primary/30",children:L.jsx(K0,{className:"w-5 h-5 fill-white"})}),L.jsx("span",{className:"hidden md:inline bg-clip-text text-transparent bg-gradient-to-r from-primary to-emerald-700",children:"DietlyPlans"})]}),t?L.jsxs("div",{className:"flex gap-4",children:[n==="dashboard"&&L.jsx("button",{onClick:F,className:"text-sm font-bold text-slate-500 hover:text-primary transition-colors",children:"New Plan"}),L.jsxs("button",{onClick:I,className:"text-sm font-bold text-slate-400 hover:text-slate-600 flex items-center gap-1 transition-colors",children:[L.jsx(Yx,{className:"w-4 h-4"}),"Sign Out"]})]}):L.jsx("button",{onClick:()=>w(!0),className:"text-sm font-bold text-primary hover:text-primaryDark transition-colors",children:"Log In"})]}),L.jsxs("main",{className:"container mx-auto px-4 py-8 relative",children:[L.jsx("div",{className:"fixed top-20 left-10 w-72 h-72 bg-primary/5 rounded-full blur-3xl -z-10 animate-pulse"}),L.jsx("div",{className:"fixed bottom-20 right-10 w-96 h-96 bg-secondary/5 rounded-full blur-3xl -z-10"}),n==="wizard"&&L.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-500",children:[L.jsx("div",{className:"text-center mb-10 space-y-3",children:L.jsxs("h1",{className:"text-3xl md:text-5xl font-extrabold text-dark tracking-tight",children:[t?"Welcome back.":"Build your plan."," ",L.jsx("br",{}),L.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-emerald-600",children:t?"Let's build a new roadmap.":"Start your transformation freely."})]})}),L.jsx(RA,{onComplete:k,loading:!1})]}),n==="dashboard"&&l&&L.jsx("div",{className:"animate-in slide-in-from-bottom-10 fade-in duration-700",children:L.jsx(qC,{plan:l,isPaid:d,onUnlock:()=>{},userId:(U=t==null?void 0:t.user)==null?void 0:U.id,userEmail:(H=t==null?void 0:t.user)==null?void 0:H.email})}),n==="loading"&&L.jsxs("div",{className:"fixed inset-0 bg-light/95 backdrop-blur-md flex flex-col items-center justify-center z-50",children:[L.jsxs("div",{className:"relative mb-8",children:[L.jsx("div",{className:"w-24 h-24 border-4 border-slate-200 rounded-full"}),L.jsx("div",{className:"w-24 h-24 border-4 border-primary border-t-transparent rounded-full animate-spin absolute top-0 left-0"}),L.jsx(K0,{className:"w-8 h-8 text-primary absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-pulse"})]}),L.jsx("h2",{className:"text-3xl font-black text-dark tracking-tight animate-pulse transition-all duration-300",children:s}),L.jsx("div",{className:"w-64 h-2 bg-slate-200 rounded-full mt-6 overflow-hidden",children:L.jsx("div",{className:"h-full bg-primary animate-progress-indeterminate"})}),L.jsx("p",{className:"text-slate-400 mt-4 font-medium text-sm",children:"Saving to cloud... Syncing roadmap..."})]}),p&&L.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",children:L.jsxs("div",{className:"relative w-full max-w-md",children:[L.jsx("button",{onClick:()=>w(!1),className:"absolute -top-12 right-0 md:-right-12 text-white hover:text-slate-200 transition-colors",children:L.jsx(hb,{className:"w-8 h-8"})}),L.jsx(HC,{onLogin:()=>{w(!1)},isModal:!0})]})}),S&&L.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-emerald-900/40 backdrop-blur-md animate-in fade-in duration-500",children:L.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 max-w-sm w-full text-center shadow-2xl relative overflow-hidden animate-in zoom-in-95 duration-500",children:[L.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-emerald-500"}),L.jsx("div",{className:"w-20 h-20 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-6",children:L.jsx(Sx,{className:"w-10 h-10 text-emerald-600"})}),L.jsx("h2",{className:"text-2xl font-black text-dark mb-2",children:"You're In!"}),L.jsx("p",{className:"text-slate-500 font-medium mb-6",children:"Your plan is now fully unlocked. Welcome to the elite tier of DietlyPlans."}),L.jsx("button",{onClick:()=>b(!1),className:"w-full py-4 bg-emerald-500 hover:bg-emerald-600 text-white rounded-2xl font-bold text-lg shadow-lg shadow-emerald-200 active:scale-95 transition-all",children:"Let's Go"})]})})]}),L.jsx("footer",{className:"text-center p-8 text-slate-400 text-sm font-medium",children:" 2025 DietlyPlans AI. Not medical advice. Start today."}),L.jsx("style",{children:`
        @keyframes progress-indeterminate {
            0% { width: 0%; margin-left: 0%; }
            50% { width: 70%; margin-left: 30%; }
            100% { width: 0%; margin-left: 100%; }
        }
        .animate-progress-indeterminate {
            animation: progress-indeterminate 2s infinite ease-in-out;
        }
      `})]})},M_=document.getElementById("root");if(!M_)throw new Error("Could not find root element to mount to");const u7=ex.createRoot(M_);u7.render(L.jsx($S.StrictMode,{children:L.jsx(l7,{})}));export{Rn as _,f7 as c,ab as g};
